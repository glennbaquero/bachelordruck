var Zu=!1,Qu=!1,bo=[];function t0(r){r0(r)}function r0(r){bo.includes(r)||bo.push(r),n0()}function jg(r){let e=bo.indexOf(r);e!==-1&&bo.splice(e,1)}function n0(){!Qu&&!Zu&&(Zu=!0,queueMicrotask(i0))}function i0(){Zu=!1,Qu=!0;for(let r=0;r<bo.length;r++)bo[r]();bo.length=0,Qu=!1}var Ca,Is,gc,Wg,ep=!0;function o0(r){ep=!1,r(),ep=!0}function a0(r){Ca=r.reactive,gc=r.release,Is=e=>r.effect(e,{scheduler:t=>{ep?t0(t):t()}}),Wg=r.raw}function Df(r){Is=r}function s0(r){let e=()=>{};return[n=>{let i=Is(n);return r._x_effects||(r._x_effects=new Set,r._x_runEffects=()=>{r._x_effects.forEach(o=>o())}),r._x_effects.add(i),e=()=>{i!==void 0&&(r._x_effects.delete(i),gc(i))},i},()=>{e()}]}var Vg=[],Yg=[],qg=[];function l0(r){qg.push(r)}function Ug(r,e){typeof e=="function"?(r._x_cleanups||(r._x_cleanups=[]),r._x_cleanups.push(e)):(e=r,Yg.push(e))}function c0(r){Vg.push(r)}function u0(r,e,t){r._x_attributeCleanups||(r._x_attributeCleanups={}),r._x_attributeCleanups[e]||(r._x_attributeCleanups[e]=[]),r._x_attributeCleanups[e].push(t)}function Jg(r,e){!r._x_attributeCleanups||Object.entries(r._x_attributeCleanups).forEach(([t,n])=>{(e===void 0||e.includes(t))&&(n.forEach(i=>i()),delete r._x_attributeCleanups[t])})}var Kp=new MutationObserver(ed),Zp=!1;function Xg(){Kp.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Zp=!0}function p0(){d0(),Kp.disconnect(),Zp=!1}var Za=[],iu=!1;function d0(){Za=Za.concat(Kp.takeRecords()),Za.length&&!iu&&(iu=!0,queueMicrotask(()=>{f0(),iu=!1}))}function f0(){ed(Za),Za.length=0}function kr(r){if(!Zp)return r();p0();let e=r();return Xg(),e}var Qp=!1,El=[];function h0(){Qp=!0}function g0(){Qp=!1,ed(El),El=[]}function ed(r){if(Qp){El=El.concat(r);return}let e=[],t=[],n=new Map,i=new Map;for(let o=0;o<r.length;o++)if(!r[o].target._x_ignoreMutationObserver&&(r[o].type==="childList"&&(r[o].addedNodes.forEach(a=>a.nodeType===1&&e.push(a)),r[o].removedNodes.forEach(a=>a.nodeType===1&&t.push(a))),r[o].type==="attributes")){let a=r[o].target,s=r[o].attributeName,l=r[o].oldValue,c=()=>{n.has(a)||n.set(a,[]),n.get(a).push({name:s,value:a.getAttribute(s)})},u=()=>{i.has(a)||i.set(a,[]),i.get(a).push(s)};a.hasAttribute(s)&&l===null?c():a.hasAttribute(s)?(u(),c()):u()}i.forEach((o,a)=>{Jg(a,o)}),n.forEach((o,a)=>{Vg.forEach(s=>s(a,o))});for(let o of t)if(!e.includes(o)&&(Yg.forEach(a=>a(o)),o._x_cleanups))for(;o._x_cleanups.length;)o._x_cleanups.pop()();e.forEach(o=>{o._x_ignoreSelf=!0,o._x_ignore=!0});for(let o of e)t.includes(o)||!o.isConnected||(delete o._x_ignoreSelf,delete o._x_ignore,qg.forEach(a=>a(o)),o._x_ignore=!0,o._x_ignoreSelf=!0);e.forEach(o=>{delete o._x_ignoreSelf,delete o._x_ignore}),e=null,t=null,n=null,i=null}function Gg(r){return Fs(sa(r))}function zs(r,e,t){return r._x_dataStack=[e,...sa(t||r)],()=>{r._x_dataStack=r._x_dataStack.filter(n=>n!==e)}}function Af(r,e){let t=r._x_dataStack[0];Object.entries(e).forEach(([n,i])=>{t[n]=i})}function sa(r){return r._x_dataStack?r._x_dataStack:typeof ShadowRoot=="function"&&r instanceof ShadowRoot?sa(r.host):r.parentNode?sa(r.parentNode):[]}function Fs(r){let e=new Proxy({},{ownKeys:()=>Array.from(new Set(r.flatMap(t=>Object.keys(t)))),has:(t,n)=>r.some(i=>i.hasOwnProperty(n)),get:(t,n)=>(r.find(i=>{if(i.hasOwnProperty(n)){let o=Object.getOwnPropertyDescriptor(i,n);if(o.get&&o.get._x_alreadyBound||o.set&&o.set._x_alreadyBound)return!0;if((o.get||o.set)&&o.enumerable){let a=o.get,s=o.set,l=o;a=a&&a.bind(e),s=s&&s.bind(e),a&&(a._x_alreadyBound=!0),s&&(s._x_alreadyBound=!0),Object.defineProperty(i,n,{...l,get:a,set:s})}return!0}return!1})||{})[n],set:(t,n,i)=>{let o=r.find(a=>a.hasOwnProperty(n));return o?o[n]=i:r[r.length-1][n]=i,!0}});return e}function Kg(r){let e=n=>typeof n=="object"&&!Array.isArray(n)&&n!==null,t=(n,i="")=>{Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([o,{value:a,enumerable:s}])=>{if(s===!1||a===void 0)return;let l=i===""?o:`${i}.${o}`;typeof a=="object"&&a!==null&&a._x_interceptor?n[o]=a.initialize(r,l,o):e(a)&&a!==n&&!(a instanceof Element)&&t(a,l)})};return t(r)}function Zg(r,e=()=>{}){let t={initialValue:void 0,_x_interceptor:!0,initialize(n,i,o){return r(this.initialValue,()=>m0(n,i),a=>tp(n,i,a),i,o)}};return e(t),n=>{if(typeof n=="object"&&n!==null&&n._x_interceptor){let i=t.initialize.bind(t);t.initialize=(o,a,s)=>{let l=n.initialize(o,a,s);return t.initialValue=l,i(o,a,s)}}else t.initialValue=n;return t}}function m0(r,e){return e.split(".").reduce((t,n)=>t[n],r)}function tp(r,e,t){if(typeof e=="string"&&(e=e.split(".")),e.length===1)r[e[0]]=t;else{if(e.length===0)throw error;return r[e[0]]||(r[e[0]]={}),tp(r[e[0]],e.slice(1),t)}}var Qg={};function ui(r,e){Qg[r]=e}function rp(r,e){return Object.entries(Qg).forEach(([t,n])=>{Object.defineProperty(r,`$${t}`,{get(){let[i,o]=im(e);return i={interceptor:Zg,...i},Ug(e,o),n(e,i)},enumerable:!1})}),r}function v0(r,e,t,...n){try{return t(...n)}catch(i){fs(i,r,e)}}function fs(r,e,t=void 0){Object.assign(r,{el:e,expression:t}),console.warn(`Alpine Expression Error: ${r.message}

${t?'Expression: "'+t+`"

`:""}`,e),setTimeout(()=>{throw r},0)}function Zo(r,e,t={}){let n;return nn(r,e)(i=>n=i,t),n}function nn(...r){return em(...r)}var em=tm;function b0(r){em=r}function tm(r,e){let t={};rp(t,r);let n=[t,...sa(r)];if(typeof e=="function")return w0(n,e);let i=x0(n,e,r);return v0.bind(null,r,e,i)}function w0(r,e){return(t=()=>{},{scope:n={},params:i=[]}={})=>{let o=e.apply(Fs([n,...r]),i);Dl(t,o)}}var ou={};function y0(r,e){if(ou[r])return ou[r];let t=Object.getPrototypeOf(async function(){}).constructor,n=/^[\n\s]*if.*\(.*\)/.test(r)||/^(let|const)\s/.test(r)?`(() => { ${r} })()`:r,o=(()=>{try{return new t(["__self","scope"],`with (scope) { __self.result = ${n} }; __self.finished = true; return __self.result;`)}catch(a){return fs(a,e,r),Promise.resolve()}})();return ou[r]=o,o}function x0(r,e,t){let n=y0(e,t);return(i=()=>{},{scope:o={},params:a=[]}={})=>{n.result=void 0,n.finished=!1;let s=Fs([o,...r]);if(typeof n=="function"){let l=n(n,s).catch(c=>fs(c,t,e));n.finished?(Dl(i,n.result,s,a,t),n.result=void 0):l.then(c=>{Dl(i,c,s,a,t)}).catch(c=>fs(c,t,e)).finally(()=>n.result=void 0)}}}function Dl(r,e,t,n,i){if(typeof e=="function"){let o=e.apply(t,n);o instanceof Promise?o.then(a=>Dl(r,a,t,n)).catch(a=>fs(a,i,e)):r(o)}else r(e)}var td="x-";function Sa(r=""){return td+r}function k0(r){td=r}var rm={};function cr(r,e){rm[r]=e}function rd(r,e,t){let n={};return Array.from(e).map(sm((o,a)=>n[o]=a)).filter(cm).map(D0(n,t)).sort(A0).map(o=>E0(r,o))}function C0(r){return Array.from(r).map(sm()).filter(e=>!cm(e))}var np=!1,Va=new Map,nm=Symbol();function S0(r){np=!0;let e=Symbol();nm=e,Va.set(e,[]);let t=()=>{for(;Va.get(e).length;)Va.get(e).shift()();Va.delete(e)},n=()=>{np=!1,t()};r(t),n()}function im(r){let e=[],t=s=>e.push(s),[n,i]=s0(r);return e.push(i),[{Alpine:Rs,effect:n,cleanup:t,evaluateLater:nn.bind(nn,r),evaluate:Zo.bind(Zo,r)},()=>e.forEach(s=>s())]}function E0(r,e){let t=()=>{},n=rm[e.type]||t,[i,o]=im(r);u0(r,e.original,o);let a=()=>{r._x_ignore||r._x_ignoreSelf||(n.inline&&n.inline(r,e,i),n=n.bind(n,r,e,i),np?Va.get(nm).push(n):n())};return a.runCleanups=o,a}var om=(r,e)=>({name:t,value:n})=>(t.startsWith(r)&&(t=t.replace(r,e)),{name:t,value:n}),am=r=>r;function sm(r=()=>{}){return({name:e,value:t})=>{let{name:n,value:i}=lm.reduce((o,a)=>a(o),{name:e,value:t});return n!==e&&r(n,e),{name:n,value:i}}}var lm=[];function nd(r){lm.push(r)}function cm({name:r}){return um().test(r)}var um=()=>new RegExp(`^${td}([^:^.]+)\\b`);function D0(r,e){return({name:t,value:n})=>{let i=t.match(um()),o=t.match(/:([a-zA-Z0-9\-:]+)/),a=t.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],s=e||r[t]||t;return{type:i?i[1]:null,value:o?o[1]:null,modifiers:a.map(l=>l.replace(".","")),expression:n,original:s}}}var ip="DEFAULT",Js=["ignore","ref","data","id","bind","init","for","model","modelable","transition","show","if",ip,"teleport","element"];function A0(r,e){let t=Js.indexOf(r.type)===-1?ip:r.type,n=Js.indexOf(e.type)===-1?ip:e.type;return Js.indexOf(t)-Js.indexOf(n)}function Qa(r,e,t={}){r.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0,cancelable:!0}))}var op=[],id=!1;function pm(r){op.push(r),queueMicrotask(()=>{id||setTimeout(()=>{ap()})})}function ap(){for(id=!1;op.length;)op.shift()()}function T0(){id=!0}function Do(r,e){if(typeof ShadowRoot=="function"&&r instanceof ShadowRoot){Array.from(r.children).forEach(i=>Do(i,e));return}let t=!1;if(e(r,()=>t=!0),t)return;let n=r.firstElementChild;for(;n;)Do(n,e),n=n.nextElementSibling}function la(r,...e){console.warn(`Alpine Warning: ${r}`,...e)}function M0(){document.body||la("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Qa(document,"alpine:init"),Qa(document,"alpine:initializing"),Xg(),l0(e=>Xi(e,Do)),Ug(e=>_0(e)),c0((e,t)=>{rd(e,t).forEach(n=>n())});let r=e=>!mc(e.parentElement,!0);Array.from(document.querySelectorAll(hm())).filter(r).forEach(e=>{Xi(e)}),Qa(document,"alpine:initialized")}var od=[],dm=[];function fm(){return od.map(r=>r())}function hm(){return od.concat(dm).map(r=>r())}function gm(r){od.push(r)}function mm(r){dm.push(r)}function mc(r,e=!1){return vc(r,t=>{if((e?hm():fm()).some(i=>t.matches(i)))return!0})}function vc(r,e){if(!!r){if(e(r))return r;if(r._x_teleportBack&&(r=r._x_teleportBack),!!r.parentElement)return vc(r.parentElement,e)}}function O0(r){return fm().some(e=>r.matches(e))}function Xi(r,e=Do){S0(()=>{e(r,(t,n)=>{rd(t,t.attributes).forEach(i=>i()),t._x_ignore&&n()})})}function _0(r){Do(r,e=>Jg(e))}function ad(r,e){return Array.isArray(e)?Tf(r,e.join(" ")):typeof e=="object"&&e!==null?N0(r,e):typeof e=="function"?ad(r,e()):Tf(r,e)}function Tf(r,e){let t=i=>i.split(" ").filter(o=>!r.classList.contains(o)).filter(Boolean),n=i=>(r.classList.add(...i),()=>{r.classList.remove(...i)});return e=e===!0?e="":e||"",n(t(e))}function N0(r,e){let t=s=>s.split(" ").filter(Boolean),n=Object.entries(e).flatMap(([s,l])=>l?t(s):!1).filter(Boolean),i=Object.entries(e).flatMap(([s,l])=>l?!1:t(s)).filter(Boolean),o=[],a=[];return i.forEach(s=>{r.classList.contains(s)&&(r.classList.remove(s),a.push(s))}),n.forEach(s=>{r.classList.contains(s)||(r.classList.add(s),o.push(s))}),()=>{a.forEach(s=>r.classList.add(s)),o.forEach(s=>r.classList.remove(s))}}function bc(r,e){return typeof e=="object"&&e!==null?P0(r,e):I0(r,e)}function P0(r,e){let t={};return Object.entries(e).forEach(([n,i])=>{t[n]=r.style[n],n.startsWith("--")||(n=z0(n)),r.style.setProperty(n,i)}),setTimeout(()=>{r.style.length===0&&r.removeAttribute("style")}),()=>{bc(r,t)}}function I0(r,e){let t=r.getAttribute("style",e);return r.setAttribute("style",e),()=>{r.setAttribute("style",t||"")}}function z0(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function sp(r,e=()=>{}){let t=!1;return function(){t?e.apply(this,arguments):(t=!0,r.apply(this,arguments))}}cr("transition",(r,{value:e,modifiers:t,expression:n},{evaluate:i})=>{typeof n=="function"&&(n=i(n)),n?F0(r,n,e):R0(r,t,e)});function F0(r,e,t){vm(r,ad,""),{enter:i=>{r._x_transition.enter.during=i},"enter-start":i=>{r._x_transition.enter.start=i},"enter-end":i=>{r._x_transition.enter.end=i},leave:i=>{r._x_transition.leave.during=i},"leave-start":i=>{r._x_transition.leave.start=i},"leave-end":i=>{r._x_transition.leave.end=i}}[t](e)}function R0(r,e,t){vm(r,bc);let n=!e.includes("in")&&!e.includes("out")&&!t,i=n||e.includes("in")||["enter"].includes(t),o=n||e.includes("out")||["leave"].includes(t);e.includes("in")&&!n&&(e=e.filter((b,v)=>v<e.indexOf("out"))),e.includes("out")&&!n&&(e=e.filter((b,v)=>v>e.indexOf("out")));let a=!e.includes("opacity")&&!e.includes("scale"),s=a||e.includes("opacity"),l=a||e.includes("scale"),c=s?0:1,u=l?Fa(e,"scale",95)/100:1,p=Fa(e,"delay",0),d=Fa(e,"origin","center"),h="opacity, transform",f=Fa(e,"duration",150)/1e3,g=Fa(e,"duration",75)/1e3,m="cubic-bezier(0.4, 0.0, 0.2, 1)";i&&(r._x_transition.enter.during={transformOrigin:d,transitionDelay:p,transitionProperty:h,transitionDuration:`${f}s`,transitionTimingFunction:m},r._x_transition.enter.start={opacity:c,transform:`scale(${u})`},r._x_transition.enter.end={opacity:1,transform:"scale(1)"}),o&&(r._x_transition.leave.during={transformOrigin:d,transitionDelay:p,transitionProperty:h,transitionDuration:`${g}s`,transitionTimingFunction:m},r._x_transition.leave.start={opacity:1,transform:"scale(1)"},r._x_transition.leave.end={opacity:c,transform:`scale(${u})`})}function vm(r,e,t={}){r._x_transition||(r._x_transition={enter:{during:t,start:t,end:t},leave:{during:t,start:t,end:t},in(n=()=>{},i=()=>{}){lp(r,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},n,i)},out(n=()=>{},i=()=>{}){lp(r,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},n,i)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(r,e,t,n){let i=()=>{document.visibilityState==="visible"?requestAnimationFrame(t):setTimeout(t)};if(e){r._x_transition&&(r._x_transition.enter||r._x_transition.leave)?r._x_transition.enter&&(Object.entries(r._x_transition.enter.during).length||Object.entries(r._x_transition.enter.start).length||Object.entries(r._x_transition.enter.end).length)?r._x_transition.in(t):i():r._x_transition?r._x_transition.in(t):i();return}r._x_hidePromise=r._x_transition?new Promise((o,a)=>{r._x_transition.out(()=>{},()=>o(n)),r._x_transitioning.beforeCancel(()=>a({isFromCancelledTransition:!0}))}):Promise.resolve(n),queueMicrotask(()=>{let o=bm(r);o?(o._x_hideChildren||(o._x_hideChildren=[]),o._x_hideChildren.push(r)):queueMicrotask(()=>{let a=s=>{let l=Promise.all([s._x_hidePromise,...(s._x_hideChildren||[]).map(a)]).then(([c])=>c());return delete s._x_hidePromise,delete s._x_hideChildren,l};a(r).catch(s=>{if(!s.isFromCancelledTransition)throw s})})})};function bm(r){let e=r.parentNode;if(!!e)return e._x_hidePromise?e:bm(e)}function lp(r,e,{during:t,start:n,end:i}={},o=()=>{},a=()=>{}){if(r._x_transitioning&&r._x_transitioning.cancel(),Object.keys(t).length===0&&Object.keys(n).length===0&&Object.keys(i).length===0){o(),a();return}let s,l,c;L0(r,{start(){s=e(r,n)},during(){l=e(r,t)},before:o,end(){s(),c=e(r,i)},after:a,cleanup(){l(),c()}})}function L0(r,e){let t,n,i,o=sp(()=>{kr(()=>{t=!0,n||e.before(),i||(e.end(),ap()),e.after(),r.isConnected&&e.cleanup(),delete r._x_transitioning})});r._x_transitioning={beforeCancels:[],beforeCancel(a){this.beforeCancels.push(a)},cancel:sp(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();o()}),finish:o},kr(()=>{e.start(),e.during()}),T0(),requestAnimationFrame(()=>{if(t)return;let a=Number(getComputedStyle(r).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,s=Number(getComputedStyle(r).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;a===0&&(a=Number(getComputedStyle(r).animationDuration.replace("s",""))*1e3),kr(()=>{e.before()}),n=!0,requestAnimationFrame(()=>{t||(kr(()=>{e.end()}),ap(),setTimeout(r._x_transitioning.finish,a+s),i=!0)})})}function Fa(r,e,t){if(r.indexOf(e)===-1)return t;const n=r[r.indexOf(e)+1];if(!n||e==="scale"&&isNaN(n))return t;if(e==="duration"){let i=n.match(/([0-9]+)ms/);if(i)return i[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(r[r.indexOf(e)+2])?[n,r[r.indexOf(e)+2]].join(" "):n}var cp=!1;function wc(r,e=()=>{}){return(...t)=>cp?e(...t):r(...t)}function B0(r,e){e._x_dataStack||(e._x_dataStack=r._x_dataStack),cp=!0,H0(()=>{$0(e)}),cp=!1}function $0(r){let e=!1;Xi(r,(n,i)=>{Do(n,(o,a)=>{if(e&&O0(o))return a();e=!0,i(o,a)})})}function H0(r){let e=Is;Df((t,n)=>{let i=e(t);return gc(i),()=>{}}),r(),Df(e)}function wm(r,e,t,n=[]){switch(r._x_bindings||(r._x_bindings=Ca({})),r._x_bindings[e]=t,e=n.includes("camel")?J0(e):e,e){case"value":j0(r,t);break;case"style":V0(r,t);break;case"class":W0(r,t);break;default:Y0(r,e,t);break}}function j0(r,e){if(r.type==="radio")r.attributes.value===void 0&&(r.value=e),window.fromModel&&(r.checked=Mf(r.value,e));else if(r.type==="checkbox")Number.isInteger(e)?r.value=e:!Number.isInteger(e)&&!Array.isArray(e)&&typeof e!="boolean"&&![null,void 0].includes(e)?r.value=String(e):Array.isArray(e)?r.checked=e.some(t=>Mf(t,r.value)):r.checked=!!e;else if(r.tagName==="SELECT")U0(r,e);else{if(r.value===e)return;r.value=e}}function W0(r,e){r._x_undoAddedClasses&&r._x_undoAddedClasses(),r._x_undoAddedClasses=ad(r,e)}function V0(r,e){r._x_undoAddedStyles&&r._x_undoAddedStyles(),r._x_undoAddedStyles=bc(r,e)}function Y0(r,e,t){[null,void 0,!1].includes(t)&&X0(e)?r.removeAttribute(e):(ym(e)&&(t=e),q0(r,e,t))}function q0(r,e,t){r.getAttribute(e)!=t&&r.setAttribute(e,t)}function U0(r,e){const t=[].concat(e).map(n=>n+"");Array.from(r.options).forEach(n=>{n.selected=t.includes(n.value)})}function J0(r){return r.toLowerCase().replace(/-(\w)/g,(e,t)=>t.toUpperCase())}function Mf(r,e){return r==e}function ym(r){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(r)}function X0(r){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(r)}function G0(r,e,t){if(r._x_bindings&&r._x_bindings[e]!==void 0)return r._x_bindings[e];let n=r.getAttribute(e);return n===null?typeof t=="function"?t():t:ym(e)?!![e,"true"].includes(n):n===""?!0:n}function xm(r,e){var t;return function(){var n=this,i=arguments,o=function(){t=null,r.apply(n,i)};clearTimeout(t),t=setTimeout(o,e)}}function km(r,e){let t;return function(){let n=this,i=arguments;t||(r.apply(n,i),t=!0,setTimeout(()=>t=!1,e))}}function K0(r){r(Rs)}var po={},Of=!1;function Z0(r,e){if(Of||(po=Ca(po),Of=!0),e===void 0)return po[r];po[r]=e,typeof e=="object"&&e!==null&&e.hasOwnProperty("init")&&typeof e.init=="function"&&po[r].init(),Kg(po[r])}function Q0(){return po}var Cm={};function ey(r,e){Cm[r]=typeof e!="function"?()=>e:e}function ty(r){return Object.entries(Cm).forEach(([e,t])=>{Object.defineProperty(r,e,{get(){return(...n)=>t(...n)}})}),r}var Sm={};function ry(r,e){Sm[r]=e}function ny(r,e){return Object.entries(Sm).forEach(([t,n])=>{Object.defineProperty(r,t,{get(){return(...i)=>n.bind(e)(...i)},enumerable:!1})}),r}var iy={get reactive(){return Ca},get release(){return gc},get effect(){return Is},get raw(){return Wg},version:"3.9.6",flushAndStopDeferringMutations:g0,disableEffectScheduling:o0,setReactivityEngine:a0,closestDataStack:sa,skipDuringClone:wc,addRootSelector:gm,addInitSelector:mm,addScopeToNode:zs,deferMutations:h0,mapAttributes:nd,evaluateLater:nn,setEvaluator:b0,mergeProxies:Fs,findClosest:vc,closestRoot:mc,interceptor:Zg,transition:lp,setStyles:bc,mutateDom:kr,directive:cr,throttle:km,debounce:xm,evaluate:Zo,initTree:Xi,nextTick:pm,prefixed:Sa,prefix:k0,plugin:K0,magic:ui,store:Z0,start:M0,clone:B0,bound:G0,$data:Gg,data:ry,bind:ey},Rs=iy;function oy(r,e){const t=Object.create(null),n=r.split(",");for(let i=0;i<n.length;i++)t[n[i]]=!0;return e?i=>!!t[i.toLowerCase()]:i=>!!t[i]}var ay=Object.freeze({});Object.freeze([]);var Em=Object.assign,sy=Object.prototype.hasOwnProperty,yc=(r,e)=>sy.call(r,e),wo=Array.isArray,es=r=>Dm(r)==="[object Map]",ly=r=>typeof r=="string",sd=r=>typeof r=="symbol",xc=r=>r!==null&&typeof r=="object",cy=Object.prototype.toString,Dm=r=>cy.call(r),Am=r=>Dm(r).slice(8,-1),ld=r=>ly(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,uy=r=>{const e=Object.create(null);return t=>e[t]||(e[t]=r(t))},py=uy(r=>r.charAt(0).toUpperCase()+r.slice(1)),Tm=(r,e)=>r!==e&&(r===r||e===e),up=new WeakMap,Ra=[],bi,yo=Symbol("iterate"),pp=Symbol("Map key iterate");function dy(r){return r&&r._isEffect===!0}function fy(r,e=ay){dy(r)&&(r=r.raw);const t=my(r,e);return e.lazy||t(),t}function hy(r){r.active&&(Mm(r),r.options.onStop&&r.options.onStop(),r.active=!1)}var gy=0;function my(r,e){const t=function(){if(!t.active)return r();if(!Ra.includes(t)){Mm(t);try{return by(),Ra.push(t),bi=t,r()}finally{Ra.pop(),Om(),bi=Ra[Ra.length-1]}}};return t.id=gy++,t.allowRecurse=!!e.allowRecurse,t._isEffect=!0,t.active=!0,t.raw=r,t.deps=[],t.options=e,t}function Mm(r){const{deps:e}=r;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(r);e.length=0}}var ca=!0,cd=[];function vy(){cd.push(ca),ca=!1}function by(){cd.push(ca),ca=!0}function Om(){const r=cd.pop();ca=r===void 0?!0:r}function si(r,e,t){if(!ca||bi===void 0)return;let n=up.get(r);n||up.set(r,n=new Map);let i=n.get(t);i||n.set(t,i=new Set),i.has(bi)||(i.add(bi),bi.deps.push(i),bi.options.onTrack&&bi.options.onTrack({effect:bi,target:r,type:e,key:t}))}function Gi(r,e,t,n,i,o){const a=up.get(r);if(!a)return;const s=new Set,l=u=>{u&&u.forEach(p=>{(p!==bi||p.allowRecurse)&&s.add(p)})};if(e==="clear")a.forEach(l);else if(t==="length"&&wo(r))a.forEach((u,p)=>{(p==="length"||p>=n)&&l(u)});else switch(t!==void 0&&l(a.get(t)),e){case"add":wo(r)?ld(t)&&l(a.get("length")):(l(a.get(yo)),es(r)&&l(a.get(pp)));break;case"delete":wo(r)||(l(a.get(yo)),es(r)&&l(a.get(pp)));break;case"set":es(r)&&l(a.get(yo));break}const c=u=>{u.options.onTrigger&&u.options.onTrigger({effect:u,target:r,key:t,type:e,newValue:n,oldValue:i,oldTarget:o}),u.options.scheduler?u.options.scheduler(u):u()};s.forEach(c)}var wy=oy("__proto__,__v_isRef,__isVue"),_m=new Set(Object.getOwnPropertyNames(Symbol).map(r=>Symbol[r]).filter(sd)),yy=kc(),xy=kc(!1,!0),ky=kc(!0),Cy=kc(!0,!0),Al={};["includes","indexOf","lastIndexOf"].forEach(r=>{const e=Array.prototype[r];Al[r]=function(...t){const n=Ht(this);for(let o=0,a=this.length;o<a;o++)si(n,"get",o+"");const i=e.apply(n,t);return i===-1||i===!1?e.apply(n,t.map(Ht)):i}});["push","pop","shift","unshift","splice"].forEach(r=>{const e=Array.prototype[r];Al[r]=function(...t){vy();const n=e.apply(this,t);return Om(),n}});function kc(r=!1,e=!1){return function(n,i,o){if(i==="__v_isReactive")return!r;if(i==="__v_isReadonly")return r;if(i==="__v_raw"&&o===(r?e?Py:qm:e?Ny:Ym).get(n))return n;const a=wo(n);if(!r&&a&&yc(Al,i))return Reflect.get(Al,i,o);const s=Reflect.get(n,i,o);return(sd(i)?_m.has(i):wy(i))||(r||si(n,"get",i),e)?s:dp(s)?!a||!ld(i)?s.value:s:xc(s)?r?Um(s):fd(s):s}}var Sy=Nm(),Ey=Nm(!0);function Nm(r=!1){return function(t,n,i,o){let a=t[n];if(!r&&(i=Ht(i),a=Ht(a),!wo(t)&&dp(a)&&!dp(i)))return a.value=i,!0;const s=wo(t)&&ld(n)?Number(n)<t.length:yc(t,n),l=Reflect.set(t,n,i,o);return t===Ht(o)&&(s?Tm(i,a)&&Gi(t,"set",n,i,a):Gi(t,"add",n,i)),l}}function Dy(r,e){const t=yc(r,e),n=r[e],i=Reflect.deleteProperty(r,e);return i&&t&&Gi(r,"delete",e,void 0,n),i}function Ay(r,e){const t=Reflect.has(r,e);return(!sd(e)||!_m.has(e))&&si(r,"has",e),t}function Ty(r){return si(r,"iterate",wo(r)?"length":yo),Reflect.ownKeys(r)}var Pm={get:yy,set:Sy,deleteProperty:Dy,has:Ay,ownKeys:Ty},Im={get:ky,set(r,e){return console.warn(`Set operation on key "${String(e)}" failed: target is readonly.`,r),!0},deleteProperty(r,e){return console.warn(`Delete operation on key "${String(e)}" failed: target is readonly.`,r),!0}};Em({},Pm,{get:xy,set:Ey});Em({},Im,{get:Cy});var ud=r=>xc(r)?fd(r):r,pd=r=>xc(r)?Um(r):r,dd=r=>r,Cc=r=>Reflect.getPrototypeOf(r);function Sc(r,e,t=!1,n=!1){r=r.__v_raw;const i=Ht(r),o=Ht(e);e!==o&&!t&&si(i,"get",e),!t&&si(i,"get",o);const{has:a}=Cc(i),s=n?dd:t?pd:ud;if(a.call(i,e))return s(r.get(e));if(a.call(i,o))return s(r.get(o));r!==i&&r.get(e)}function Ec(r,e=!1){const t=this.__v_raw,n=Ht(t),i=Ht(r);return r!==i&&!e&&si(n,"has",r),!e&&si(n,"has",i),r===i?t.has(r):t.has(r)||t.has(i)}function Dc(r,e=!1){return r=r.__v_raw,!e&&si(Ht(r),"iterate",yo),Reflect.get(r,"size",r)}function zm(r){r=Ht(r);const e=Ht(this);return Cc(e).has.call(e,r)||(e.add(r),Gi(e,"add",r,r)),this}function Fm(r,e){e=Ht(e);const t=Ht(this),{has:n,get:i}=Cc(t);let o=n.call(t,r);o?Vm(t,n,r):(r=Ht(r),o=n.call(t,r));const a=i.call(t,r);return t.set(r,e),o?Tm(e,a)&&Gi(t,"set",r,e,a):Gi(t,"add",r,e),this}function Rm(r){const e=Ht(this),{has:t,get:n}=Cc(e);let i=t.call(e,r);i?Vm(e,t,r):(r=Ht(r),i=t.call(e,r));const o=n?n.call(e,r):void 0,a=e.delete(r);return i&&Gi(e,"delete",r,void 0,o),a}function Lm(){const r=Ht(this),e=r.size!==0,t=es(r)?new Map(r):new Set(r),n=r.clear();return e&&Gi(r,"clear",void 0,void 0,t),n}function Ac(r,e){return function(n,i){const o=this,a=o.__v_raw,s=Ht(a),l=e?dd:r?pd:ud;return!r&&si(s,"iterate",yo),a.forEach((c,u)=>n.call(i,l(c),l(u),o))}}function Xs(r,e,t){return function(...n){const i=this.__v_raw,o=Ht(i),a=es(o),s=r==="entries"||r===Symbol.iterator&&a,l=r==="keys"&&a,c=i[r](...n),u=t?dd:e?pd:ud;return!e&&si(o,"iterate",l?pp:yo),{next(){const{value:p,done:d}=c.next();return d?{value:p,done:d}:{value:s?[u(p[0]),u(p[1])]:u(p),done:d}},[Symbol.iterator](){return this}}}}function qi(r){return function(...e){{const t=e[0]?`on key "${e[0]}" `:"";console.warn(`${py(r)} operation ${t}failed: target is readonly.`,Ht(this))}return r==="delete"?!1:this}}var Bm={get(r){return Sc(this,r)},get size(){return Dc(this)},has:Ec,add:zm,set:Fm,delete:Rm,clear:Lm,forEach:Ac(!1,!1)},$m={get(r){return Sc(this,r,!1,!0)},get size(){return Dc(this)},has:Ec,add:zm,set:Fm,delete:Rm,clear:Lm,forEach:Ac(!1,!0)},Hm={get(r){return Sc(this,r,!0)},get size(){return Dc(this,!0)},has(r){return Ec.call(this,r,!0)},add:qi("add"),set:qi("set"),delete:qi("delete"),clear:qi("clear"),forEach:Ac(!0,!1)},jm={get(r){return Sc(this,r,!0,!0)},get size(){return Dc(this,!0)},has(r){return Ec.call(this,r,!0)},add:qi("add"),set:qi("set"),delete:qi("delete"),clear:qi("clear"),forEach:Ac(!0,!0)},My=["keys","values","entries",Symbol.iterator];My.forEach(r=>{Bm[r]=Xs(r,!1,!1),Hm[r]=Xs(r,!0,!1),$m[r]=Xs(r,!1,!0),jm[r]=Xs(r,!0,!0)});function Wm(r,e){const t=e?r?jm:$m:r?Hm:Bm;return(n,i,o)=>i==="__v_isReactive"?!r:i==="__v_isReadonly"?r:i==="__v_raw"?n:Reflect.get(yc(t,i)&&i in n?t:n,i,o)}var Oy={get:Wm(!1,!1)},_y={get:Wm(!0,!1)};function Vm(r,e,t){const n=Ht(t);if(n!==t&&e.call(r,n)){const i=Am(r);console.warn(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Ym=new WeakMap,Ny=new WeakMap,qm=new WeakMap,Py=new WeakMap;function Iy(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function zy(r){return r.__v_skip||!Object.isExtensible(r)?0:Iy(Am(r))}function fd(r){return r&&r.__v_isReadonly?r:Jm(r,!1,Pm,Oy,Ym)}function Um(r){return Jm(r,!0,Im,_y,qm)}function Jm(r,e,t,n,i){if(!xc(r))return console.warn(`value cannot be made reactive: ${String(r)}`),r;if(r.__v_raw&&!(e&&r.__v_isReactive))return r;const o=i.get(r);if(o)return o;const a=zy(r);if(a===0)return r;const s=new Proxy(r,a===2?n:t);return i.set(r,s),s}function Ht(r){return r&&Ht(r.__v_raw)||r}function dp(r){return Boolean(r&&r.__v_isRef===!0)}ui("nextTick",()=>pm);ui("dispatch",r=>Qa.bind(Qa,r));ui("watch",(r,{evaluateLater:e,effect:t})=>(n,i)=>{let o=e(n),a=!0,s,l=t(()=>o(c=>{JSON.stringify(c),a?s=c:queueMicrotask(()=>{i(c,s),s=c}),a=!1}));r._x_effects.delete(l)});ui("store",Q0);ui("data",r=>Gg(r));ui("root",r=>mc(r));ui("refs",r=>(r._x_refs_proxy||(r._x_refs_proxy=Fs(Fy(r))),r._x_refs_proxy));function Fy(r){let e=[],t=r;for(;t;)t._x_refs&&e.push(t._x_refs),t=t.parentNode;return e}var au={};function Xm(r){return au[r]||(au[r]=0),++au[r]}function Ry(r,e){return vc(r,t=>{if(t._x_ids&&t._x_ids[e])return!0})}function Ly(r,e){r._x_ids||(r._x_ids={}),r._x_ids[e]||(r._x_ids[e]=Xm(e))}ui("id",r=>(e,t=null)=>{let n=Ry(r,e),i=n?n._x_ids[e]:Xm(e);return t?`${e}-${i}-${t}`:`${e}-${i}`});ui("el",r=>r);Gm("Focus","focus","focus");Gm("Persist","persist","persist");function Gm(r,e,t){ui(e,n=>la(`You can't use [$${directiveName}] without first installing the "${r}" plugin here: https://alpine.dev/plugins/${t}`,n))}cr("modelable",(r,{expression:e},{effect:t,evaluateLater:n})=>{let i=n(e),o=()=>{let c;return i(u=>c=u),c},a=n(`${e} = __placeholder`),s=c=>a(()=>{},{scope:{__placeholder:c}}),l=o();s(l),queueMicrotask(()=>{if(!r._x_model)return;r._x_removeModelListeners.default();let c=r._x_model.get,u=r._x_model.set;t(()=>s(c())),t(()=>u(o()))})});cr("teleport",(r,{expression:e},{cleanup:t})=>{r.tagName.toLowerCase()!=="template"&&la("x-teleport can only be used on a <template> tag",r);let n=document.querySelector(e);n||la(`Cannot find x-teleport element for selector: "${e}"`);let i=r.content.cloneNode(!0).firstElementChild;r._x_teleport=i,i._x_teleportBack=r,r._x_forwardEvents&&r._x_forwardEvents.forEach(o=>{i.addEventListener(o,a=>{a.stopPropagation(),r.dispatchEvent(new a.constructor(a.type,a))})}),zs(i,{},r),kr(()=>{n.appendChild(i),Xi(i),i._x_ignore=!0}),t(()=>i.remove())});var Km=()=>{};Km.inline=(r,{modifiers:e},{cleanup:t})=>{e.includes("self")?r._x_ignoreSelf=!0:r._x_ignore=!0,t(()=>{e.includes("self")?delete r._x_ignoreSelf:delete r._x_ignore})};cr("ignore",Km);cr("effect",(r,{expression:e},{effect:t})=>t(nn(r,e)));function Zm(r,e,t,n){let i=r,o=l=>n(l),a={},s=(l,c)=>u=>c(l,u);if(t.includes("dot")&&(e=By(e)),t.includes("camel")&&(e=$y(e)),t.includes("passive")&&(a.passive=!0),t.includes("capture")&&(a.capture=!0),t.includes("window")&&(i=window),t.includes("document")&&(i=document),t.includes("prevent")&&(o=s(o,(l,c)=>{c.preventDefault(),l(c)})),t.includes("stop")&&(o=s(o,(l,c)=>{c.stopPropagation(),l(c)})),t.includes("self")&&(o=s(o,(l,c)=>{c.target===r&&l(c)})),(t.includes("away")||t.includes("outside"))&&(i=document,o=s(o,(l,c)=>{r.contains(c.target)||c.target.isConnected!==!1&&(r.offsetWidth<1&&r.offsetHeight<1||r._x_isShown!==!1&&l(c))})),t.includes("once")&&(o=s(o,(l,c)=>{l(c),i.removeEventListener(e,o,a)})),o=s(o,(l,c)=>{jy(e)&&Wy(c,t)||l(c)}),t.includes("debounce")){let l=t[t.indexOf("debounce")+1]||"invalid-wait",c=fp(l.split("ms")[0])?Number(l.split("ms")[0]):250;o=xm(o,c)}if(t.includes("throttle")){let l=t[t.indexOf("throttle")+1]||"invalid-wait",c=fp(l.split("ms")[0])?Number(l.split("ms")[0]):250;o=km(o,c)}return i.addEventListener(e,o,a),()=>{i.removeEventListener(e,o,a)}}function By(r){return r.replace(/-/g,".")}function $y(r){return r.toLowerCase().replace(/-(\w)/g,(e,t)=>t.toUpperCase())}function fp(r){return!Array.isArray(r)&&!isNaN(r)}function Hy(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function jy(r){return["keydown","keyup"].includes(r)}function Wy(r,e){let t=e.filter(o=>!["window","document","prevent","stop","once"].includes(o));if(t.includes("debounce")){let o=t.indexOf("debounce");t.splice(o,fp((t[o+1]||"invalid-wait").split("ms")[0])?2:1)}if(t.length===0||t.length===1&&_f(r.key).includes(t[0]))return!1;const i=["ctrl","shift","alt","meta","cmd","super"].filter(o=>t.includes(o));return t=t.filter(o=>!i.includes(o)),!(i.length>0&&i.filter(a=>((a==="cmd"||a==="super")&&(a="meta"),r[`${a}Key`])).length===i.length&&_f(r.key).includes(t[0]))}function _f(r){if(!r)return[];r=Hy(r);let e={ctrl:"control",slash:"/",space:"-",spacebar:"-",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"="};return e[r]=r,Object.keys(e).map(t=>{if(e[t]===r)return t}).filter(t=>t)}cr("model",(r,{modifiers:e,expression:t},{effect:n,cleanup:i})=>{let o=nn(r,t),a=`${t} = rightSideOfExpression($event, ${t})`,s=nn(r,a);var l=r.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(r.type)||e.includes("lazy")?"change":"input";let c=Vy(r,e,t),u=Zm(r,l,e,d=>{s(()=>{},{scope:{$event:d,rightSideOfExpression:c}})});r._x_removeModelListeners||(r._x_removeModelListeners={}),r._x_removeModelListeners.default=u,i(()=>r._x_removeModelListeners.default());let p=nn(r,`${t} = __placeholder`);r._x_model={get(){let d;return o(h=>d=h),d},set(d){p(()=>{},{scope:{__placeholder:d}})}},r._x_forceModelUpdate=()=>{o(d=>{d===void 0&&t.match(/\./)&&(d=""),window.fromModel=!0,kr(()=>wm(r,"value",d)),delete window.fromModel})},n(()=>{e.includes("unintrusive")&&document.activeElement.isSameNode(r)||r._x_forceModelUpdate()})});function Vy(r,e,t){return r.type==="radio"&&kr(()=>{r.hasAttribute("name")||r.setAttribute("name",t)}),(n,i)=>kr(()=>{if(n instanceof CustomEvent&&n.detail!==void 0)return n.detail||n.target.value;if(r.type==="checkbox")if(Array.isArray(i)){let o=e.includes("number")?su(n.target.value):n.target.value;return n.target.checked?i.concat([o]):i.filter(a=>!Yy(a,o))}else return n.target.checked;else{if(r.tagName.toLowerCase()==="select"&&r.multiple)return e.includes("number")?Array.from(n.target.selectedOptions).map(o=>{let a=o.value||o.text;return su(a)}):Array.from(n.target.selectedOptions).map(o=>o.value||o.text);{let o=n.target.value;return e.includes("number")?su(o):e.includes("trim")?o.trim():o}}})}function su(r){let e=r?parseFloat(r):null;return qy(e)?e:r}function Yy(r,e){return r==e}function qy(r){return!Array.isArray(r)&&!isNaN(r)}cr("cloak",r=>queueMicrotask(()=>kr(()=>r.removeAttribute(Sa("cloak")))));mm(()=>`[${Sa("init")}]`);cr("init",wc((r,{expression:e},{evaluate:t})=>typeof e=="string"?!!e.trim()&&t(e,{},!1):t(e,{},!1)));cr("text",(r,{expression:e},{effect:t,evaluateLater:n})=>{let i=n(e);t(()=>{i(o=>{kr(()=>{r.textContent=o})})})});cr("html",(r,{expression:e},{effect:t,evaluateLater:n})=>{let i=n(e);t(()=>{i(o=>{kr(()=>{r.innerHTML=o,r._x_ignoreSelf=!0,Xi(r),delete r._x_ignoreSelf})})})});nd(om(":",am(Sa("bind:"))));cr("bind",(r,{value:e,modifiers:t,expression:n,original:i},{effect:o})=>{if(!e)return Uy(r,n,i);if(e==="key")return Jy(r,n);let a=nn(r,n);o(()=>a(s=>{s===void 0&&n.match(/\./)&&(s=""),kr(()=>wm(r,e,s,t))}))});function Uy(r,e,t,n){let i={};ty(i);let o=nn(r,e),a=[];for(;a.length;)a.pop()();o(s=>{let l=Object.entries(s).map(([u,p])=>({name:u,value:p})),c=C0(l);l=l.map(u=>c.find(p=>p.name===u.name)?{name:`x-bind:${u.name}`,value:`"${u.value}"`}:u),rd(r,l,t).map(u=>{a.push(u.runCleanups),u()})},{scope:i})}function Jy(r,e){r._x_keyExpression=e}gm(()=>`[${Sa("data")}]`);cr("data",wc((r,{expression:e},{cleanup:t})=>{e=e===""?"{}":e;let n={};rp(n,r);let i={};ny(i,n);let o=Zo(r,e,{scope:i});o===void 0&&(o={}),rp(o,r);let a=Ca(o);Kg(a);let s=zs(r,a);a.init&&Zo(r,a.init),t(()=>{a.destroy&&Zo(r,a.destroy),s()})}));cr("show",(r,{modifiers:e,expression:t},{effect:n})=>{let i=nn(r,t);r._x_doHide||(r._x_doHide=()=>{kr(()=>r.style.display="none")}),r._x_doShow||(r._x_doShow=()=>{kr(()=>{r.style.length===1&&r.style.display==="none"?r.removeAttribute("style"):r.style.removeProperty("display")})});let o=()=>{r._x_doHide(),r._x_isShown=!1},a=()=>{r._x_doShow(),r._x_isShown=!0},s=()=>setTimeout(a),l=sp(p=>p?a():o(),p=>{typeof r._x_toggleAndCascadeWithTransitions=="function"?r._x_toggleAndCascadeWithTransitions(r,p,a,o):p?s():o()}),c,u=!0;n(()=>i(p=>{!u&&p===c||(e.includes("immediate")&&(p?s():o()),l(p),c=p,u=!1)}))});cr("for",(r,{expression:e},{effect:t,cleanup:n})=>{let i=Gy(e),o=nn(r,i.items),a=nn(r,r._x_keyExpression||"index");r._x_prevKeys=[],r._x_lookup={},t(()=>Xy(r,i,o,a)),n(()=>{Object.values(r._x_lookup).forEach(s=>s.remove()),delete r._x_prevKeys,delete r._x_lookup})});function Xy(r,e,t,n){let i=a=>typeof a=="object"&&!Array.isArray(a),o=r;t(a=>{Ky(a)&&a>=0&&(a=Array.from(Array(a).keys(),m=>m+1)),a===void 0&&(a=[]);let s=r._x_lookup,l=r._x_prevKeys,c=[],u=[];if(i(a))a=Object.entries(a).map(([m,b])=>{let v=Nf(e,b,m,a);n(C=>u.push(C),{scope:{index:m,...v}}),c.push(v)});else for(let m=0;m<a.length;m++){let b=Nf(e,a[m],m,a);n(v=>u.push(v),{scope:{index:m,...b}}),c.push(b)}let p=[],d=[],h=[],f=[];for(let m=0;m<l.length;m++){let b=l[m];u.indexOf(b)===-1&&h.push(b)}l=l.filter(m=>!h.includes(m));let g="template";for(let m=0;m<u.length;m++){let b=u[m],v=l.indexOf(b);if(v===-1)l.splice(m,0,b),p.push([g,m]);else if(v!==m){let C=l.splice(m,1)[0],k=l.splice(v-1,1)[0];l.splice(m,0,k),l.splice(v,0,C),d.push([C,k])}else f.push(b);g=b}for(let m=0;m<h.length;m++){let b=h[m];s[b]._x_effects&&s[b]._x_effects.forEach(jg),s[b].remove(),s[b]=null,delete s[b]}for(let m=0;m<d.length;m++){let[b,v]=d[m],C=s[b],k=s[v],_=document.createElement("div");kr(()=>{k.after(_),C.after(k),k._x_currentIfEl&&k.after(k._x_currentIfEl),_.before(C),C._x_currentIfEl&&C.after(C._x_currentIfEl),_.remove()}),Af(k,c[u.indexOf(v)])}for(let m=0;m<p.length;m++){let[b,v]=p[m],C=b==="template"?o:s[b];C._x_currentIfEl&&(C=C._x_currentIfEl);let k=c[v],_=u[v],N=document.importNode(o.content,!0).firstElementChild;zs(N,Ca(k),o),kr(()=>{C.after(N),Xi(N)}),typeof _=="object"&&la("x-for key cannot be an object, it must be a string or an integer",o),s[_]=N}for(let m=0;m<f.length;m++)Af(s[f[m]],c[u.indexOf(f[m])]);o._x_prevKeys=u})}function Gy(r){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,t=/^\s*\(|\)\s*$/g,n=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,i=r.match(n);if(!i)return;let o={};o.items=i[2].trim();let a=i[1].replace(t,"").trim(),s=a.match(e);return s?(o.item=a.replace(e,"").trim(),o.index=s[1].trim(),s[2]&&(o.collection=s[2].trim())):o.item=a,o}function Nf(r,e,t,n){let i={};return/^\[.*\]$/.test(r.item)&&Array.isArray(e)?r.item.replace("[","").replace("]","").split(",").map(a=>a.trim()).forEach((a,s)=>{i[a]=e[s]}):/^\{.*\}$/.test(r.item)&&!Array.isArray(e)&&typeof e=="object"?r.item.replace("{","").replace("}","").split(",").map(a=>a.trim()).forEach(a=>{i[a]=e[a]}):i[r.item]=e,r.index&&(i[r.index]=t),r.collection&&(i[r.collection]=n),i}function Ky(r){return!Array.isArray(r)&&!isNaN(r)}function Qm(){}Qm.inline=(r,{expression:e},{cleanup:t})=>{let n=mc(r);n._x_refs||(n._x_refs={}),n._x_refs[e]=r,t(()=>delete n._x_refs[e])};cr("ref",Qm);cr("if",(r,{expression:e},{effect:t,cleanup:n})=>{let i=nn(r,e),o=()=>{if(r._x_currentIfEl)return r._x_currentIfEl;let s=r.content.cloneNode(!0).firstElementChild;return zs(s,{},r),kr(()=>{r.after(s),Xi(s)}),r._x_currentIfEl=s,r._x_undoIf=()=>{Do(s,l=>{l._x_effects&&l._x_effects.forEach(jg)}),s.remove(),delete r._x_currentIfEl},s},a=()=>{!r._x_undoIf||(r._x_undoIf(),delete r._x_undoIf)};t(()=>i(s=>{s?o():a()})),n(()=>r._x_undoIf&&r._x_undoIf())});cr("id",(r,{expression:e},{evaluate:t})=>{t(e).forEach(i=>Ly(r,i))});nd(om("@",am(Sa("on:"))));cr("on",wc((r,{value:e,modifiers:t,expression:n},{cleanup:i})=>{let o=n?nn(r,n):()=>{};r.tagName.toLowerCase()==="template"&&(r._x_forwardEvents||(r._x_forwardEvents=[]),r._x_forwardEvents.includes(e)||r._x_forwardEvents.push(e));let a=Zm(r,e,t,s=>{o(()=>{},{scope:{$event:s},params:[s]})});i(()=>a())}));hd("Collapse","collapse","collapse");hd("Intersect","intersect","intersect");hd("Focus","trap","focus");function hd(r,e,t){cr(e,n=>la(`You can't use [x-${e}] without first installing the "${r}" plugin here: https://alpine.dev/plugins/${t}`,n))}Rs.setEvaluator(tm);Rs.setReactivityEngine({reactive:fd,effect:fy,release:hy,raw:Ht});var Zy=Rs,hs=Zy,Qy=Object.create,gd=Object.defineProperty,e1=Object.getPrototypeOf,t1=Object.prototype.hasOwnProperty,r1=Object.getOwnPropertyNames,n1=Object.getOwnPropertyDescriptor,i1=r=>gd(r,"__esModule",{value:!0}),ev=(r,e)=>()=>(e||(e={exports:{}},r(e.exports,e)),e.exports),o1=(r,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of r1(e))!t1.call(r,n)&&n!=="default"&&gd(r,n,{get:()=>e[n],enumerable:!(t=n1(e,n))||t.enumerable});return r},tv=r=>o1(i1(gd(r!=null?Qy(e1(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r),a1=ev(r=>{Object.defineProperty(r,"__esModule",{value:!0});function e(O){var E=O.getBoundingClientRect();return{width:E.width,height:E.height,top:E.top,right:E.right,bottom:E.bottom,left:E.left,x:E.left,y:E.top}}function t(O){if(O==null)return window;if(O.toString()!=="[object Window]"){var E=O.ownerDocument;return E&&E.defaultView||window}return O}function n(O){var E=t(O),B=E.pageXOffset,K=E.pageYOffset;return{scrollLeft:B,scrollTop:K}}function i(O){var E=t(O).Element;return O instanceof E||O instanceof Element}function o(O){var E=t(O).HTMLElement;return O instanceof E||O instanceof HTMLElement}function a(O){if(typeof ShadowRoot=="undefined")return!1;var E=t(O).ShadowRoot;return O instanceof E||O instanceof ShadowRoot}function s(O){return{scrollLeft:O.scrollLeft,scrollTop:O.scrollTop}}function l(O){return O===t(O)||!o(O)?n(O):s(O)}function c(O){return O?(O.nodeName||"").toLowerCase():null}function u(O){return((i(O)?O.ownerDocument:O.document)||window.document).documentElement}function p(O){return e(u(O)).left+n(O).scrollLeft}function d(O){return t(O).getComputedStyle(O)}function h(O){var E=d(O),B=E.overflow,K=E.overflowX,Z=E.overflowY;return/auto|scroll|overlay|hidden/.test(B+Z+K)}function f(O,E,B){B===void 0&&(B=!1);var K=u(E),Z=e(O),de=o(E),Ce={scrollLeft:0,scrollTop:0},w={x:0,y:0};return(de||!de&&!B)&&((c(E)!=="body"||h(K))&&(Ce=l(E)),o(E)?(w=e(E),w.x+=E.clientLeft,w.y+=E.clientTop):K&&(w.x=p(K))),{x:Z.left+Ce.scrollLeft-w.x,y:Z.top+Ce.scrollTop-w.y,width:Z.width,height:Z.height}}function g(O){var E=e(O),B=O.offsetWidth,K=O.offsetHeight;return Math.abs(E.width-B)<=1&&(B=E.width),Math.abs(E.height-K)<=1&&(K=E.height),{x:O.offsetLeft,y:O.offsetTop,width:B,height:K}}function m(O){return c(O)==="html"?O:O.assignedSlot||O.parentNode||(a(O)?O.host:null)||u(O)}function b(O){return["html","body","#document"].indexOf(c(O))>=0?O.ownerDocument.body:o(O)&&h(O)?O:b(m(O))}function v(O,E){var B;E===void 0&&(E=[]);var K=b(O),Z=K===((B=O.ownerDocument)==null?void 0:B.body),de=t(K),Ce=Z?[de].concat(de.visualViewport||[],h(K)?K:[]):K,w=E.concat(Ce);return Z?w:w.concat(v(m(Ce)))}function C(O){return["table","td","th"].indexOf(c(O))>=0}function k(O){return!o(O)||d(O).position==="fixed"?null:O.offsetParent}function _(O){var E=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,B=navigator.userAgent.indexOf("Trident")!==-1;if(B&&o(O)){var K=d(O);if(K.position==="fixed")return null}for(var Z=m(O);o(Z)&&["html","body"].indexOf(c(Z))<0;){var de=d(Z);if(de.transform!=="none"||de.perspective!=="none"||de.contain==="paint"||["transform","perspective"].indexOf(de.willChange)!==-1||E&&de.willChange==="filter"||E&&de.filter&&de.filter!=="none")return Z;Z=Z.parentNode}return null}function N(O){for(var E=t(O),B=k(O);B&&C(B)&&d(B).position==="static";)B=k(B);return B&&(c(B)==="html"||c(B)==="body"&&d(B).position==="static")?E:B||_(O)||E}var I="top",L="bottom",q="right",A="left",z="auto",H=[I,L,q,A],U="start",ie="end",ke="clippingParents",Se="viewport",$="popper",ne="reference",ue=H.reduce(function(O,E){return O.concat([E+"-"+U,E+"-"+ie])},[]),Ee=[].concat(H,[z]).reduce(function(O,E){return O.concat([E,E+"-"+U,E+"-"+ie])},[]),He="beforeRead",mr="read",xn="afterRead",kn="beforeMain",Ar="main",ut="afterMain",pr="beforeWrite",Br="write",un="afterWrite",Kt=[He,mr,xn,kn,Ar,ut,pr,Br,un];function Cn(O){var E=new Map,B=new Set,K=[];O.forEach(function(de){E.set(de.name,de)});function Z(de){B.add(de.name);var Ce=[].concat(de.requires||[],de.requiresIfExists||[]);Ce.forEach(function(w){if(!B.has(w)){var x=E.get(w);x&&Z(x)}}),K.push(de)}return O.forEach(function(de){B.has(de.name)||Z(de)}),K}function Mt(O){var E=Cn(O);return Kt.reduce(function(B,K){return B.concat(E.filter(function(Z){return Z.phase===K}))},[])}function Tr(O){var E;return function(){return E||(E=new Promise(function(B){Promise.resolve().then(function(){E=void 0,B(O())})})),E}}function vr(O){for(var E=arguments.length,B=new Array(E>1?E-1:0),K=1;K<E;K++)B[K-1]=arguments[K];return[].concat(B).reduce(function(Z,de){return Z.replace(/%s/,de)},O)}var vt='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',Rt='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',re=["name","enabled","phase","fn","effect","requires","options"];function Dt(O){O.forEach(function(E){Object.keys(E).forEach(function(B){switch(B){case"name":typeof E.name!="string"&&console.error(vr(vt,String(E.name),'"name"','"string"','"'+String(E.name)+'"'));break;case"enabled":typeof E.enabled!="boolean"&&console.error(vr(vt,E.name,'"enabled"','"boolean"','"'+String(E.enabled)+'"'));case"phase":Kt.indexOf(E.phase)<0&&console.error(vr(vt,E.name,'"phase"',"either "+Kt.join(", "),'"'+String(E.phase)+'"'));break;case"fn":typeof E.fn!="function"&&console.error(vr(vt,E.name,'"fn"','"function"','"'+String(E.fn)+'"'));break;case"effect":typeof E.effect!="function"&&console.error(vr(vt,E.name,'"effect"','"function"','"'+String(E.fn)+'"'));break;case"requires":Array.isArray(E.requires)||console.error(vr(vt,E.name,'"requires"','"array"','"'+String(E.requires)+'"'));break;case"requiresIfExists":Array.isArray(E.requiresIfExists)||console.error(vr(vt,E.name,'"requiresIfExists"','"array"','"'+String(E.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+E.name+'" modifier, valid properties are '+re.map(function(K){return'"'+K+'"'}).join(", ")+'; but "'+B+'" was provided.')}E.requires&&E.requires.forEach(function(K){O.find(function(Z){return Z.name===K})==null&&console.error(vr(Rt,String(E.name),K,K))})})})}function Fe(O,E){var B=new Set;return O.filter(function(K){var Z=E(K);if(!B.has(Z))return B.add(Z),!0})}function et(O){return O.split("-")[0]}function Sn(O){var E=O.reduce(function(B,K){var Z=B[K.name];return B[K.name]=Z?Object.assign({},Z,K,{options:Object.assign({},Z.options,K.options),data:Object.assign({},Z.data,K.data)}):K,B},{});return Object.keys(E).map(function(B){return E[B]})}function $n(O){var E=t(O),B=u(O),K=E.visualViewport,Z=B.clientWidth,de=B.clientHeight,Ce=0,w=0;return K&&(Z=K.width,de=K.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(Ce=K.offsetLeft,w=K.offsetTop)),{width:Z,height:de,x:Ce+p(O),y:w}}var at=Math.max,dr=Math.min,tr=Math.round;function rr(O){var E,B=u(O),K=n(O),Z=(E=O.ownerDocument)==null?void 0:E.body,de=at(B.scrollWidth,B.clientWidth,Z?Z.scrollWidth:0,Z?Z.clientWidth:0),Ce=at(B.scrollHeight,B.clientHeight,Z?Z.scrollHeight:0,Z?Z.clientHeight:0),w=-K.scrollLeft+p(O),x=-K.scrollTop;return d(Z||B).direction==="rtl"&&(w+=at(B.clientWidth,Z?Z.clientWidth:0)-de),{width:de,height:Ce,x:w,y:x}}function pn(O,E){var B=E.getRootNode&&E.getRootNode();if(O.contains(E))return!0;if(B&&a(B)){var K=E;do{if(K&&O.isSameNode(K))return!0;K=K.parentNode||K.host}while(K)}return!1}function fr(O){return Object.assign({},O,{left:O.x,top:O.y,right:O.x+O.width,bottom:O.y+O.height})}function Hn(O){var E=e(O);return E.top=E.top+O.clientTop,E.left=E.left+O.clientLeft,E.bottom=E.top+O.clientHeight,E.right=E.left+O.clientWidth,E.width=O.clientWidth,E.height=O.clientHeight,E.x=E.left,E.y=E.top,E}function Lt(O,E){return E===Se?fr($n(O)):o(E)?Hn(E):fr(rr(u(O)))}function Kr(O){var E=v(m(O)),B=["absolute","fixed"].indexOf(d(O).position)>=0,K=B&&o(O)?N(O):O;return i(K)?E.filter(function(Z){return i(Z)&&pn(Z,K)&&c(Z)!=="body"}):[]}function dn(O,E,B){var K=E==="clippingParents"?Kr(O):[].concat(E),Z=[].concat(K,[B]),de=Z[0],Ce=Z.reduce(function(w,x){var y=Lt(O,x);return w.top=at(y.top,w.top),w.right=dr(y.right,w.right),w.bottom=dr(y.bottom,w.bottom),w.left=at(y.left,w.left),w},Lt(O,de));return Ce.width=Ce.right-Ce.left,Ce.height=Ce.bottom-Ce.top,Ce.x=Ce.left,Ce.y=Ce.top,Ce}function fn(O){return O.split("-")[1]}function Ut(O){return["top","bottom"].indexOf(O)>=0?"x":"y"}function rt(O){var E=O.reference,B=O.element,K=O.placement,Z=K?et(K):null,de=K?fn(K):null,Ce=E.x+E.width/2-B.width/2,w=E.y+E.height/2-B.height/2,x;switch(Z){case I:x={x:Ce,y:E.y-B.height};break;case L:x={x:Ce,y:E.y+E.height};break;case q:x={x:E.x+E.width,y:w};break;case A:x={x:E.x-B.width,y:w};break;default:x={x:E.x,y:E.y}}var y=Z?Ut(Z):null;if(y!=null){var D=y==="y"?"height":"width";switch(de){case U:x[y]=x[y]-(E[D]/2-B[D]/2);break;case ie:x[y]=x[y]+(E[D]/2-B[D]/2);break}}return x}function jn(){return{top:0,right:0,bottom:0,left:0}}function Wn(O){return Object.assign({},jn(),O)}function Ai(O,E){return E.reduce(function(B,K){return B[K]=O,B},{})}function $r(O,E){E===void 0&&(E={});var B=E,K=B.placement,Z=K===void 0?O.placement:K,de=B.boundary,Ce=de===void 0?ke:de,w=B.rootBoundary,x=w===void 0?Se:w,y=B.elementContext,D=y===void 0?$:y,F=B.altBoundary,V=F===void 0?!1:F,Y=B.padding,ee=Y===void 0?0:Y,G=Wn(typeof ee!="number"?ee:Ai(ee,H)),ce=D===$?ne:$,ye=O.elements.reference,xe=O.rects.popper,je=O.elements[V?ce:D],fe=dn(i(je)?je:je.contextElement||u(O.elements.popper),Ce,x),We=e(ye),Oe=rt({reference:We,element:xe,strategy:"absolute",placement:Z}),dt=fr(Object.assign({},xe,Oe)),Ke=D===$?dt:We,bt={top:fe.top-Ke.top+G.top,bottom:Ke.bottom-fe.bottom+G.bottom,left:fe.left-Ke.left+G.left,right:Ke.right-fe.right+G.right},lt=O.modifiersData.offset;if(D===$&&lt){var Ct=lt[Z];Object.keys(bt).forEach(function(Jt){var $t=[q,L].indexOf(Jt)>=0?1:-1,Qr=[I,L].indexOf(Jt)>=0?"y":"x";bt[Jt]+=Ct[Qr]*$t})}return bt}var hn="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",nr="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",gn={placement:"bottom",modifiers:[],strategy:"absolute"};function Zr(){for(var O=arguments.length,E=new Array(O),B=0;B<O;B++)E[B]=arguments[B];return!E.some(function(K){return!(K&&typeof K.getBoundingClientRect=="function")})}function S(O){O===void 0&&(O={});var E=O,B=E.defaultModifiers,K=B===void 0?[]:B,Z=E.defaultOptions,de=Z===void 0?gn:Z;return function(w,x,y){y===void 0&&(y=de);var D={placement:"bottom",orderedModifiers:[],options:Object.assign({},gn,de),modifiersData:{},elements:{reference:w,popper:x},attributes:{},styles:{}},F=[],V=!1,Y={state:D,setOptions:function(ye){G(),D.options=Object.assign({},de,D.options,ye),D.scrollParents={reference:i(w)?v(w):w.contextElement?v(w.contextElement):[],popper:v(x)};var xe=Mt(Sn([].concat(K,D.options.modifiers)));D.orderedModifiers=xe.filter(function(lt){return lt.enabled});{var je=Fe([].concat(xe,D.options.modifiers),function(lt){var Ct=lt.name;return Ct});if(Dt(je),et(D.options.placement)===z){var fe=D.orderedModifiers.find(function(lt){var Ct=lt.name;return Ct==="flip"});fe||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var We=d(x),Oe=We.marginTop,dt=We.marginRight,Ke=We.marginBottom,bt=We.marginLeft;[Oe,dt,Ke,bt].some(function(lt){return parseFloat(lt)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return ee(),Y.update()},forceUpdate:function(){if(!V){var ye=D.elements,xe=ye.reference,je=ye.popper;if(!Zr(xe,je)){console.error(hn);return}D.rects={reference:f(xe,N(je),D.options.strategy==="fixed"),popper:g(je)},D.reset=!1,D.placement=D.options.placement,D.orderedModifiers.forEach(function(Ct){return D.modifiersData[Ct.name]=Object.assign({},Ct.data)});for(var fe=0,We=0;We<D.orderedModifiers.length;We++){if(fe+=1,fe>100){console.error(nr);break}if(D.reset===!0){D.reset=!1,We=-1;continue}var Oe=D.orderedModifiers[We],dt=Oe.fn,Ke=Oe.options,bt=Ke===void 0?{}:Ke,lt=Oe.name;typeof dt=="function"&&(D=dt({state:D,options:bt,name:lt,instance:Y})||D)}}},update:Tr(function(){return new Promise(function(ce){Y.forceUpdate(),ce(D)})}),destroy:function(){G(),V=!0}};if(!Zr(w,x))return console.error(hn),Y;Y.setOptions(y).then(function(ce){!V&&y.onFirstUpdate&&y.onFirstUpdate(ce)});function ee(){D.orderedModifiers.forEach(function(ce){var ye=ce.name,xe=ce.options,je=xe===void 0?{}:xe,fe=ce.effect;if(typeof fe=="function"){var We=fe({state:D,name:ye,instance:Y,options:je}),Oe=function(){};F.push(We||Oe)}})}function G(){F.forEach(function(ce){return ce()}),F=[]}return Y}}var T={passive:!0};function R(O){var E=O.state,B=O.instance,K=O.options,Z=K.scroll,de=Z===void 0?!0:Z,Ce=K.resize,w=Ce===void 0?!0:Ce,x=t(E.elements.popper),y=[].concat(E.scrollParents.reference,E.scrollParents.popper);return de&&y.forEach(function(D){D.addEventListener("scroll",B.update,T)}),w&&x.addEventListener("resize",B.update,T),function(){de&&y.forEach(function(D){D.removeEventListener("scroll",B.update,T)}),w&&x.removeEventListener("resize",B.update,T)}}var J={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:R,data:{}};function se(O){var E=O.state,B=O.name;E.modifiersData[B]=rt({reference:E.rects.reference,element:E.rects.popper,strategy:"absolute",placement:E.placement})}var ge={name:"popperOffsets",enabled:!0,phase:"read",fn:se,data:{}},Le={top:"auto",right:"auto",bottom:"auto",left:"auto"};function De(O){var E=O.x,B=O.y,K=window,Z=K.devicePixelRatio||1;return{x:tr(tr(E*Z)/Z)||0,y:tr(tr(B*Z)/Z)||0}}function Ve(O){var E,B=O.popper,K=O.popperRect,Z=O.placement,de=O.offsets,Ce=O.position,w=O.gpuAcceleration,x=O.adaptive,y=O.roundOffsets,D=y===!0?De(de):typeof y=="function"?y(de):de,F=D.x,V=F===void 0?0:F,Y=D.y,ee=Y===void 0?0:Y,G=de.hasOwnProperty("x"),ce=de.hasOwnProperty("y"),ye=A,xe=I,je=window;if(x){var fe=N(B),We="clientHeight",Oe="clientWidth";fe===t(B)&&(fe=u(B),d(fe).position!=="static"&&(We="scrollHeight",Oe="scrollWidth")),fe=fe,Z===I&&(xe=L,ee-=fe[We]-K.height,ee*=w?1:-1),Z===A&&(ye=q,V-=fe[Oe]-K.width,V*=w?1:-1)}var dt=Object.assign({position:Ce},x&&Le);if(w){var Ke;return Object.assign({},dt,(Ke={},Ke[xe]=ce?"0":"",Ke[ye]=G?"0":"",Ke.transform=(je.devicePixelRatio||1)<2?"translate("+V+"px, "+ee+"px)":"translate3d("+V+"px, "+ee+"px, 0)",Ke))}return Object.assign({},dt,(E={},E[xe]=ce?ee+"px":"",E[ye]=G?V+"px":"",E.transform="",E))}function M(O){var E=O.state,B=O.options,K=B.gpuAcceleration,Z=K===void 0?!0:K,de=B.adaptive,Ce=de===void 0?!0:de,w=B.roundOffsets,x=w===void 0?!0:w;{var y=d(E.elements.popper).transitionProperty||"";Ce&&["transform","top","right","bottom","left"].some(function(F){return y.indexOf(F)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',`

`,'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.",`

`,"We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var D={placement:et(E.placement),popper:E.elements.popper,popperRect:E.rects.popper,gpuAcceleration:Z};E.modifiersData.popperOffsets!=null&&(E.styles.popper=Object.assign({},E.styles.popper,Ve(Object.assign({},D,{offsets:E.modifiersData.popperOffsets,position:E.options.strategy,adaptive:Ce,roundOffsets:x})))),E.modifiersData.arrow!=null&&(E.styles.arrow=Object.assign({},E.styles.arrow,Ve(Object.assign({},D,{offsets:E.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:x})))),E.attributes.popper=Object.assign({},E.attributes.popper,{"data-popper-placement":E.placement})}var P={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:M,data:{}};function W(O){var E=O.state;Object.keys(E.elements).forEach(function(B){var K=E.styles[B]||{},Z=E.attributes[B]||{},de=E.elements[B];!o(de)||!c(de)||(Object.assign(de.style,K),Object.keys(Z).forEach(function(Ce){var w=Z[Ce];w===!1?de.removeAttribute(Ce):de.setAttribute(Ce,w===!0?"":w)}))})}function ae(O){var E=O.state,B={popper:{position:E.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(E.elements.popper.style,B.popper),E.styles=B,E.elements.arrow&&Object.assign(E.elements.arrow.style,B.arrow),function(){Object.keys(E.elements).forEach(function(K){var Z=E.elements[K],de=E.attributes[K]||{},Ce=Object.keys(E.styles.hasOwnProperty(K)?E.styles[K]:B[K]),w=Ce.reduce(function(x,y){return x[y]="",x},{});!o(Z)||!c(Z)||(Object.assign(Z.style,w),Object.keys(de).forEach(function(x){Z.removeAttribute(x)}))})}}var we={name:"applyStyles",enabled:!0,phase:"write",fn:W,effect:ae,requires:["computeStyles"]};function he(O,E,B){var K=et(O),Z=[A,I].indexOf(K)>=0?-1:1,de=typeof B=="function"?B(Object.assign({},E,{placement:O})):B,Ce=de[0],w=de[1];return Ce=Ce||0,w=(w||0)*Z,[A,q].indexOf(K)>=0?{x:w,y:Ce}:{x:Ce,y:w}}function le(O){var E=O.state,B=O.options,K=O.name,Z=B.offset,de=Z===void 0?[0,0]:Z,Ce=Ee.reduce(function(D,F){return D[F]=he(F,E.rects,de),D},{}),w=Ce[E.placement],x=w.x,y=w.y;E.modifiersData.popperOffsets!=null&&(E.modifiersData.popperOffsets.x+=x,E.modifiersData.popperOffsets.y+=y),E.modifiersData[K]=Ce}var Xe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:le},Me={left:"right",right:"left",bottom:"top",top:"bottom"};function Ye(O){return O.replace(/left|right|bottom|top/g,function(E){return Me[E]})}var pe={start:"end",end:"start"};function ht(O){return O.replace(/start|end/g,function(E){return pe[E]})}function yt(O,E){E===void 0&&(E={});var B=E,K=B.placement,Z=B.boundary,de=B.rootBoundary,Ce=B.padding,w=B.flipVariations,x=B.allowedAutoPlacements,y=x===void 0?Ee:x,D=fn(K),F=D?w?ue:ue.filter(function(ee){return fn(ee)===D}):H,V=F.filter(function(ee){return y.indexOf(ee)>=0});V.length===0&&(V=F,console.error(["Popper: The `allowedAutoPlacements` option did not allow any","placements. Ensure the `placement` option matches the variation","of the allowed placements.",'For example, "auto" cannot be used to allow "bottom-start".','Use "auto-start" instead.'].join(" ")));var Y=V.reduce(function(ee,G){return ee[G]=$r(O,{placement:G,boundary:Z,rootBoundary:de,padding:Ce})[et(G)],ee},{});return Object.keys(Y).sort(function(ee,G){return Y[ee]-Y[G]})}function st(O){if(et(O)===z)return[];var E=Ye(O);return[ht(O),E,ht(E)]}function xt(O){var E=O.state,B=O.options,K=O.name;if(!E.modifiersData[K]._skip){for(var Z=B.mainAxis,de=Z===void 0?!0:Z,Ce=B.altAxis,w=Ce===void 0?!0:Ce,x=B.fallbackPlacements,y=B.padding,D=B.boundary,F=B.rootBoundary,V=B.altBoundary,Y=B.flipVariations,ee=Y===void 0?!0:Y,G=B.allowedAutoPlacements,ce=E.options.placement,ye=et(ce),xe=ye===ce,je=x||(xe||!ee?[Ye(ce)]:st(ce)),fe=[ce].concat(je).reduce(function(_e,Ze){return _e.concat(et(Ze)===z?yt(E,{placement:Ze,boundary:D,rootBoundary:F,padding:y,flipVariations:ee,allowedAutoPlacements:G}):Ze)},[]),We=E.rects.reference,Oe=E.rects.popper,dt=new Map,Ke=!0,bt=fe[0],lt=0;lt<fe.length;lt++){var Ct=fe[lt],Jt=et(Ct),$t=fn(Ct)===U,Qr=[I,L].indexOf(Jt)>=0,mn=Qr?"width":"height",Xt=$r(E,{placement:Ct,boundary:D,rootBoundary:F,altBoundary:V,padding:y}),wr=Qr?$t?q:A:$t?L:I;We[mn]>Oe[mn]&&(wr=Ye(wr));var di=Ye(wr),yr=[];if(de&&yr.push(Xt[Jt]<=0),w&&yr.push(Xt[wr]<=0,Xt[di]<=0),yr.every(function(_e){return _e})){bt=Ct,Ke=!1;break}dt.set(Ct,yr)}if(Ke)for(var En=ee?3:1,Dn=function(Ze){var nt=fe.find(function(Zt){var gr=dt.get(Zt);if(gr)return gr.slice(0,Ze).every(function(fi){return fi})});if(nt)return bt=nt,"break"},X=En;X>0;X--){var Ae=Dn(X);if(Ae==="break")break}E.placement!==bt&&(E.modifiersData[K]._skip=!0,E.placement=bt,E.reset=!0)}}var Pe={name:"flip",enabled:!0,phase:"main",fn:xt,requiresIfExists:["offset"],data:{_skip:!1}};function qe(O){return O==="x"?"y":"x"}function Ue(O,E,B){return at(O,dr(E,B))}function Ne(O){var E=O.state,B=O.options,K=O.name,Z=B.mainAxis,de=Z===void 0?!0:Z,Ce=B.altAxis,w=Ce===void 0?!1:Ce,x=B.boundary,y=B.rootBoundary,D=B.altBoundary,F=B.padding,V=B.tether,Y=V===void 0?!0:V,ee=B.tetherOffset,G=ee===void 0?0:ee,ce=$r(E,{boundary:x,rootBoundary:y,padding:F,altBoundary:D}),ye=et(E.placement),xe=fn(E.placement),je=!xe,fe=Ut(ye),We=qe(fe),Oe=E.modifiersData.popperOffsets,dt=E.rects.reference,Ke=E.rects.popper,bt=typeof G=="function"?G(Object.assign({},E.rects,{placement:E.placement})):G,lt={x:0,y:0};if(!!Oe){if(de||w){var Ct=fe==="y"?I:A,Jt=fe==="y"?L:q,$t=fe==="y"?"height":"width",Qr=Oe[fe],mn=Oe[fe]+ce[Ct],Xt=Oe[fe]-ce[Jt],wr=Y?-Ke[$t]/2:0,di=xe===U?dt[$t]:Ke[$t],yr=xe===U?-Ke[$t]:-dt[$t],En=E.elements.arrow,Dn=Y&&En?g(En):{width:0,height:0},X=E.modifiersData["arrow#persistent"]?E.modifiersData["arrow#persistent"].padding:jn(),Ae=X[Ct],_e=X[Jt],Ze=Ue(0,dt[$t],Dn[$t]),nt=je?dt[$t]/2-wr-Ze-Ae-bt:di-Ze-Ae-bt,Zt=je?-dt[$t]/2+wr+Ze+_e+bt:yr+Ze+_e+bt,gr=E.elements.arrow&&N(E.elements.arrow),fi=gr?fe==="y"?gr.clientTop||0:gr.clientLeft||0:0,za=E.modifiersData.offset?E.modifiersData.offset[E.placement][fe]:0,hi=Oe[fe]+nt-za-fi,Ro=Oe[fe]+Zt-za;if(de){var lo=Ue(Y?dr(mn,hi):mn,Qr,Y?at(Xt,Ro):Xt);Oe[fe]=lo,lt[fe]=lo-Qr}if(w){var Li=fe==="x"?I:A,nu=fe==="x"?L:q,Bi=Oe[We],co=Bi+ce[Li],Sf=Bi-ce[nu],Ef=Ue(Y?dr(co,hi):co,Bi,Y?at(Sf,Ro):Sf);Oe[We]=Ef,lt[We]=Ef-Bi}}E.modifiersData[K]=lt}}var Be={name:"preventOverflow",enabled:!0,phase:"main",fn:Ne,requiresIfExists:["offset"]},j=function(E,B){return E=typeof E=="function"?E(Object.assign({},B.rects,{placement:B.placement})):E,Wn(typeof E!="number"?E:Ai(E,H))};function Bt(O){var E,B=O.state,K=O.name,Z=O.options,de=B.elements.arrow,Ce=B.modifiersData.popperOffsets,w=et(B.placement),x=Ut(w),y=[A,q].indexOf(w)>=0,D=y?"height":"width";if(!(!de||!Ce)){var F=j(Z.padding,B),V=g(de),Y=x==="y"?I:A,ee=x==="y"?L:q,G=B.rects.reference[D]+B.rects.reference[x]-Ce[x]-B.rects.popper[D],ce=Ce[x]-B.rects.reference[x],ye=N(de),xe=ye?x==="y"?ye.clientHeight||0:ye.clientWidth||0:0,je=G/2-ce/2,fe=F[Y],We=xe-V[D]-F[ee],Oe=xe/2-V[D]/2+je,dt=Ue(fe,Oe,We),Ke=x;B.modifiersData[K]=(E={},E[Ke]=dt,E.centerOffset=dt-Oe,E)}}function $e(O){var E=O.state,B=O.options,K=B.element,Z=K===void 0?"[data-popper-arrow]":K;if(Z!=null&&!(typeof Z=="string"&&(Z=E.elements.popper.querySelector(Z),!Z))){if(o(Z)||console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).',"To use an SVG arrow, wrap it in an HTMLElement that will be used as","the arrow."].join(" ")),!pn(E.elements.popper,Z)){console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" "));return}E.elements.arrow=Z}}var kt={name:"arrow",enabled:!0,phase:"main",fn:Bt,effect:$e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Mr(O,E,B){return B===void 0&&(B={x:0,y:0}),{top:O.top-E.height-B.y,right:O.right-E.width+B.x,bottom:O.bottom-E.height+B.y,left:O.left-E.width-B.x}}function Vn(O){return[I,q,L,A].some(function(E){return O[E]>=0})}function Yn(O){var E=O.state,B=O.name,K=E.rects.reference,Z=E.rects.popper,de=E.modifiersData.preventOverflow,Ce=$r(E,{elementContext:"reference"}),w=$r(E,{altBoundary:!0}),x=Mr(Ce,K),y=Mr(w,Z,de),D=Vn(x),F=Vn(y);E.modifiersData[B]={referenceClippingOffsets:x,popperEscapeOffsets:y,isReferenceHidden:D,hasPopperEscaped:F},E.attributes.popper=Object.assign({},E.attributes.popper,{"data-popper-reference-hidden":D,"data-popper-escaped":F})}var qn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Yn},hr=[J,ge,P,we],br=S({defaultModifiers:hr}),Or=[J,ge,P,we,Xe,Pe,Be,kt,qn],Ti=S({defaultModifiers:Or});r.applyStyles=we,r.arrow=kt,r.computeStyles=P,r.createPopper=Ti,r.createPopperLite=br,r.defaultModifiers=Or,r.detectOverflow=$r,r.eventListeners=J,r.flip=Pe,r.hide=qn,r.offset=Xe,r.popperGenerator=S,r.popperOffsets=ge,r.preventOverflow=Be}),rv=ev(r=>{Object.defineProperty(r,"__esModule",{value:!0});var e=a1(),t='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',n="tippy-box",i="tippy-content",o="tippy-backdrop",a="tippy-arrow",s="tippy-svg-arrow",l={passive:!0,capture:!0};function c(M,P){return{}.hasOwnProperty.call(M,P)}function u(M,P,W){if(Array.isArray(M)){var ae=M[P];return ae==null?Array.isArray(W)?W[P]:W:ae}return M}function p(M,P){var W={}.toString.call(M);return W.indexOf("[object")===0&&W.indexOf(P+"]")>-1}function d(M,P){return typeof M=="function"?M.apply(void 0,P):M}function h(M,P){if(P===0)return M;var W;return function(ae){clearTimeout(W),W=setTimeout(function(){M(ae)},P)}}function f(M,P){var W=Object.assign({},M);return P.forEach(function(ae){delete W[ae]}),W}function g(M){return M.split(/\s+/).filter(Boolean)}function m(M){return[].concat(M)}function b(M,P){M.indexOf(P)===-1&&M.push(P)}function v(M){return M.filter(function(P,W){return M.indexOf(P)===W})}function C(M){return M.split("-")[0]}function k(M){return[].slice.call(M)}function _(M){return Object.keys(M).reduce(function(P,W){return M[W]!==void 0&&(P[W]=M[W]),P},{})}function N(){return document.createElement("div")}function I(M){return["Element","Fragment"].some(function(P){return p(M,P)})}function L(M){return p(M,"NodeList")}function q(M){return p(M,"MouseEvent")}function A(M){return!!(M&&M._tippy&&M._tippy.reference===M)}function z(M){return I(M)?[M]:L(M)?k(M):Array.isArray(M)?M:k(document.querySelectorAll(M))}function H(M,P){M.forEach(function(W){W&&(W.style.transitionDuration=P+"ms")})}function U(M,P){M.forEach(function(W){W&&W.setAttribute("data-state",P)})}function ie(M){var P,W=m(M),ae=W[0];return!(ae==null||(P=ae.ownerDocument)==null)&&P.body?ae.ownerDocument:document}function ke(M,P){var W=P.clientX,ae=P.clientY;return M.every(function(we){var he=we.popperRect,le=we.popperState,Xe=we.props,Me=Xe.interactiveBorder,Ye=C(le.placement),pe=le.modifiersData.offset;if(!pe)return!0;var ht=Ye==="bottom"?pe.top.y:0,yt=Ye==="top"?pe.bottom.y:0,st=Ye==="right"?pe.left.x:0,xt=Ye==="left"?pe.right.x:0,Pe=he.top-ae+ht>Me,qe=ae-he.bottom-yt>Me,Ue=he.left-W+st>Me,Ne=W-he.right-xt>Me;return Pe||qe||Ue||Ne})}function Se(M,P,W){var ae=P+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(we){M[ae](we,W)})}var $={isTouch:!1},ne=0;function ue(){$.isTouch||($.isTouch=!0,window.performance&&document.addEventListener("mousemove",Ee))}function Ee(){var M=performance.now();M-ne<20&&($.isTouch=!1,document.removeEventListener("mousemove",Ee)),ne=M}function He(){var M=document.activeElement;if(A(M)){var P=M._tippy;M.blur&&!P.state.isVisible&&M.blur()}}function mr(){document.addEventListener("touchstart",ue,l),window.addEventListener("blur",He)}var xn=typeof window!="undefined"&&typeof document!="undefined",kn=xn?navigator.userAgent:"",Ar=/MSIE |Trident\//.test(kn);function ut(M){var P=M==="destroy"?"n already-":" ";return[M+"() was called on a"+P+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function pr(M){var P=/[ \t]{2,}/g,W=/^[ \t]*/gm;return M.replace(P," ").replace(W,"").trim()}function Br(M){return pr(`
  %ctippy.js

  %c`+pr(M)+`

  %c\u{1F477}\u200D This is a development-only message. It will be removed in production.
  `)}function un(M){return[Br(M),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}var Kt;Cn();function Cn(){Kt=new Set}function Mt(M,P){if(M&&!Kt.has(P)){var W;Kt.add(P),(W=console).warn.apply(W,un(P))}}function Tr(M,P){if(M&&!Kt.has(P)){var W;Kt.add(P),(W=console).error.apply(W,un(P))}}function vr(M){var P=!M,W=Object.prototype.toString.call(M)==="[object Object]"&&!M.addEventListener;Tr(P,["tippy() was passed","`"+String(M)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),Tr(W,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}var vt={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Rt={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},re=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},vt,{},Rt),Dt=Object.keys(re),Fe=function(P){at(P,[]);var W=Object.keys(P);W.forEach(function(ae){re[ae]=P[ae]})};function et(M){var P=M.plugins||[],W=P.reduce(function(ae,we){var he=we.name,le=we.defaultValue;return he&&(ae[he]=M[he]!==void 0?M[he]:le),ae},{});return Object.assign({},M,{},W)}function Sn(M,P){var W=P?Object.keys(et(Object.assign({},re,{plugins:P}))):Dt,ae=W.reduce(function(we,he){var le=(M.getAttribute("data-tippy-"+he)||"").trim();if(!le)return we;if(he==="content")we[he]=le;else try{we[he]=JSON.parse(le)}catch{we[he]=le}return we},{});return ae}function $n(M,P){var W=Object.assign({},P,{content:d(P.content,[M])},P.ignoreAttributes?{}:Sn(M,P.plugins));return W.aria=Object.assign({},re.aria,{},W.aria),W.aria={expanded:W.aria.expanded==="auto"?P.interactive:W.aria.expanded,content:W.aria.content==="auto"?P.interactive?null:"describedby":W.aria.content},W}function at(M,P){M===void 0&&(M={}),P===void 0&&(P=[]);var W=Object.keys(M);W.forEach(function(ae){var we=f(re,Object.keys(vt)),he=!c(we,ae);he&&(he=P.filter(function(le){return le.name===ae}).length===0),Mt(he,["`"+ae+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.",`

`,`All props: https://atomiks.github.io/tippyjs/v6/all-props/
`,"Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var dr=function(){return"innerHTML"};function tr(M,P){M[dr()]=P}function rr(M){var P=N();return M===!0?P.className=a:(P.className=s,I(M)?P.appendChild(M):tr(P,M)),P}function pn(M,P){I(P.content)?(tr(M,""),M.appendChild(P.content)):typeof P.content!="function"&&(P.allowHTML?tr(M,P.content):M.textContent=P.content)}function fr(M){var P=M.firstElementChild,W=k(P.children);return{box:P,content:W.find(function(ae){return ae.classList.contains(i)}),arrow:W.find(function(ae){return ae.classList.contains(a)||ae.classList.contains(s)}),backdrop:W.find(function(ae){return ae.classList.contains(o)})}}function Hn(M){var P=N(),W=N();W.className=n,W.setAttribute("data-state","hidden"),W.setAttribute("tabindex","-1");var ae=N();ae.className=i,ae.setAttribute("data-state","hidden"),pn(ae,M.props),P.appendChild(W),W.appendChild(ae),we(M.props,M.props);function we(he,le){var Xe=fr(P),Me=Xe.box,Ye=Xe.content,pe=Xe.arrow;le.theme?Me.setAttribute("data-theme",le.theme):Me.removeAttribute("data-theme"),typeof le.animation=="string"?Me.setAttribute("data-animation",le.animation):Me.removeAttribute("data-animation"),le.inertia?Me.setAttribute("data-inertia",""):Me.removeAttribute("data-inertia"),Me.style.maxWidth=typeof le.maxWidth=="number"?le.maxWidth+"px":le.maxWidth,le.role?Me.setAttribute("role",le.role):Me.removeAttribute("role"),(he.content!==le.content||he.allowHTML!==le.allowHTML)&&pn(Ye,M.props),le.arrow?pe?he.arrow!==le.arrow&&(Me.removeChild(pe),Me.appendChild(rr(le.arrow))):Me.appendChild(rr(le.arrow)):pe&&Me.removeChild(pe)}return{popper:P,onUpdate:we}}Hn.$$tippy=!0;var Lt=1,Kr=[],dn=[];function fn(M,P){var W=$n(M,Object.assign({},re,{},et(_(P)))),ae,we,he,le=!1,Xe=!1,Me=!1,Ye=!1,pe,ht,yt,st=[],xt=h(xe,W.interactiveDebounce),Pe,qe=Lt++,Ue=null,Ne=v(W.plugins),Be={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},j={id:qe,reference:M,popper:N(),popperInstance:Ue,props:W,state:Be,plugins:Ne,clearDelayTimeouts:Qr,setProps:mn,setContent:Xt,show:wr,hide:di,hideWithInteractivity:yr,enable:Jt,disable:$t,unmount:En,destroy:Dn};if(!W.render)return Tr(!0,"render() function has not been supplied."),j;var Bt=W.render(j),$e=Bt.popper,kt=Bt.onUpdate;$e.setAttribute("data-tippy-root",""),$e.id="tippy-"+j.id,j.popper=$e,M._tippy=j,$e._tippy=j;var Mr=Ne.map(function(X){return X.fn(j)}),Vn=M.hasAttribute("aria-expanded");return G(),Z(),E(),B("onCreate",[j]),W.showOnCreate&&lt(),$e.addEventListener("mouseenter",function(){j.props.interactive&&j.state.isVisible&&j.clearDelayTimeouts()}),$e.addEventListener("mouseleave",function(X){j.props.interactive&&j.props.trigger.indexOf("mouseenter")>=0&&(Or().addEventListener("mousemove",xt),xt(X))}),j;function Yn(){var X=j.props.touch;return Array.isArray(X)?X:[X,0]}function qn(){return Yn()[0]==="hold"}function hr(){var X;return!!((X=j.props.render)!=null&&X.$$tippy)}function br(){return Pe||M}function Or(){var X=br().parentNode;return X?ie(X):document}function Ti(){return fr($e)}function O(X){return j.state.isMounted&&!j.state.isVisible||$.isTouch||pe&&pe.type==="focus"?0:u(j.props.delay,X?0:1,re.delay)}function E(){$e.style.pointerEvents=j.props.interactive&&j.state.isVisible?"":"none",$e.style.zIndex=""+j.props.zIndex}function B(X,Ae,_e){if(_e===void 0&&(_e=!0),Mr.forEach(function(nt){nt[X]&&nt[X].apply(void 0,Ae)}),_e){var Ze;(Ze=j.props)[X].apply(Ze,Ae)}}function K(){var X=j.props.aria;if(!!X.content){var Ae="aria-"+X.content,_e=$e.id,Ze=m(j.props.triggerTarget||M);Ze.forEach(function(nt){var Zt=nt.getAttribute(Ae);if(j.state.isVisible)nt.setAttribute(Ae,Zt?Zt+" "+_e:_e);else{var gr=Zt&&Zt.replace(_e,"").trim();gr?nt.setAttribute(Ae,gr):nt.removeAttribute(Ae)}})}}function Z(){if(!(Vn||!j.props.aria.expanded)){var X=m(j.props.triggerTarget||M);X.forEach(function(Ae){j.props.interactive?Ae.setAttribute("aria-expanded",j.state.isVisible&&Ae===br()?"true":"false"):Ae.removeAttribute("aria-expanded")})}}function de(){Or().removeEventListener("mousemove",xt),Kr=Kr.filter(function(X){return X!==xt})}function Ce(X){if(!($.isTouch&&(Me||X.type==="mousedown"))&&!(j.props.interactive&&$e.contains(X.target))){if(br().contains(X.target)){if($.isTouch||j.state.isVisible&&j.props.trigger.indexOf("click")>=0)return}else B("onClickOutside",[j,X]);j.props.hideOnClick===!0&&(j.clearDelayTimeouts(),j.hide(),Xe=!0,setTimeout(function(){Xe=!1}),j.state.isMounted||D())}}function w(){Me=!0}function x(){Me=!1}function y(){var X=Or();X.addEventListener("mousedown",Ce,!0),X.addEventListener("touchend",Ce,l),X.addEventListener("touchstart",x,l),X.addEventListener("touchmove",w,l)}function D(){var X=Or();X.removeEventListener("mousedown",Ce,!0),X.removeEventListener("touchend",Ce,l),X.removeEventListener("touchstart",x,l),X.removeEventListener("touchmove",w,l)}function F(X,Ae){Y(X,function(){!j.state.isVisible&&$e.parentNode&&$e.parentNode.contains($e)&&Ae()})}function V(X,Ae){Y(X,Ae)}function Y(X,Ae){var _e=Ti().box;function Ze(nt){nt.target===_e&&(Se(_e,"remove",Ze),Ae())}if(X===0)return Ae();Se(_e,"remove",ht),Se(_e,"add",Ze),ht=Ze}function ee(X,Ae,_e){_e===void 0&&(_e=!1);var Ze=m(j.props.triggerTarget||M);Ze.forEach(function(nt){nt.addEventListener(X,Ae,_e),st.push({node:nt,eventType:X,handler:Ae,options:_e})})}function G(){qn()&&(ee("touchstart",ye,{passive:!0}),ee("touchend",je,{passive:!0})),g(j.props.trigger).forEach(function(X){if(X!=="manual")switch(ee(X,ye),X){case"mouseenter":ee("mouseleave",je);break;case"focus":ee(Ar?"focusout":"blur",fe);break;case"focusin":ee("focusout",fe);break}})}function ce(){st.forEach(function(X){var Ae=X.node,_e=X.eventType,Ze=X.handler,nt=X.options;Ae.removeEventListener(_e,Ze,nt)}),st=[]}function ye(X){var Ae,_e=!1;if(!(!j.state.isEnabled||We(X)||Xe)){var Ze=((Ae=pe)==null?void 0:Ae.type)==="focus";pe=X,Pe=X.currentTarget,Z(),!j.state.isVisible&&q(X)&&Kr.forEach(function(nt){return nt(X)}),X.type==="click"&&(j.props.trigger.indexOf("mouseenter")<0||le)&&j.props.hideOnClick!==!1&&j.state.isVisible?_e=!0:lt(X),X.type==="click"&&(le=!_e),_e&&!Ze&&Ct(X)}}function xe(X){var Ae=X.target,_e=br().contains(Ae)||$e.contains(Ae);if(!(X.type==="mousemove"&&_e)){var Ze=bt().concat($e).map(function(nt){var Zt,gr=nt._tippy,fi=(Zt=gr.popperInstance)==null?void 0:Zt.state;return fi?{popperRect:nt.getBoundingClientRect(),popperState:fi,props:W}:null}).filter(Boolean);ke(Ze,X)&&(de(),Ct(X))}}function je(X){var Ae=We(X)||j.props.trigger.indexOf("click")>=0&&le;if(!Ae){if(j.props.interactive){j.hideWithInteractivity(X);return}Ct(X)}}function fe(X){j.props.trigger.indexOf("focusin")<0&&X.target!==br()||j.props.interactive&&X.relatedTarget&&$e.contains(X.relatedTarget)||Ct(X)}function We(X){return $.isTouch?qn()!==X.type.indexOf("touch")>=0:!1}function Oe(){dt();var X=j.props,Ae=X.popperOptions,_e=X.placement,Ze=X.offset,nt=X.getReferenceClientRect,Zt=X.moveTransition,gr=hr()?fr($e).arrow:null,fi=nt?{getBoundingClientRect:nt,contextElement:nt.contextElement||br()}:M,za={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(lo){var Li=lo.state;if(hr()){var nu=Ti(),Bi=nu.box;["placement","reference-hidden","escaped"].forEach(function(co){co==="placement"?Bi.setAttribute("data-placement",Li.placement):Li.attributes.popper["data-popper-"+co]?Bi.setAttribute("data-"+co,""):Bi.removeAttribute("data-"+co)}),Li.attributes.popper={}}}},hi=[{name:"offset",options:{offset:Ze}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Zt}},za];hr()&&gr&&hi.push({name:"arrow",options:{element:gr,padding:3}}),hi.push.apply(hi,(Ae==null?void 0:Ae.modifiers)||[]),j.popperInstance=e.createPopper(fi,$e,Object.assign({},Ae,{placement:_e,onFirstUpdate:yt,modifiers:hi}))}function dt(){j.popperInstance&&(j.popperInstance.destroy(),j.popperInstance=null)}function Ke(){var X=j.props.appendTo,Ae,_e=br();j.props.interactive&&X===re.appendTo||X==="parent"?Ae=_e.parentNode:Ae=d(X,[_e]),Ae.contains($e)||Ae.appendChild($e),Oe(),Mt(j.props.interactive&&X===re.appendTo&&_e.nextElementSibling!==$e,["Interactive tippy element may not be accessible via keyboard","navigation because it is not directly after the reference element","in the DOM source order.",`

`,"Using a wrapper <div> or <span> tag around the reference element","solves this by creating a new parentNode context.",`

`,"Specifying `appendTo: document.body` silences this warning, but it","assumes you are using a focus management solution to handle","keyboard navigation.",`

`,"See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity"].join(" "))}function bt(){return k($e.querySelectorAll("[data-tippy-root]"))}function lt(X){j.clearDelayTimeouts(),X&&B("onTrigger",[j,X]),y();var Ae=O(!0),_e=Yn(),Ze=_e[0],nt=_e[1];$.isTouch&&Ze==="hold"&&nt&&(Ae=nt),Ae?ae=setTimeout(function(){j.show()},Ae):j.show()}function Ct(X){if(j.clearDelayTimeouts(),B("onUntrigger",[j,X]),!j.state.isVisible){D();return}if(!(j.props.trigger.indexOf("mouseenter")>=0&&j.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(X.type)>=0&&le)){var Ae=O(!1);Ae?we=setTimeout(function(){j.state.isVisible&&j.hide()},Ae):he=requestAnimationFrame(function(){j.hide()})}}function Jt(){j.state.isEnabled=!0}function $t(){j.hide(),j.state.isEnabled=!1}function Qr(){clearTimeout(ae),clearTimeout(we),cancelAnimationFrame(he)}function mn(X){if(Mt(j.state.isDestroyed,ut("setProps")),!j.state.isDestroyed){B("onBeforeUpdate",[j,X]),ce();var Ae=j.props,_e=$n(M,Object.assign({},j.props,{},X,{ignoreAttributes:!0}));j.props=_e,G(),Ae.interactiveDebounce!==_e.interactiveDebounce&&(de(),xt=h(xe,_e.interactiveDebounce)),Ae.triggerTarget&&!_e.triggerTarget?m(Ae.triggerTarget).forEach(function(Ze){Ze.removeAttribute("aria-expanded")}):_e.triggerTarget&&M.removeAttribute("aria-expanded"),Z(),E(),kt&&kt(Ae,_e),j.popperInstance&&(Oe(),bt().forEach(function(Ze){requestAnimationFrame(Ze._tippy.popperInstance.forceUpdate)})),B("onAfterUpdate",[j,X])}}function Xt(X){j.setProps({content:X})}function wr(){Mt(j.state.isDestroyed,ut("show"));var X=j.state.isVisible,Ae=j.state.isDestroyed,_e=!j.state.isEnabled,Ze=$.isTouch&&!j.props.touch,nt=u(j.props.duration,0,re.duration);if(!(X||Ae||_e||Ze)&&!br().hasAttribute("disabled")&&(B("onShow",[j],!1),j.props.onShow(j)!==!1)){if(j.state.isVisible=!0,hr()&&($e.style.visibility="visible"),E(),y(),j.state.isMounted||($e.style.transition="none"),hr()){var Zt=Ti(),gr=Zt.box,fi=Zt.content;H([gr,fi],0)}yt=function(){var hi;if(!(!j.state.isVisible||Ye)){if(Ye=!0,$e.offsetHeight,$e.style.transition=j.props.moveTransition,hr()&&j.props.animation){var Ro=Ti(),lo=Ro.box,Li=Ro.content;H([lo,Li],nt),U([lo,Li],"visible")}K(),Z(),b(dn,j),(hi=j.popperInstance)==null||hi.forceUpdate(),j.state.isMounted=!0,B("onMount",[j]),j.props.animation&&hr()&&V(nt,function(){j.state.isShown=!0,B("onShown",[j])})}},Ke()}}function di(){Mt(j.state.isDestroyed,ut("hide"));var X=!j.state.isVisible,Ae=j.state.isDestroyed,_e=!j.state.isEnabled,Ze=u(j.props.duration,1,re.duration);if(!(X||Ae||_e)&&(B("onHide",[j],!1),j.props.onHide(j)!==!1)){if(j.state.isVisible=!1,j.state.isShown=!1,Ye=!1,le=!1,hr()&&($e.style.visibility="hidden"),de(),D(),E(),hr()){var nt=Ti(),Zt=nt.box,gr=nt.content;j.props.animation&&(H([Zt,gr],Ze),U([Zt,gr],"hidden"))}K(),Z(),j.props.animation?hr()&&F(Ze,j.unmount):j.unmount()}}function yr(X){Mt(j.state.isDestroyed,ut("hideWithInteractivity")),Or().addEventListener("mousemove",xt),b(Kr,xt),xt(X)}function En(){Mt(j.state.isDestroyed,ut("unmount")),j.state.isVisible&&j.hide(),j.state.isMounted&&(dt(),bt().forEach(function(X){X._tippy.unmount()}),$e.parentNode&&$e.parentNode.removeChild($e),dn=dn.filter(function(X){return X!==j}),j.state.isMounted=!1,B("onHidden",[j]))}function Dn(){Mt(j.state.isDestroyed,ut("destroy")),!j.state.isDestroyed&&(j.clearDelayTimeouts(),j.unmount(),ce(),delete M._tippy,j.state.isDestroyed=!0,B("onDestroy",[j]))}}function Ut(M,P){P===void 0&&(P={});var W=re.plugins.concat(P.plugins||[]);vr(M),at(P,W),mr();var ae=Object.assign({},P,{plugins:W}),we=z(M);{var he=I(ae.content),le=we.length>1;Mt(he&&le,["tippy() was passed an Element as the `content` prop, but more than","one tippy instance was created by this invocation. This means the","content element will only be appended to the last tippy instance.",`

`,"Instead, pass the .innerHTML of the element, or use a function that","returns a cloned version of the element instead.",`

`,`1) content: element.innerHTML
`,"2) content: () => element.cloneNode(true)"].join(" "))}var Xe=we.reduce(function(Me,Ye){var pe=Ye&&fn(Ye,ae);return pe&&Me.push(pe),Me},[]);return I(M)?Xe[0]:Xe}Ut.defaultProps=re,Ut.setDefaultProps=Fe,Ut.currentInput=$;var rt=function(P){var W=P===void 0?{}:P,ae=W.exclude,we=W.duration;dn.forEach(function(he){var le=!1;if(ae&&(le=A(ae)?he.reference===ae:he.popper===ae.popper),!le){var Xe=he.props.duration;he.setProps({duration:we}),he.hide(),he.state.isDestroyed||he.setProps({duration:Xe})}})},jn=Object.assign({},e.applyStyles,{effect:function(P){var W=P.state,ae={popper:{position:W.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(W.elements.popper.style,ae.popper),W.styles=ae,W.elements.arrow&&Object.assign(W.elements.arrow.style,ae.arrow)}}),Wn=function(P,W){var ae;W===void 0&&(W={}),Tr(!Array.isArray(P),["The first argument passed to createSingleton() must be an array of","tippy instances. The passed value was",String(P)].join(" "));var we=P,he=[],le,Xe=W.overrides,Me=[],Ye=!1;function pe(){he=we.map(function(Ne){return Ne.reference})}function ht(Ne){we.forEach(function(Be){Ne?Be.enable():Be.disable()})}function yt(Ne){return we.map(function(Be){var j=Be.setProps;return Be.setProps=function(Bt){j(Bt),Be.reference===le&&Ne.setProps(Bt)},function(){Be.setProps=j}})}function st(Ne,Be){var j=he.indexOf(Be);if(Be!==le){le=Be;var Bt=(Xe||[]).concat("content").reduce(function($e,kt){return $e[kt]=we[j].props[kt],$e},{});Ne.setProps(Object.assign({},Bt,{getReferenceClientRect:typeof Bt.getReferenceClientRect=="function"?Bt.getReferenceClientRect:function(){return Be.getBoundingClientRect()}}))}}ht(!1),pe();var xt={fn:function(){return{onDestroy:function(){ht(!0)},onHidden:function(){le=null},onClickOutside:function(j){j.props.showOnCreate&&!Ye&&(Ye=!0,le=null)},onShow:function(j){j.props.showOnCreate&&!Ye&&(Ye=!0,st(j,he[0]))},onTrigger:function(j,Bt){st(j,Bt.currentTarget)}}}},Pe=Ut(N(),Object.assign({},f(W,["overrides"]),{plugins:[xt].concat(W.plugins||[]),triggerTarget:he,popperOptions:Object.assign({},W.popperOptions,{modifiers:[].concat(((ae=W.popperOptions)==null?void 0:ae.modifiers)||[],[jn])})})),qe=Pe.show;Pe.show=function(Ne){if(qe(),!le&&Ne==null)return st(Pe,he[0]);if(!(le&&Ne==null)){if(typeof Ne=="number")return he[Ne]&&st(Pe,he[Ne]);if(we.includes(Ne)){var Be=Ne.reference;return st(Pe,Be)}if(he.includes(Ne))return st(Pe,Ne)}},Pe.showNext=function(){var Ne=he[0];if(!le)return Pe.show(0);var Be=he.indexOf(le);Pe.show(he[Be+1]||Ne)},Pe.showPrevious=function(){var Ne=he[he.length-1];if(!le)return Pe.show(Ne);var Be=he.indexOf(le),j=he[Be-1]||Ne;Pe.show(j)};var Ue=Pe.setProps;return Pe.setProps=function(Ne){Xe=Ne.overrides||Xe,Ue(Ne)},Pe.setInstances=function(Ne){ht(!0),Me.forEach(function(Be){return Be()}),we=Ne,ht(!1),pe(),yt(Pe),Pe.setProps({triggerTarget:he})},Me=yt(Pe),Pe},Ai={mouseover:"mouseenter",focusin:"focus",click:"click"};function $r(M,P){Tr(!(P&&P.target),["You must specity a `target` prop indicating a CSS selector string matching","the target elements that should receive a tippy."].join(" "));var W=[],ae=[],we=!1,he=P.target,le=f(P,["target"]),Xe=Object.assign({},le,{trigger:"manual",touch:!1}),Me=Object.assign({},le,{showOnCreate:!0}),Ye=Ut(M,Xe),pe=m(Ye);function ht(qe){if(!(!qe.target||we)){var Ue=qe.target.closest(he);if(!!Ue){var Ne=Ue.getAttribute("data-tippy-trigger")||P.trigger||re.trigger;if(!Ue._tippy&&!(qe.type==="touchstart"&&typeof Me.touch=="boolean")&&!(qe.type!=="touchstart"&&Ne.indexOf(Ai[qe.type])<0)){var Be=Ut(Ue,Me);Be&&(ae=ae.concat(Be))}}}}function yt(qe,Ue,Ne,Be){Be===void 0&&(Be=!1),qe.addEventListener(Ue,Ne,Be),W.push({node:qe,eventType:Ue,handler:Ne,options:Be})}function st(qe){var Ue=qe.reference;yt(Ue,"touchstart",ht,l),yt(Ue,"mouseover",ht),yt(Ue,"focusin",ht),yt(Ue,"click",ht)}function xt(){W.forEach(function(qe){var Ue=qe.node,Ne=qe.eventType,Be=qe.handler,j=qe.options;Ue.removeEventListener(Ne,Be,j)}),W=[]}function Pe(qe){var Ue=qe.destroy,Ne=qe.enable,Be=qe.disable;qe.destroy=function(j){j===void 0&&(j=!0),j&&ae.forEach(function(Bt){Bt.destroy()}),ae=[],xt(),Ue()},qe.enable=function(){Ne(),ae.forEach(function(j){return j.enable()}),we=!1},qe.disable=function(){Be(),ae.forEach(function(j){return j.disable()}),we=!0},st(qe)}return pe.forEach(Pe),Ye}var hn={name:"animateFill",defaultValue:!1,fn:function(P){var W;if(!((W=P.props.render)!=null&&W.$$tippy))return Tr(P.props.animateFill,"The `animateFill` plugin requires the default render function."),{};var ae=fr(P.popper),we=ae.box,he=ae.content,le=P.props.animateFill?nr():null;return{onCreate:function(){le&&(we.insertBefore(le,we.firstElementChild),we.setAttribute("data-animatefill",""),we.style.overflow="hidden",P.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(le){var Me=we.style.transitionDuration,Ye=Number(Me.replace("ms",""));he.style.transitionDelay=Math.round(Ye/10)+"ms",le.style.transitionDuration=Me,U([le],"visible")}},onShow:function(){le&&(le.style.transitionDuration="0ms")},onHide:function(){le&&U([le],"hidden")}}}};function nr(){var M=N();return M.className=o,U([M],"hidden"),M}var gn={clientX:0,clientY:0},Zr=[];function S(M){var P=M.clientX,W=M.clientY;gn={clientX:P,clientY:W}}function T(M){M.addEventListener("mousemove",S)}function R(M){M.removeEventListener("mousemove",S)}var J={name:"followCursor",defaultValue:!1,fn:function(P){var W=P.reference,ae=ie(P.props.triggerTarget||W),we=!1,he=!1,le=!0,Xe=P.props;function Me(){return P.props.followCursor==="initial"&&P.state.isVisible}function Ye(){ae.addEventListener("mousemove",yt)}function pe(){ae.removeEventListener("mousemove",yt)}function ht(){we=!0,P.setProps({getReferenceClientRect:null}),we=!1}function yt(Pe){var qe=Pe.target?W.contains(Pe.target):!0,Ue=P.props.followCursor,Ne=Pe.clientX,Be=Pe.clientY,j=W.getBoundingClientRect(),Bt=Ne-j.left,$e=Be-j.top;(qe||!P.props.interactive)&&P.setProps({getReferenceClientRect:function(){var Mr=W.getBoundingClientRect(),Vn=Ne,Yn=Be;Ue==="initial"&&(Vn=Mr.left+Bt,Yn=Mr.top+$e);var qn=Ue==="horizontal"?Mr.top:Yn,hr=Ue==="vertical"?Mr.right:Vn,br=Ue==="horizontal"?Mr.bottom:Yn,Or=Ue==="vertical"?Mr.left:Vn;return{width:hr-Or,height:br-qn,top:qn,right:hr,bottom:br,left:Or}}})}function st(){P.props.followCursor&&(Zr.push({instance:P,doc:ae}),T(ae))}function xt(){Zr=Zr.filter(function(Pe){return Pe.instance!==P}),Zr.filter(function(Pe){return Pe.doc===ae}).length===0&&R(ae)}return{onCreate:st,onDestroy:xt,onBeforeUpdate:function(){Xe=P.props},onAfterUpdate:function(qe,Ue){var Ne=Ue.followCursor;we||Ne!==void 0&&Xe.followCursor!==Ne&&(xt(),Ne?(st(),P.state.isMounted&&!he&&!Me()&&Ye()):(pe(),ht()))},onMount:function(){P.props.followCursor&&!he&&(le&&(yt(gn),le=!1),Me()||Ye())},onTrigger:function(qe,Ue){q(Ue)&&(gn={clientX:Ue.clientX,clientY:Ue.clientY}),he=Ue.type==="focus"},onHidden:function(){P.props.followCursor&&(ht(),pe(),le=!0)}}}};function se(M,P){var W;return{popperOptions:Object.assign({},M.popperOptions,{modifiers:[].concat((((W=M.popperOptions)==null?void 0:W.modifiers)||[]).filter(function(ae){var we=ae.name;return we!==P.name}),[P])})}}var ge={name:"inlinePositioning",defaultValue:!1,fn:function(P){var W=P.reference;function ae(){return!!P.props.inlinePositioning}var we,he=-1,le=!1,Xe={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(yt){var st=yt.state;ae()&&(we!==st.placement&&P.setProps({getReferenceClientRect:function(){return Me(st.placement)}}),we=st.placement)}};function Me(ht){return Le(C(ht),W.getBoundingClientRect(),k(W.getClientRects()),he)}function Ye(ht){le=!0,P.setProps(ht),le=!1}function pe(){le||Ye(se(P.props,Xe))}return{onCreate:pe,onAfterUpdate:pe,onTrigger:function(yt,st){if(q(st)){var xt=k(P.reference.getClientRects()),Pe=xt.find(function(qe){return qe.left-2<=st.clientX&&qe.right+2>=st.clientX&&qe.top-2<=st.clientY&&qe.bottom+2>=st.clientY});he=xt.indexOf(Pe)}},onUntrigger:function(){he=-1}}}};function Le(M,P,W,ae){if(W.length<2||M===null)return P;if(W.length===2&&ae>=0&&W[0].left>W[1].right)return W[ae]||P;switch(M){case"top":case"bottom":{var we=W[0],he=W[W.length-1],le=M==="top",Xe=we.top,Me=he.bottom,Ye=le?we.left:he.left,pe=le?we.right:he.right,ht=pe-Ye,yt=Me-Xe;return{top:Xe,bottom:Me,left:Ye,right:pe,width:ht,height:yt}}case"left":case"right":{var st=Math.min.apply(Math,W.map(function($e){return $e.left})),xt=Math.max.apply(Math,W.map(function($e){return $e.right})),Pe=W.filter(function($e){return M==="left"?$e.left===st:$e.right===xt}),qe=Pe[0].top,Ue=Pe[Pe.length-1].bottom,Ne=st,Be=xt,j=Be-Ne,Bt=Ue-qe;return{top:qe,bottom:Ue,left:Ne,right:Be,width:j,height:Bt}}default:return P}}var De={name:"sticky",defaultValue:!1,fn:function(P){var W=P.reference,ae=P.popper;function we(){return P.popperInstance?P.popperInstance.state.elements.reference:W}function he(Ye){return P.props.sticky===!0||P.props.sticky===Ye}var le=null,Xe=null;function Me(){var Ye=he("reference")?we().getBoundingClientRect():null,pe=he("popper")?ae.getBoundingClientRect():null;(Ye&&Ve(le,Ye)||pe&&Ve(Xe,pe))&&P.popperInstance&&P.popperInstance.update(),le=Ye,Xe=pe,P.state.isMounted&&requestAnimationFrame(Me)}return{onMount:function(){P.props.sticky&&Me()}}}};function Ve(M,P){return M&&P?M.top!==P.top||M.right!==P.right||M.bottom!==P.bottom||M.left!==P.left:!0}Ut.setDefaultProps({render:Hn}),r.animateFill=hn,r.createSingleton=Wn,r.default=Ut,r.delegate=$r,r.followCursor=J,r.hideAll=rt,r.inlinePositioning=ge,r.roundArrow=t,r.sticky=De}),s1=tv(rv()),l1=tv(rv()),c1=r=>{const e={plugins:[]},t=n=>r[r.indexOf(n)+1];if(r.includes("animation")&&(e.animation=t("animation")),r.includes("duration")&&(e.duration=parseInt(t("duration"))),r.includes("delay")){const n=t("delay");e.delay=n.includes("-")?n.split("-").map(i=>parseInt(i)):parseInt(n)}if(r.includes("cursor")){e.plugins.push(l1.followCursor);const n=t("cursor");["x","initial"].includes(n)?e.followCursor=n==="x"?"horizontal":"initial":e.followCursor=!0}return r.includes("on")&&(e.trigger=t("on")),r.includes("arrowless")&&(e.arrow=!1),r.includes("html")&&(e.allowHTML=!0),r.includes("interactive")&&(e.interactive=!0),r.includes("border")&&e.interactive&&(e.interactiveBorder=parseInt(t("border"))),r.includes("debounce")&&e.interactive&&(e.interactiveDebounce=parseInt(t("debounce"))),r.includes("max-width")&&(e.maxWidth=parseInt(t("max-width"))),r.includes("theme")&&(e.theme=t("theme")),r.includes("placement")&&(e.placement=t("placement")),e};function u1(r){r.directive("tooltip",(e,{modifiers:t,expression:n},{evaluateLater:i,effect:o})=>{const a=i(n),s=t.length>0?c1(t):{};o(()=>{a(l=>{e.__x_tippy||(e.__x_tippy=(0,s1.default)(e,s)),l?(e.__x_tippy.enable(),e.__x_tippy.setContent(l)):e.__x_tippy.disable()})})})}var p1=u1;function jr(r){this.content=r}jr.prototype={constructor:jr,find:function(r){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===r)return e;return-1},get:function(r){var e=this.find(r);return e==-1?void 0:this.content[e+1]},update:function(r,e,t){var n=t&&t!=r?this.remove(t):this,i=n.find(r),o=n.content.slice();return i==-1?o.push(t||r,e):(o[i+1]=e,t&&(o[i]=t)),new jr(o)},remove:function(r){var e=this.find(r);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new jr(t)},addToStart:function(r,e){return new jr([r,e].concat(this.remove(r).content))},addToEnd:function(r,e){var t=this.remove(r).content.slice();return t.push(r,e),new jr(t)},addBefore:function(r,e,t){var n=this.remove(e),i=n.content.slice(),o=n.find(r);return i.splice(o==-1?i.length:o,0,e,t),new jr(i)},forEach:function(r){for(var e=0;e<this.content.length;e+=2)r(this.content[e],this.content[e+1])},prepend:function(r){return r=jr.from(r),r.size?new jr(r.content.concat(this.subtract(r).content)):this},append:function(r){return r=jr.from(r),r.size?new jr(this.subtract(r).content.concat(r.content)):this},subtract:function(r){var e=this;r=jr.from(r);for(var t=0;t<r.content.length;t+=2)e=e.remove(r.content[t]);return e},get size(){return this.content.length>>1}};jr.from=function(r){if(r instanceof jr)return r;var e=[];if(r)for(var t in r)e.push(t,r[t]);return new jr(e)};var Pf=jr;function nv(r,e,t){for(var n=0;;n++){if(n==r.childCount||n==e.childCount)return r.childCount==e.childCount?null:t;var i=r.child(n),o=e.child(n);if(i==o){t+=i.nodeSize;continue}if(!i.sameMarkup(o))return t;if(i.isText&&i.text!=o.text){for(var a=0;i.text[a]==o.text[a];a++)t++;return t}if(i.content.size||o.content.size){var s=nv(i.content,o.content,t+1);if(s!=null)return s}t+=i.nodeSize}}function iv(r,e,t,n){for(var i=r.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:t,b:n};var a=r.child(--i),s=e.child(--o),l=a.nodeSize;if(a==s){t-=l,n-=l;continue}if(!a.sameMarkup(s))return{a:t,b:n};if(a.isText&&a.text!=s.text){for(var c=0,u=Math.min(a.text.length,s.text.length);c<u&&a.text[a.text.length-c-1]==s.text[s.text.length-c-1];)c++,t--,n--;return{a:t,b:n}}if(a.content.size||s.content.size){var p=iv(a.content,s.content,t-1,n-1);if(p)return p}t-=l,n-=l}}var Q=function(e,t){if(this.content=e,this.size=t||0,t==null)for(var n=0;n<e.length;n++)this.size+=e[n].nodeSize},Tc={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};Q.prototype.nodesBetween=function(e,t,n,i,o){i===void 0&&(i=0);for(var a=0,s=0;s<t;a++){var l=this.content[a],c=s+l.nodeSize;if(c>e&&n(l,i+s,o,a)!==!1&&l.content.size){var u=s+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,t-u),n,i+u)}s=c}};Q.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)};Q.prototype.textBetween=function(e,t,n,i){var o="",a=!0;return this.nodesBetween(e,t,function(s,l){s.isText?(o+=s.text.slice(Math.max(e,l)-l,t-l),a=!n):s.isLeaf&&i?(o+=typeof i=="function"?i(s):i,a=!n):!a&&s.isBlock&&(o+=n,a=!0)},0),o};Q.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var t=this.lastChild,n=e.firstChild,i=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(i[i.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new Q(i,this.size+e.size)};Q.prototype.cut=function(e,t){if(t==null&&(t=this.size),e==0&&t==this.size)return this;var n=[],i=0;if(t>e)for(var o=0,a=0;a<t;o++){var s=this.content[o],l=a+s.nodeSize;l>e&&((a<e||l>t)&&(s.isText?s=s.cut(Math.max(0,e-a),Math.min(s.text.length,t-a)):s=s.cut(Math.max(0,e-a-1),Math.min(s.content.size,t-a-1))),n.push(s),i+=s.nodeSize),a=l}return new Q(n,i)};Q.prototype.cutByIndex=function(e,t){return e==t?Q.empty:e==0&&t==this.content.length?this:new Q(this.content.slice(e,t))};Q.prototype.replaceChild=function(e,t){var n=this.content[e];if(n==t)return this;var i=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return i[e]=t,new Q(i,o)};Q.prototype.addToStart=function(e){return new Q([e].concat(this.content),this.size+e.nodeSize)};Q.prototype.addToEnd=function(e){return new Q(this.content.concat(e),this.size+e.nodeSize)};Q.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0};Tc.firstChild.get=function(){return this.content.length?this.content[0]:null};Tc.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null};Tc.childCount.get=function(){return this.content.length};Q.prototype.child=function(e){var t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t};Q.prototype.maybeChild=function(e){return this.content[e]};Q.prototype.forEach=function(e){for(var t=0,n=0;t<this.content.length;t++){var i=this.content[t];e(i,n,t),n+=i.nodeSize}};Q.prototype.findDiffStart=function(e,t){return t===void 0&&(t=0),nv(this,e,t)};Q.prototype.findDiffEnd=function(e,t,n){return t===void 0&&(t=this.size),n===void 0&&(n=e.size),iv(this,e,t,n)};Q.prototype.findIndex=function(e,t){if(t===void 0&&(t=-1),e==0)return Gs(0,e);if(e==this.size)return Gs(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var n=0,i=0;;n++){var o=this.child(n),a=i+o.nodeSize;if(a>=e)return a==e||t>0?Gs(n+1,a):Gs(n,i);i=a}};Q.prototype.toString=function(){return"<"+this.toStringInner()+">"};Q.prototype.toStringInner=function(){return this.content.join(", ")};Q.prototype.toJSON=function(){return this.content.length?this.content.map(function(e){return e.toJSON()}):null};Q.fromJSON=function(e,t){if(!t)return Q.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new Q(t.map(e.nodeFromJSON))};Q.fromArray=function(e){if(!e.length)return Q.empty;for(var t,n=0,i=0;i<e.length;i++){var o=e[i];n+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(t||(t=e.slice(0,i)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new Q(t||e,n)};Q.from=function(e){if(!e)return Q.empty;if(e instanceof Q)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Q([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))};Object.defineProperties(Q.prototype,Tc);var lu={index:0,offset:0};function Gs(r,e){return lu.index=r,lu.offset=e,lu}Q.empty=new Q([],0);function Tl(r,e){if(r===e)return!0;if(!(r&&typeof r=="object")||!(e&&typeof e=="object"))return!1;var t=Array.isArray(r);if(Array.isArray(e)!=t)return!1;if(t){if(r.length!=e.length)return!1;for(var n=0;n<r.length;n++)if(!Tl(r[n],e[n]))return!1}else{for(var i in r)if(!(i in e)||!Tl(r[i],e[i]))return!1;for(var o in e)if(!(o in r))return!1}return!0}var pt=function(e,t){this.type=e,this.attrs=t};pt.prototype.addToSet=function(e){for(var t,n=!1,i=0;i<e.length;i++){var o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t};pt.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e};pt.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1};pt.prototype.eq=function(e){return this==e||this.type==e.type&&Tl(this.attrs,e.attrs)};pt.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e};pt.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");var n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type "+t.type+" in this schema");return n.create(t.attrs)};pt.sameSet=function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0};pt.setFrom=function(e){if(!e||e.length==0)return pt.none;if(e instanceof pt)return[e];var t=e.slice();return t.sort(function(n,i){return n.type.rank-i.type.rank}),t};pt.none=[];function xi(r){var e=Error.call(this,r);return e.__proto__=xi.prototype,e}xi.prototype=Object.create(Error.prototype);xi.prototype.constructor=xi;xi.prototype.name="ReplaceError";var ve=function(e,t,n){this.content=e,this.openStart=t,this.openEnd=n},ov={size:{configurable:!0}};ov.size.get=function(){return this.content.size-this.openStart-this.openEnd};ve.prototype.insertAt=function(e,t){var n=sv(this.content,e+this.openStart,t,null);return n&&new ve(n,this.openStart,this.openEnd)};ve.prototype.removeBetween=function(e,t){return new ve(av(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)};ve.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd};ve.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"};ve.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e};ve.fromJSON=function(e,t){if(!t)return ve.empty;var n=t.openStart||0,i=t.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ve(Q.fromJSON(e,t.content),n,i)};ve.maxOpen=function(e,t){t===void 0&&(t=!0);for(var n=0,i=0,o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)n++;for(var a=e.lastChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.lastChild)i++;return new ve(e,n,i)};Object.defineProperties(ve.prototype,ov);function av(r,e,t){var n=r.findIndex(e),i=n.index,o=n.offset,a=r.maybeChild(i),s=r.findIndex(t),l=s.index,c=s.offset;if(o==e||a.isText){if(c!=t&&!r.child(l).isText)throw new RangeError("Removing non-flat range");return r.cut(0,e).append(r.cut(t))}if(i!=l)throw new RangeError("Removing non-flat range");return r.replaceChild(i,a.copy(av(a.content,e-o-1,t-o-1)))}function sv(r,e,t,n){var i=r.findIndex(e),o=i.index,a=i.offset,s=r.maybeChild(o);if(a==e||s.isText)return n&&!n.canReplace(o,o,t)?null:r.cut(0,e).append(t).append(r.cut(e));var l=sv(s.content,e-a-1,t);return l&&r.replaceChild(o,s.copy(l))}ve.empty=new ve(Q.empty,0,0);function d1(r,e,t){if(t.openStart>r.depth)throw new xi("Inserted content deeper than insertion position");if(r.depth-t.openStart!=e.depth-t.openEnd)throw new xi("Inconsistent open depths");return lv(r,e,t,0)}function lv(r,e,t,n){var i=r.index(n),o=r.node(n);if(i==e.index(n)&&n<r.depth-t.openStart){var a=lv(r,e,t,n+1);return o.copy(o.content.replaceChild(i,a))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&r.depth==n&&e.depth==n){var s=r.parent,l=s.content;return ko(s,l.cut(0,r.parentOffset).append(t.content).append(l.cut(e.parentOffset)))}else{var c=f1(t,r),u=c.start,p=c.end;return ko(o,uv(r,u,p,e,n))}else return ko(o,Ml(r,e,n))}function cv(r,e){if(!e.type.compatibleContent(r.type))throw new xi("Cannot join "+e.type.name+" onto "+r.type.name)}function hp(r,e,t){var n=r.node(t);return cv(n,e.node(t)),n}function xo(r,e){var t=e.length-1;t>=0&&r.isText&&r.sameMarkup(e[t])?e[t]=r.withText(e[t].text+r.text):e.push(r)}function ts(r,e,t,n){var i=(e||r).node(t),o=0,a=e?e.index(t):i.childCount;r&&(o=r.index(t),r.depth>t?o++:r.textOffset&&(xo(r.nodeAfter,n),o++));for(var s=o;s<a;s++)xo(i.child(s),n);e&&e.depth==t&&e.textOffset&&xo(e.nodeBefore,n)}function ko(r,e){if(!r.type.validContent(e))throw new xi("Invalid content for node "+r.type.name);return r.copy(e)}function uv(r,e,t,n,i){var o=r.depth>i&&hp(r,e,i+1),a=n.depth>i&&hp(t,n,i+1),s=[];return ts(null,r,i,s),o&&a&&e.index(i)==t.index(i)?(cv(o,a),xo(ko(o,uv(r,e,t,n,i+1)),s)):(o&&xo(ko(o,Ml(r,e,i+1)),s),ts(e,t,i,s),a&&xo(ko(a,Ml(t,n,i+1)),s)),ts(n,null,i,s),new Q(s)}function Ml(r,e,t){var n=[];if(ts(null,r,t,n),r.depth>t){var i=hp(r,e,t+1);xo(ko(i,Ml(r,e,t+1)),n)}return ts(e,null,t,n),new Q(n)}function f1(r,e){for(var t=e.depth-r.openStart,n=e.node(t),i=n.copy(r.content),o=t-1;o>=0;o--)i=e.node(o).copy(Q.from(i));return{start:i.resolveNoCache(r.openStart+t),end:i.resolveNoCache(i.content.size-r.openEnd-t)}}var jt=function(e,t,n){this.pos=e,this.path=t,this.depth=t.length/3-1,this.parentOffset=n},Ea={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};jt.prototype.resolveDepth=function(e){return e==null?this.depth:e<0?this.depth+e:e};Ea.parent.get=function(){return this.node(this.depth)};Ea.doc.get=function(){return this.node(0)};jt.prototype.node=function(e){return this.path[this.resolveDepth(e)*3]};jt.prototype.index=function(e){return this.path[this.resolveDepth(e)*3+1]};jt.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)};jt.prototype.start=function(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1};jt.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size};jt.prototype.before=function(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]};jt.prototype.after=function(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize};Ea.textOffset.get=function(){return this.pos-this.path[this.path.length-1]};Ea.nodeAfter.get=function(){var r=this.parent,e=this.index(this.depth);if(e==r.childCount)return null;var t=this.pos-this.path[this.path.length-1],n=r.child(e);return t?r.child(e).cut(t):n};Ea.nodeBefore.get=function(){var r=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(r).cut(0,e):r==0?null:this.parent.child(r-1)};jt.prototype.posAtIndex=function(e,t){t=this.resolveDepth(t);for(var n=this.path[t*3],i=t==0?0:this.path[t*3-1]+1,o=0;o<e;o++)i+=n.child(o).nodeSize;return i};jt.prototype.marks=function(){var e=this.parent,t=this.index();if(e.content.size==0)return pt.none;if(this.textOffset)return e.child(t).marks;var n=e.maybeChild(t-1),i=e.maybeChild(t);if(!n){var o=n;n=i,i=o}for(var a=n.marks,s=0;s<a.length;s++)a[s].type.spec.inclusive===!1&&(!i||!a[s].isInSet(i.marks))&&(a=a[s--].removeFromSet(a));return a};jt.prototype.marksAcross=function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var n=t.marks,i=e.parent.maybeChild(e.index()),o=0;o<n.length;o++)n[o].type.spec.inclusive===!1&&(!i||!n[o].isInSet(i.marks))&&(n=n[o--].removeFromSet(n));return n};jt.prototype.sharedDepth=function(e){for(var t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0};jt.prototype.blockRange=function(e,t){if(e===void 0&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new gs(this,e,n)};jt.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset};jt.prototype.max=function(e){return e.pos>this.pos?e:this};jt.prototype.min=function(e){return e.pos<this.pos?e:this};jt.prototype.toString=function(){for(var e="",t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset};jt.resolve=function(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");for(var n=[],i=0,o=t,a=e;;){var s=a.content.findIndex(o),l=s.index,c=s.offset,u=o-c;if(n.push(a,l,i+c),!u||(a=a.child(l),a.isText))break;o=u-1,i+=c+1}return new jt(t,n,o)};jt.resolveCached=function(e,t){for(var n=0;n<cu.length;n++){var i=cu[n];if(i.pos==t&&i.doc==e)return i}var o=cu[uu]=jt.resolve(e,t);return uu=(uu+1)%h1,o};Object.defineProperties(jt.prototype,Ea);var cu=[],uu=0,h1=12,gs=function(e,t,n){this.$from=e,this.$to=t,this.depth=n},Da={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};Da.start.get=function(){return this.$from.before(this.depth+1)};Da.end.get=function(){return this.$to.after(this.depth+1)};Da.parent.get=function(){return this.$from.node(this.depth)};Da.startIndex.get=function(){return this.$from.index(this.depth)};Da.endIndex.get=function(){return this.$to.indexAfter(this.depth)};Object.defineProperties(gs.prototype,Da);var g1=Object.create(null),ft=function(e,t,n,i){this.type=e,this.attrs=t,this.content=n||Q.empty,this.marks=i||pt.none},Rn={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};Rn.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size};Rn.childCount.get=function(){return this.content.childCount};ft.prototype.child=function(e){return this.content.child(e)};ft.prototype.maybeChild=function(e){return this.content.maybeChild(e)};ft.prototype.forEach=function(e){this.content.forEach(e)};ft.prototype.nodesBetween=function(e,t,n,i){i===void 0&&(i=0),this.content.nodesBetween(e,t,n,i,this)};ft.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)};Rn.textContent.get=function(){return this.textBetween(0,this.content.size,"")};ft.prototype.textBetween=function(e,t,n,i){return this.content.textBetween(e,t,n,i)};Rn.firstChild.get=function(){return this.content.firstChild};Rn.lastChild.get=function(){return this.content.lastChild};ft.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)};ft.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)};ft.prototype.hasMarkup=function(e,t,n){return this.type==e&&Tl(this.attrs,t||e.defaultAttrs||g1)&&pt.sameSet(this.marks,n||pt.none)};ft.prototype.copy=function(e){return e===void 0&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)};ft.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)};ft.prototype.cut=function(e,t){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))};ft.prototype.slice=function(e,t,n){if(t===void 0&&(t=this.content.size),n===void 0&&(n=!1),e==t)return ve.empty;var i=this.resolve(e),o=this.resolve(t),a=n?0:i.sharedDepth(t),s=i.start(a),l=i.node(a),c=l.content.cut(i.pos-s,o.pos-s);return new ve(c,i.depth-a,o.depth-a)};ft.prototype.replace=function(e,t,n){return d1(this.resolve(e),this.resolve(t),n)};ft.prototype.nodeAt=function(e){for(var t=this;;){var n=t.content.findIndex(e),i=n.index,o=n.offset;if(t=t.maybeChild(i),!t)return null;if(o==e||t.isText)return t;e-=o+1}};ft.prototype.childAfter=function(e){var t=this.content.findIndex(e),n=t.index,i=t.offset;return{node:this.content.maybeChild(n),index:n,offset:i}};ft.prototype.childBefore=function(e){if(e==0)return{node:null,index:0,offset:0};var t=this.content.findIndex(e),n=t.index,i=t.offset;if(i<e)return{node:this.content.child(n),index:n,offset:i};var o=this.content.child(n-1);return{node:o,index:n-1,offset:i-o.nodeSize}};ft.prototype.resolve=function(e){return jt.resolveCached(this,e)};ft.prototype.resolveNoCache=function(e){return jt.resolve(this,e)};ft.prototype.rangeHasMark=function(e,t,n){var i=!1;return t>e&&this.nodesBetween(e,t,function(o){return n.isInSet(o.marks)&&(i=!0),!i}),i};Rn.isBlock.get=function(){return this.type.isBlock};Rn.isTextblock.get=function(){return this.type.isTextblock};Rn.inlineContent.get=function(){return this.type.inlineContent};Rn.isInline.get=function(){return this.type.isInline};Rn.isText.get=function(){return this.type.isText};Rn.isLeaf.get=function(){return this.type.isLeaf};Rn.isAtom.get=function(){return this.type.isAtom};ft.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),pv(this.marks,e)};ft.prototype.contentMatchAt=function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t};ft.prototype.canReplace=function(e,t,n,i,o){n===void 0&&(n=Q.empty),i===void 0&&(i=0),o===void 0&&(o=n.childCount);var a=this.contentMatchAt(e).matchFragment(n,i,o),s=a&&a.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(var l=i;l<o;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0};ft.prototype.canReplaceWith=function(e,t,n,i){if(i&&!this.type.allowsMarks(i))return!1;var o=this.contentMatchAt(e).matchType(n),a=o&&o.matchFragment(this.content,t);return a?a.validEnd:!1};ft.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)};ft.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var e=pt.none,t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!pt.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map(function(n){return n.type.name}));this.content.forEach(function(n){return n.check()})};ft.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(function(n){return n.toJSON()})),e};ft.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}var i=Q.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,i,n)};Object.defineProperties(ft.prototype,Rn);var m1=function(r){function e(n,i,o,a){if(r.call(this,n,i,null,a),!o)throw new RangeError("Empty text nodes are not allowed");this.text=o}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={textContent:{configurable:!0},nodeSize:{configurable:!0}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):pv(this.marks,JSON.stringify(this.text))},t.textContent.get=function(){return this.text},e.prototype.textBetween=function(i,o){return this.text.slice(i,o)},t.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(i){return i==this.marks?this:new e(this.type,this.attrs,this.text,i)},e.prototype.withText=function(i){return i==this.text?this:new e(this.type,this.attrs,i,this.marks)},e.prototype.cut=function(i,o){return i===void 0&&(i=0),o===void 0&&(o=this.text.length),i==0&&o==this.text.length?this:this.withText(this.text.slice(i,o))},e.prototype.eq=function(i){return this.sameMarkup(i)&&this.text==i.text},e.prototype.toJSON=function(){var i=r.prototype.toJSON.call(this);return i.text=this.text,i},Object.defineProperties(e.prototype,t),e}(ft);function pv(r,e){for(var t=r.length-1;t>=0;t--)e=r[t].type.name+"("+e+")";return e}var Vr=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]},Mc={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};Vr.parse=function(e,t){var n=new Oc(e,t);if(n.next==null)return Vr.empty;var i=fv(n);n.next&&n.err("Unexpected trailing text");var o=C1(k1(i));return S1(o,n),o};Vr.prototype.matchType=function(e){for(var t=0;t<this.next.length;t+=2)if(this.next[t]==e)return this.next[t+1];return null};Vr.prototype.matchFragment=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=e.childCount);for(var i=this,o=t;i&&o<n;o++)i=i.matchType(e.child(o).type);return i};Mc.inlineContent.get=function(){var r=this.next[0];return r?r.isInline:!1};Mc.defaultType.get=function(){for(var r=0;r<this.next.length;r+=2){var e=this.next[r];if(!(e.isText||e.hasRequiredAttrs()))return e}};Vr.prototype.compatible=function(e){for(var t=0;t<this.next.length;t+=2)for(var n=0;n<e.next.length;n+=2)if(this.next[t]==e.next[n])return!0;return!1};Vr.prototype.fillBefore=function(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=0);var i=[this];function o(a,s){var l=a.matchFragment(e,n);if(l&&(!t||l.validEnd))return Q.from(s.map(function(h){return h.createAndFill()}));for(var c=0;c<a.next.length;c+=2){var u=a.next[c],p=a.next[c+1];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(p)==-1){i.push(p);var d=o(p,s.concat(u));if(d)return d}}}return o(this,[])};Vr.prototype.findWrapping=function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var n=this.computeWrapping(e);return this.wrapCache.push(e,n),n};Vr.prototype.computeWrapping=function(e){for(var t=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var i=n.shift(),o=i.match;if(o.matchType(e)){for(var a=[],s=i;s.type;s=s.via)a.push(s.type);return a.reverse()}for(var l=0;l<o.next.length;l+=2){var c=o.next[l];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in t)&&(!i.type||o.next[l+1].validEnd)&&(n.push({match:c.contentMatch,type:c,via:i}),t[c.name]=!0)}}};Mc.edgeCount.get=function(){return this.next.length>>1};Vr.prototype.edge=function(e){var t=e<<1;if(t>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return{type:this.next[t],next:this.next[t+1]}};Vr.prototype.toString=function(){var e=[];function t(n){e.push(n);for(var i=1;i<n.next.length;i+=2)e.indexOf(n.next[i])==-1&&t(n.next[i])}return t(this),e.map(function(n,i){for(var o=i+(n.validEnd?"*":" ")+" ",a=0;a<n.next.length;a+=2)o+=(a?", ":"")+n.next[a].name+"->"+e.indexOf(n.next[a+1]);return o}).join(`
`)};Object.defineProperties(Vr.prototype,Mc);Vr.empty=new Vr(!0);var Oc=function(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()},dv={next:{configurable:!0}};dv.next.get=function(){return this.tokens[this.pos]};Oc.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)};Oc.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")};Object.defineProperties(Oc.prototype,dv);function fv(r){var e=[];do e.push(v1(r));while(r.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function v1(r){var e=[];do e.push(b1(r));while(r.next&&r.next!=")"&&r.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function b1(r){for(var e=x1(r);;)if(r.eat("+"))e={type:"plus",expr:e};else if(r.eat("*"))e={type:"star",expr:e};else if(r.eat("?"))e={type:"opt",expr:e};else if(r.eat("{"))e=w1(r,e);else break;return e}function If(r){/\D/.test(r.next)&&r.err("Expected number, got '"+r.next+"'");var e=Number(r.next);return r.pos++,e}function w1(r,e){var t=If(r),n=t;return r.eat(",")&&(r.next!="}"?n=If(r):n=-1),r.eat("}")||r.err("Unclosed braced range"),{type:"range",min:t,max:n,expr:e}}function y1(r,e){var t=r.nodeTypes,n=t[e];if(n)return[n];var i=[];for(var o in t){var a=t[o];a.groups.indexOf(e)>-1&&i.push(a)}return i.length==0&&r.err("No node type or group '"+e+"' found"),i}function x1(r){if(r.eat("(")){var e=fv(r);return r.eat(")")||r.err("Missing closing paren"),e}else if(/\W/.test(r.next))r.err("Unexpected token '"+r.next+"'");else{var t=y1(r,r.next).map(function(n){return r.inline==null?r.inline=n.isInline:r.inline!=n.isInline&&r.err("Mixing inline and block content"),{type:"name",value:n}});return r.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function k1(r){var e=[[]];return i(o(r,0),t()),e;function t(){return e.push([])-1}function n(a,s,l){var c={term:l,to:s};return e[a].push(c),c}function i(a,s){a.forEach(function(l){return l.to=s})}function o(a,s){if(a.type=="choice")return a.exprs.reduce(function(b,v){return b.concat(o(v,s))},[]);if(a.type=="seq")for(var l=0;;l++){var c=o(a.exprs[l],s);if(l==a.exprs.length-1)return c;i(c,s=t())}else if(a.type=="star"){var u=t();return n(s,u),i(o(a.expr,u),u),[n(u)]}else if(a.type=="plus"){var p=t();return i(o(a.expr,s),p),i(o(a.expr,p),p),[n(p)]}else{if(a.type=="opt")return[n(s)].concat(o(a.expr,s));if(a.type=="range"){for(var d=s,h=0;h<a.min;h++){var f=t();i(o(a.expr,d),f),d=f}if(a.max==-1)i(o(a.expr,d),d);else for(var g=a.min;g<a.max;g++){var m=t();n(d,m),i(o(a.expr,d),m),d=m}return[n(d)]}else if(a.type=="name")return[n(s,null,a.value)]}}}function hv(r,e){return e-r}function zf(r,e){var t=[];return n(e),t.sort(hv);function n(i){var o=r[i];if(o.length==1&&!o[0].term)return n(o[0].to);t.push(i);for(var a=0;a<o.length;a++){var s=o[a],l=s.term,c=s.to;!l&&t.indexOf(c)==-1&&n(c)}}}function C1(r){var e=Object.create(null);return t(zf(r,0));function t(n){var i=[];n.forEach(function(l){r[l].forEach(function(c){var u=c.term,p=c.to;if(!!u){var d=i.indexOf(u),h=d>-1&&i[d+1];zf(r,p).forEach(function(f){h||i.push(u,h=[]),h.indexOf(f)==-1&&h.push(f)})}})});for(var o=e[n.join(",")]=new Vr(n.indexOf(r.length-1)>-1),a=0;a<i.length;a+=2){var s=i[a+1].sort(hv);o.next.push(i[a],e[s.join(",")]||t(s))}return o}}function S1(r,e){for(var t=0,n=[r];t<n.length;t++){for(var i=n[t],o=!i.validEnd,a=[],s=0;s<i.next.length;s+=2){var l=i.next[s],c=i.next[s+1];a.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),n.indexOf(c)==-1&&n.push(c)}o&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function gv(r){var e=Object.create(null);for(var t in r){var n=r[t];if(!n.hasDefault)return null;e[t]=n.default}return e}function mv(r,e){var t=Object.create(null);for(var n in r){var i=e&&e[n];if(i===void 0){var o=r[n];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+n)}t[n]=i}return t}function vv(r){var e=Object.create(null);if(r)for(var t in r)e[t]=new bv(r[t]);return e}var on=function(e,t,n){this.name=e,this.schema=t,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=vv(n.attrs),this.defaultAttrs=gv(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"},Aa={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0},whitespace:{configurable:!0}};Aa.isInline.get=function(){return!this.isBlock};Aa.isTextblock.get=function(){return this.isBlock&&this.inlineContent};Aa.isLeaf.get=function(){return this.contentMatch==Vr.empty};Aa.isAtom.get=function(){return this.isLeaf||this.spec.atom};Aa.whitespace.get=function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")};on.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1};on.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)};on.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:mv(this.attrs,e)};on.prototype.create=function(e,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ft(this,this.computeAttrs(e),Q.from(t),pt.setFrom(n))};on.prototype.createChecked=function(e,t,n){if(t=Q.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new ft(this,this.computeAttrs(e),t,pt.setFrom(n))};on.prototype.createAndFill=function(e,t,n){if(e=this.computeAttrs(e),t=Q.from(t),t.size){var i=this.contentMatch.fillBefore(t);if(!i)return null;t=i.append(t)}var o=this.contentMatch.matchFragment(t).fillBefore(Q.empty,!0);return o?new ft(this,e,t.append(o),pt.setFrom(n)):null};on.prototype.validContent=function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(var n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0};on.prototype.allowsMarkType=function(e){return this.markSet==null||this.markSet.indexOf(e)>-1};on.prototype.allowsMarks=function(e){if(this.markSet==null)return!0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0};on.prototype.allowedMarks=function(e){if(this.markSet==null)return e;for(var t,n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:pt.empty:e};on.compile=function(e,t){var n=Object.create(null);e.forEach(function(a,s){return n[a]=new on(a,t,s)});var i=t.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n};Object.defineProperties(on.prototype,Aa);var bv=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default},wv={isRequired:{configurable:!0}};wv.isRequired.get=function(){return!this.hasDefault};Object.defineProperties(bv.prototype,wv);var Ki=function(e,t,n,i){this.name=e,this.schema=n,this.spec=i,this.attrs=vv(i.attrs),this.rank=t,this.excluded=null;var o=gv(this.attrs);this.instance=o&&new pt(this,o)};Ki.prototype.create=function(e){return!e&&this.instance?this.instance:new pt(this,mv(this.attrs,e))};Ki.compile=function(e,t){var n=Object.create(null),i=0;return e.forEach(function(o,a){return n[o]=new Ki(o,i++,t,a)}),n};Ki.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e};Ki.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]};Ki.prototype.excludes=function(e){return this.excluded.indexOf(e)>-1};var _o=function(e){this.spec={};for(var t in e)this.spec[t]=e[t];this.spec.nodes=Pf.from(e.nodes),this.spec.marks=Pf.from(e.marks),this.nodes=on.compile(this.spec.nodes,this),this.marks=Ki.compile(this.spec.marks,this);var n=Object.create(null);for(var i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");var o=this.nodes[i],a=o.spec.content||"",s=o.spec.marks;o.contentMatch=n[a]||(n[a]=Vr.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet=s=="_"?null:s?Ff(this,s.split(" ")):s==""||!o.inlineContent?[]:null}for(var l in this.marks){var c=this.marks[l],u=c.spec.excludes;c.excluded=u==null?[c]:u==""?[]:Ff(this,u.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};_o.prototype.node=function(e,t,n,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof on){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,n,i)};_o.prototype.text=function(e,t){var n=this.nodes.text;return new m1(n,n.defaultAttrs,e,pt.setFrom(t))};_o.prototype.mark=function(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)};_o.prototype.nodeFromJSON=function(e){return ft.fromJSON(this,e)};_o.prototype.markFromJSON=function(e){return pt.fromJSON(this,e)};_o.prototype.nodeType=function(e){var t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t};function Ff(r,e){for(var t=[],n=0;n<e.length;n++){var i=e[n],o=r.marks[i],a=o;if(o)t.push(o);else for(var s in r.marks){var l=r.marks[s];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&t.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return t}var oi=function(e,t){var n=this;this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach(function(i){i.tag?n.tags.push(i):i.style&&n.styles.push(i)}),this.normalizeLists=!this.tags.some(function(i){if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;var o=e.nodes[i.node];return o.contentMatch.matchType(o)})};oi.prototype.parse=function(e,t){t===void 0&&(t={});var n=new Ft(this,t,!1);return n.addAll(e,null,t.from,t.to),n.finish()};oi.prototype.parseSlice=function(e,t){t===void 0&&(t={});var n=new Ft(this,t,!0);return n.addAll(e,null,t.from,t.to),ve.maxOpen(n.finish())};oi.prototype.matchTag=function(e,t,n){for(var i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){var o=this.tags[i];if(A1(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){var a=o.getAttrs(e);if(a===!1)continue;o.attrs=a}return o}}};oi.prototype.matchStyle=function(e,t,n,i){for(var o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){var a=this.styles[o];if(!(a.style.indexOf(e)!=0||a.context&&!n.matchesContext(a.context)||a.style.length>e.length&&(a.style.charCodeAt(e.length)!=61||a.style.slice(e.length+1)!=t))){if(a.getAttrs){var s=a.getAttrs(t);if(s===!1)continue;a.attrs=s}return a}}};oi.schemaRules=function(e){var t=[];function n(l){for(var c=l.priority==null?50:l.priority,u=0;u<t.length;u++){var p=t[u],d=p.priority==null?50:p.priority;if(d<c)break}t.splice(u,0,l)}var i=function(l){var c=e.marks[l].spec.parseDOM;c&&c.forEach(function(u){n(u=Rf(u)),u.mark=l})};for(var o in e.marks)i(o);var a=function(l){var c=e.nodes[s].spec.parseDOM;c&&c.forEach(function(u){n(u=Rf(u)),u.node=s})};for(var s in e.nodes)a();return t};oi.fromSchema=function(e){return e.cached.domParser||(e.cached.domParser=new oi(e,oi.schemaRules(e)))};var md={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},E1={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},yv={ol:!0,ul:!0},Ol=1,_l=2,ms=4;function xv(r,e,t){return e!=null?(e?Ol:0)|(e==="full"?_l:0):r&&r.whitespace=="pre"?Ol|_l:t&~ms}var Pi=function(e,t,n,i,o,a,s){this.type=e,this.attrs=t,this.solid=o,this.match=a||(s&ms?null:e.contentMatch),this.options=s,this.content=[],this.marks=n,this.activeMarks=pt.none,this.pendingMarks=i,this.stashMarks=[]};Pi.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var t=this.type.contentMatch.fillBefore(Q.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{var n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)};Pi.prototype.finish=function(e){if(!(this.options&Ol)){var t=this.content[this.content.length-1],n;t&&t.isText&&(n=/[ \t\r\n\u000c]+$/.exec(t.text))&&(t.text.length==n[0].length?this.content.pop():this.content[this.content.length-1]=t.withText(t.text.slice(0,t.text.length-n[0].length)))}var i=Q.from(this.content);return!e&&this.match&&(i=i.append(this.match.fillBefore(Q.empty,!0))),this.type?this.type.create(this.attrs,i,this.marks):i};Pi.prototype.popFromStashMark=function(e){for(var t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]};Pi.prototype.applyPending=function(e){for(var t=0,n=this.pendingMarks;t<n.length;t++){var i=n[t];(this.type?this.type.allowsMarkType(i.type):M1(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}};Pi.prototype.inlineContext=function(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!md.hasOwnProperty(e.parentNode.nodeName.toLowerCase())};var Ft=function(e,t,n){this.parser=e,this.options=t,this.isOpen=n;var i=t.topNode,o,a=xv(null,t.preserveWhitespace,0)|(n?ms:0);i?o=new Pi(i.type,i.attrs,pt.none,pt.none,!0,t.topMatch||i.type.contentMatch,a):n?o=new Pi(null,null,pt.none,pt.none,!0,null,a):o=new Pi(e.schema.topNodeType,null,pt.none,pt.none,!0,null,a),this.nodes=[o],this.open=0,this.find=t.findPositions,this.needsBlock=!1},vd={top:{configurable:!0},currentPos:{configurable:!0}};vd.top.get=function(){return this.nodes[this.open]};Ft.prototype.addDOM=function(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){var t=e.getAttribute("style"),n=t?this.readStyles(T1(t)):null,i=this.top;if(n!=null)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(e),n!=null)for(var a=0;a<n.length;a++)this.removePendingMark(n[a],i)}};Ft.prototype.addTextNode=function(e){var t=e.nodeValue,n=this.top;if(n.options&_l||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(n.options&Ol)n.options&_l?t=t.replace(/\r\n?/g,`
`):t=t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var i=n.content[n.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)};Ft.prototype.addElement=function(e,t){var n=e.nodeName.toLowerCase(),i;yv.hasOwnProperty(n)&&this.parser.normalizeLists&&D1(e);var o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,t));if(o?o.ignore:E1.hasOwnProperty(n))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);var a,s=this.top,l=this.needsBlock;if(md.hasOwnProperty(n))a=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),a&&this.sync(s),this.needsBlock=l}else this.addElementByRule(e,o,o.consuming===!1?i:null)};Ft.prototype.leafFallback=function(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))};Ft.prototype.ignoreFallback=function(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))};Ft.prototype.readStyles=function(e){var t=pt.none;e:for(var n=0;n<e.length;n+=2)for(var i=null;;){var o=this.parser.matchStyle(e[n],e[n+1],this,i);if(!o)continue e;if(o.ignore)return null;if(t=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(t),o.consuming===!1)i=o;else break}return t};Ft.prototype.addElementByRule=function(e,t,n){var i=this,o,a,s,l;t.node?(a=this.parser.schema.nodes[t.node],a.isLeaf?this.insertNode(a.create(t.attrs))||this.leafFallback(e):o=this.enter(a,t.attrs,t.preserveWhitespace)):(s=this.parser.schema.marks[t.mark],l=s.create(t.attrs),this.addPendingMark(l));var c=this.top;if(a&&a.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(function(p){return i.insertNode(p)});else{var u=t.contentElement;typeof u=="string"?u=e.querySelector(u):typeof u=="function"&&(u=u(e)),u||(u=e),this.findAround(e,u,!0),this.addAll(u,o)}o&&(this.sync(c),this.open--),l&&this.removePendingMark(l,c)};Ft.prototype.addAll=function(e,t,n,i){for(var o=n||0,a=n?e.childNodes[n]:e.firstChild,s=i==null?null:e.childNodes[i];a!=s;a=a.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(a),t&&md.hasOwnProperty(a.nodeName.toLowerCase())&&this.sync(t);this.findAtPoint(e,o)};Ft.prototype.findPlace=function(e){for(var t,n,i=this.open;i>=0;i--){var o=this.nodes[i],a=o.findWrapping(e);if(a&&(!t||t.length>a.length)&&(t=a,n=o,!a.length)||o.solid)break}if(!t)return!1;this.sync(n);for(var s=0;s<t.length;s++)this.enterInner(t[s],null,!1);return!0};Ft.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();var n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));for(var i=n.activeMarks,o=0;o<e.marks.length;o++)(!n.type||n.type.allowsMarkType(e.marks[o].type))&&(i=e.marks[o].addToSet(i));return n.content.push(e.mark(i)),!0}return!1};Ft.prototype.enter=function(e,t,n){var i=this.findPlace(e.create(t));return i&&this.enterInner(e,t,!0,n),i};Ft.prototype.enterInner=function(e,t,n,i){this.closeExtra();var o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e,t);var a=xv(e,i,o.options);o.options&ms&&o.content.length==0&&(a|=ms),this.nodes.push(new Pi(e,t,o.activeMarks,o.pendingMarks,n,null,a)),this.open++};Ft.prototype.closeExtra=function(e){var t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}};Ft.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)};Ft.prototype.sync=function(e){for(var t=this.open;t>=0;t--)if(this.nodes[t]==e){this.open=t;return}};vd.currentPos.get=function(){this.closeExtra();for(var r=0,e=this.open;e>=0;e--){for(var t=this.nodes[e].content,n=t.length-1;n>=0;n--)r+=t[n].nodeSize;e&&r++}return r};Ft.prototype.findAtPoint=function(e,t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)};Ft.prototype.findInside=function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)};Ft.prototype.findAround=function(e,t,n){if(e!=t&&this.find){for(var i=0;i<this.find.length;i++)if(this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)){var o=t.compareDocumentPosition(this.find[i].node);o&(n?2:4)&&(this.find[i].pos=this.currentPos)}}};Ft.prototype.findInText=function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))};Ft.prototype.matchesContext=function(e){var t=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var n=e.split("/"),i=this.options.context,o=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),a=-(i?i.depth+1:0)+(o?0:1),s=function(l,c){for(;l>=0;l--){var u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;c>=a;c--)if(s(l-1,c))return!0;return!1}else{var p=c>0||c==0&&o?t.nodes[c].type:i&&c>=a?i.node(c-a).type:null;if(!p||p.name!=u&&p.groups.indexOf(u)==-1)return!1;c--}}return!0};return s(n.length-1,this.open)};Ft.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var t=e.depth;t>=0;t--){var n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var i in this.parser.schema.nodes){var o=this.parser.schema.nodes[i];if(o.isTextblock&&o.defaultAttrs)return o}};Ft.prototype.addPendingMark=function(e){var t=O1(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)};Ft.prototype.removePendingMark=function(e,t){for(var n=this.open;n>=0;n--){var i=this.nodes[n],o=i.pendingMarks.lastIndexOf(e);if(o>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);var a=i.popFromStashMark(e);a&&i.type&&i.type.allowsMarkType(a.type)&&(i.activeMarks=a.addToSet(i.activeMarks))}if(i==t)break}};Object.defineProperties(Ft.prototype,vd);function D1(r){for(var e=r.firstChild,t=null;e;e=e.nextSibling){var n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&yv.hasOwnProperty(n)&&t?(t.appendChild(e),e=t):n=="li"?t=e:n&&(t=null)}}function A1(r,e){return(r.matches||r.msMatchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector).call(r,e)}function T1(r){for(var e=/\s*([\w-]+)\s*:\s*([^;]+)/g,t,n=[];t=e.exec(r);)n.push(t[1],t[2].trim());return n}function Rf(r){var e={};for(var t in r)e[t]=r[t];return e}function M1(r,e){var t=e.schema.nodes,n=function(a){var s=t[a];if(!!s.allowsMarkType(r)){var l=[],c=function(u){l.push(u);for(var p=0;p<u.edgeCount;p++){var d=u.edge(p),h=d.type,f=d.next;if(h==e||l.indexOf(f)<0&&c(f))return!0}};if(c(s.contentMatch))return{v:!0}}};for(var i in t){var o=n(i);if(o)return o.v}}function O1(r,e){for(var t=0;t<e.length;t++)if(r.eq(e[t]))return e[t]}var Fr=function(e,t){this.nodes=e||{},this.marks=t||{}};Fr.prototype.serializeFragment=function(e,t,n){var i=this;t===void 0&&(t={}),n||(n=bd(t).createDocumentFragment());var o=n,a=null;return e.forEach(function(s){if(a||s.marks.length){a||(a=[]);for(var l=0,c=0;l<a.length&&c<s.marks.length;){var u=s.marks[c];if(!i.marks[u.type.name]){c++;continue}if(!u.eq(a[l])||u.type.spec.spanning===!1)break;l+=2,c++}for(;l<a.length;)o=a.pop(),a.pop();for(;c<s.marks.length;){var p=s.marks[c++],d=i.serializeMark(p,s.isInline,t);d&&(a.push(p,o),o.appendChild(d.dom),o=d.contentDOM||d.dom)}}o.appendChild(i.serializeNodeInner(s,t))}),n};Fr.prototype.serializeNodeInner=function(e,t){t===void 0&&(t={});var n=Fr.renderSpec(bd(t),this.nodes[e.type.name](e)),i=n.dom,o=n.contentDOM;if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");t.onContent?t.onContent(e,o,t):this.serializeFragment(e.content,t,o)}return i};Fr.prototype.serializeNode=function(e,t){t===void 0&&(t={});for(var n=this.serializeNodeInner(e,t),i=e.marks.length-1;i>=0;i--){var o=this.serializeMark(e.marks[i],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n};Fr.prototype.serializeMark=function(e,t,n){n===void 0&&(n={});var i=this.marks[e.type.name];return i&&Fr.renderSpec(bd(n),i(e,t))};Fr.renderSpec=function(e,t,n){if(n===void 0&&(n=null),typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;var i=t[0],o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));var a=null,s=n?e.createElementNS(n,i):e.createElement(i),l=t[1],c=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){c=2;for(var u in l)if(l[u]!=null){var p=u.indexOf(" ");p>0?s.setAttributeNS(u.slice(0,p),u.slice(p+1),l[u]):s.setAttribute(u,l[u])}}for(var d=c;d<t.length;d++){var h=t[d];if(h===0){if(d<t.length-1||d>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}else{var f=Fr.renderSpec(e,h,n),g=f.dom,m=f.contentDOM;if(s.appendChild(g),m){if(a)throw new RangeError("Multiple content holes");a=m}}}return{dom:s,contentDOM:a}};Fr.fromSchema=function(e){return e.cached.domSerializer||(e.cached.domSerializer=new Fr(this.nodesFromSchema(e),this.marksFromSchema(e)))};Fr.nodesFromSchema=function(e){var t=kv(e.nodes);return t.text||(t.text=function(n){return n.text}),t};Fr.marksFromSchema=function(e){return kv(e.marks)};function kv(r){var e={};for(var t in r){var n=r[t].spec.toDOM;n&&(e[t]=n)}return e}function bd(r){return r.document||window.document}var Cv=65535,Sv=Math.pow(2,16);function _1(r,e){return r+e*Sv}function Ev(r){return r&Cv}function N1(r){return(r-(r&Cv))/Sv}var gp=function(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=null),this.pos=e,this.deleted=t,this.recover=n},Pr=function(e,t){t===void 0&&(t=!1),this.ranges=e,this.inverted=t};Pr.prototype.recover=function(e){var t=0,n=Ev(e);if(!this.inverted)for(var i=0;i<n;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+t+N1(e)};Pr.prototype.mapResult=function(e,t){return t===void 0&&(t=1),this._map(e,t,!1)};Pr.prototype.map=function(e,t){return t===void 0&&(t=1),this._map(e,t,!0)};Pr.prototype._map=function(e,t,n){for(var i=0,o=this.inverted?2:1,a=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var l=this.ranges[s]-(this.inverted?i:0);if(l>e)break;var c=this.ranges[s+o],u=this.ranges[s+a],p=l+c;if(e<=p){var d=c?e==l?-1:e==p?1:t:t,h=l+i+(d<0?0:u);if(n)return h;var f=e==(t<0?l:p)?null:_1(s/3,e-l);return new gp(h,t<0?e!=l:e!=p,f)}i+=u-c}return n?e+i:new gp(e+i)};Pr.prototype.touches=function(e,t){for(var n=0,i=Ev(t),o=this.inverted?2:1,a=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var l=this.ranges[s]-(this.inverted?n:0);if(l>e)break;var c=this.ranges[s+o],u=l+c;if(e<=u&&s==i*3)return!0;n+=this.ranges[s+a]-c}return!1};Pr.prototype.forEach=function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,i=0,o=0;i<this.ranges.length;i+=3){var a=this.ranges[i],s=a-(this.inverted?o:0),l=a+(this.inverted?0:o),c=this.ranges[i+t],u=this.ranges[i+n];e(s,s+c,l,l+u),o+=u-c}};Pr.prototype.invert=function(){return new Pr(this.ranges,!this.inverted)};Pr.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)};Pr.offset=function(e){return e==0?Pr.empty:new Pr(e<0?[0,-e,0]:[0,0,e])};Pr.empty=new Pr([]);var Yr=function(e,t,n,i){this.maps=e||[],this.from=n||0,this.to=i==null?this.maps.length:i,this.mirror=t};Yr.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.maps.length),new Yr(this.maps,this.mirror,e,t)};Yr.prototype.copy=function(){return new Yr(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)};Yr.prototype.appendMap=function(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)};Yr.prototype.appendMapping=function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var i=e.getMirror(t);this.appendMap(e.maps[t],i!=null&&i<t?n+i:null)}};Yr.prototype.getMirror=function(e){if(this.mirror){for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}};Yr.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)};Yr.prototype.appendMappingInverted=function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var i=e.getMirror(t);this.appendMap(e.maps[t].invert(),i!=null&&i>t?n-i-1:null)}};Yr.prototype.invert=function(){var e=new Yr;return e.appendMappingInverted(this),e};Yr.prototype.map=function(e,t){if(t===void 0&&(t=1),this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e};Yr.prototype.mapResult=function(e,t){return t===void 0&&(t=1),this._map(e,t,!1)};Yr.prototype._map=function(e,t,n){for(var i=!1,o=this.from;o<this.to;o++){var a=this.maps[o],s=a.mapResult(e,t);if(s.recover!=null){var l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(s.recover);continue}}s.deleted&&(i=!0),e=s.pos}return n?e:new gp(e,i)};function ua(r){var e=Error.call(this,r);return e.__proto__=ua.prototype,e}ua.prototype=Object.create(Error.prototype);ua.prototype.constructor=ua;ua.prototype.name="TransformError";var Yt=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Yr},wd={before:{configurable:!0},docChanged:{configurable:!0}};wd.before.get=function(){return this.docs.length?this.docs[0]:this.doc};Yt.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new ua(t.failed);return this};Yt.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t};wd.docChanged.get=function(){return this.steps.length>0};Yt.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t};Object.defineProperties(Yt.prototype,wd);function _c(){throw new Error("Override me")}var mp=Object.create(null),Jr=function(){};Jr.prototype.apply=function(e){return _c()};Jr.prototype.getMap=function(){return Pr.empty};Jr.prototype.invert=function(e){return _c()};Jr.prototype.map=function(e){return _c()};Jr.prototype.merge=function(e){return null};Jr.prototype.toJSON=function(){return _c()};Jr.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=mp[t.stepType];if(!n)throw new RangeError("No step type "+t.stepType+" defined");return n.fromJSON(e,t)};Jr.jsonID=function(e,t){if(e in mp)throw new RangeError("Duplicate use of step JSON ID "+e);return mp[e]=t,t.prototype.jsonID=e,t};var tn=function(e,t){this.doc=e,this.failed=t};tn.ok=function(e){return new tn(e,null)};tn.fail=function(e){return new tn(null,e)};tn.fromReplace=function(e,t,n,i){try{return tn.ok(e.replace(t,n,i))}catch(o){if(o instanceof xi)return tn.fail(o.message);throw o}};var Ri=function(r){function e(t,n,i,o){r.call(this),this.from=t,this.to=n,this.slice=i,this.structure=!!o}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.apply=function(n){return this.structure&&vp(n,this.from,this.to)?tn.fail("Structure replace would overwrite content"):tn.fromReplace(n,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new Pr([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(n){return new e(this.from,this.from+this.slice.size,n.slice(this.from,this.to))},e.prototype.map=function(n){var i=n.mapResult(this.from,1),o=n.mapResult(this.to,-1);return i.deleted&&o.deleted?null:new e(i.pos,Math.max(i.pos,o.pos),this.slice)},e.prototype.merge=function(n){if(!(n instanceof e)||n.structure||this.structure)return null;if(this.from+this.slice.size==n.from&&!this.slice.openEnd&&!n.slice.openStart){var i=this.slice.size+n.slice.size==0?ve.empty:new ve(this.slice.content.append(n.slice.content),this.slice.openStart,n.slice.openEnd);return new e(this.from,this.to+(n.to-n.from),i,this.structure)}else if(n.to==this.from&&!this.slice.openStart&&!n.slice.openEnd){var o=this.slice.size+n.slice.size==0?ve.empty:new ve(n.slice.content.append(this.slice.content),n.slice.openStart,this.slice.openEnd);return new e(n.from,this.to,o,this.structure)}else return null},e.prototype.toJSON=function(){var n={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(n.slice=this.slice.toJSON()),this.structure&&(n.structure=!0),n},e.fromJSON=function(n,i){if(typeof i.from!="number"||typeof i.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(i.from,i.to,ve.fromJSON(n,i.slice),!!i.structure)},e}(Jr);Jr.jsonID("replace",Ri);var bn=function(r){function e(t,n,i,o,a,s,l){r.call(this),this.from=t,this.to=n,this.gapFrom=i,this.gapTo=o,this.slice=a,this.insert=s,this.structure=!!l}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.apply=function(n){if(this.structure&&(vp(n,this.from,this.gapFrom)||vp(n,this.gapTo,this.to)))return tn.fail("Structure gap-replace would overwrite content");var i=n.slice(this.gapFrom,this.gapTo);if(i.openStart||i.openEnd)return tn.fail("Gap is not a flat range");var o=this.slice.insertAt(this.insert,i.content);return o?tn.fromReplace(n,this.from,this.to,o):tn.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new Pr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(n){var i=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+i,this.from+this.insert,this.from+this.insert+i,n.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(n){var i=n.mapResult(this.from,1),o=n.mapResult(this.to,-1),a=n.map(this.gapFrom,-1),s=n.map(this.gapTo,1);return i.deleted&&o.deleted||a<i.pos||s>o.pos?null:new e(i.pos,o.pos,a,s,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var n={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(n.slice=this.slice.toJSON()),this.structure&&(n.structure=!0),n},e.fromJSON=function(n,i){if(typeof i.from!="number"||typeof i.to!="number"||typeof i.gapFrom!="number"||typeof i.gapTo!="number"||typeof i.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(i.from,i.to,i.gapFrom,i.gapTo,ve.fromJSON(n,i.slice),i.insert,!!i.structure)},e}(Jr);Jr.jsonID("replaceAround",bn);function vp(r,e,t){for(var n=r.resolve(e),i=t-e,o=n.depth;i>0&&o>0&&n.indexAfter(o)==n.node(o).childCount;)o--,i--;if(i>0)for(var a=n.node(o).maybeChild(n.indexAfter(o));i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}return!1}function P1(r,e,t){return(e==0||r.canReplace(e,r.childCount))&&(t==r.childCount||r.canReplace(0,t))}function Ta(r){for(var e=r.parent,t=e.content.cutByIndex(r.startIndex,r.endIndex),n=r.depth;;--n){var i=r.$from.node(n),o=r.$from.index(n),a=r.$to.indexAfter(n);if(n<r.depth&&i.canReplace(o,a,t))return n;if(n==0||i.type.spec.isolating||!P1(i,o,a))break}}Yt.prototype.lift=function(r,e){for(var t=r.$from,n=r.$to,i=r.depth,o=t.before(i+1),a=n.after(i+1),s=o,l=a,c=Q.empty,u=0,p=i,d=!1;p>e;p--)d||t.index(p)>0?(d=!0,c=Q.from(t.node(p).copy(c)),u++):s--;for(var h=Q.empty,f=0,g=i,m=!1;g>e;g--)m||n.after(g+1)<n.end(g)?(m=!0,h=Q.from(n.node(g).copy(h)),f++):l++;return this.step(new bn(s,l,o,a,new ve(c.append(h),u,f),c.size-u,!0))};function yd(r,e,t,n){n===void 0&&(n=r);var i=I1(r,e),o=i&&z1(n,e);return o?i.map(Lf).concat({type:e,attrs:t}).concat(o.map(Lf)):null}function Lf(r){return{type:r,attrs:null}}function I1(r,e){var t=r.parent,n=r.startIndex,i=r.endIndex,o=t.contentMatchAt(n).findWrapping(e);if(!o)return null;var a=o.length?o[0]:e;return t.canReplaceWith(n,i,a)?o:null}function z1(r,e){var t=r.parent,n=r.startIndex,i=r.endIndex,o=t.child(n),a=e.contentMatch.findWrapping(o.type);if(!a)return null;for(var s=a.length?a[a.length-1]:e,l=s.contentMatch,c=n;l&&c<i;c++)l=l.matchType(t.child(c).type);return!l||!l.validEnd?null:a}Yt.prototype.wrap=function(r,e){for(var t=Q.empty,n=e.length-1;n>=0;n--)t=Q.from(e[n].type.create(e[n].attrs,t));var i=r.start,o=r.end;return this.step(new bn(i,o,i,o,new ve(t,0,0),e.length,!0))};Yt.prototype.setBlockType=function(r,e,t,n){var i=this;if(e===void 0&&(e=r),!t.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var o=this.steps.length;return this.doc.nodesBetween(r,e,function(a,s){if(a.isTextblock&&!a.hasMarkup(t,n)&&F1(i.doc,i.mapping.slice(o).map(s),t)){i.clearIncompatible(i.mapping.slice(o).map(s,1),t);var l=i.mapping.slice(o),c=l.map(s,1),u=l.map(s+a.nodeSize,1);return i.step(new bn(c,u,c+1,u-1,new ve(Q.from(t.create(n,null,a.marks)),0,0),1,!0)),!1}}),this};function F1(r,e,t){var n=r.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,t)}Yt.prototype.setNodeMarkup=function(r,e,t,n){var i=this.doc.nodeAt(r);if(!i)throw new RangeError("No node at given position");e||(e=i.type);var o=e.create(t,null,n||i.marks);if(i.isLeaf)return this.replaceWith(r,r+i.nodeSize,o);if(!e.validContent(i.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new bn(r,r+i.nodeSize,r+1,r+i.nodeSize-1,new ve(Q.from(o),0,0),1,!0))};function Qo(r,e,t,n){t===void 0&&(t=1);var i=r.resolve(e),o=i.depth-t,a=n&&n[n.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(var s=i.depth-1,l=t-2;s>o;s--,l--){var c=i.node(s),u=i.index(s);if(c.type.spec.isolating)return!1;var p=c.content.cutByIndex(u,c.childCount),d=n&&n[l]||c;if(d!=c&&(p=p.replaceChild(0,d.type.create(d.attrs))),!c.canReplace(u+1,c.childCount)||!d.type.validContent(p))return!1}var h=i.indexAfter(o),f=n&&n[0];return i.node(o).canReplaceWith(h,h,f?f.type:i.node(o+1).type)}Yt.prototype.split=function(r,e,t){e===void 0&&(e=1);for(var n=this.doc.resolve(r),i=Q.empty,o=Q.empty,a=n.depth,s=n.depth-e,l=e-1;a>s;a--,l--){i=Q.from(n.node(a).copy(i));var c=t&&t[l];o=Q.from(c?c.type.create(c.attrs,o):n.node(a).copy(o))}return this.step(new Ri(r,r,new ve(i.append(o),e,e),!0))};function Ls(r,e){var t=r.resolve(e),n=t.index();return R1(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(n,n+1)}function R1(r,e){return r&&e&&!r.isLeaf&&r.canAppend(e)}Yt.prototype.join=function(r,e){e===void 0&&(e=1);var t=new Ri(r-e,r+e,ve.empty,!0);return this.step(t)};function L1(r,e,t){var n=r.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),t))return e;if(n.parentOffset==0)for(var i=n.depth-1;i>=0;i--){var o=n.index(i);if(n.node(i).canReplaceWith(o,o,t))return n.before(i+1);if(o>0)return null}if(n.parentOffset==n.parent.content.size)for(var a=n.depth-1;a>=0;a--){var s=n.indexAfter(a);if(n.node(a).canReplaceWith(s,s,t))return n.after(a+1);if(s<n.node(a).childCount)return null}}function Dv(r,e,t){var n=r.resolve(e);if(!t.content.size)return e;for(var i=t.content,o=0;o<t.openStart;o++)i=i.firstChild.content;for(var a=1;a<=(t.openStart==0&&t.size?2:1);a++)for(var s=n.depth;s>=0;s--){var l=s==n.depth?0:n.pos<=(n.start(s+1)+n.end(s+1))/2?-1:1,c=n.index(s)+(l>0?1:0),u=n.node(s),p=!1;if(a==1)p=u.canReplace(c,c,i);else{var d=u.contentMatchAt(c).findWrapping(i.firstChild.type);p=d&&u.canReplaceWith(c,c,d[0])}if(p)return l==0?n.pos:l<0?n.before(s+1):n.after(s+1)}return null}function xd(r,e,t){for(var n=[],i=0;i<r.childCount;i++){var o=r.child(i);o.content.size&&(o=o.copy(xd(o.content,e,o))),o.isInline&&(o=e(o,t,i)),n.push(o)}return Q.fromArray(n)}var kd=function(r){function e(t,n,i){r.call(this),this.from=t,this.to=n,this.mark=i}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.apply=function(n){var i=this,o=n.slice(this.from,this.to),a=n.resolve(this.from),s=a.node(a.sharedDepth(this.to)),l=new ve(xd(o.content,function(c,u){return!c.isAtom||!u.type.allowsMarkType(i.mark.type)?c:c.mark(i.mark.addToSet(c.marks))},s),o.openStart,o.openEnd);return tn.fromReplace(n,this.from,this.to,l)},e.prototype.invert=function(){return new Bs(this.from,this.to,this.mark)},e.prototype.map=function(n){var i=n.mapResult(this.from,1),o=n.mapResult(this.to,-1);return i.deleted&&o.deleted||i.pos>=o.pos?null:new e(i.pos,o.pos,this.mark)},e.prototype.merge=function(n){if(n instanceof e&&n.mark.eq(this.mark)&&this.from<=n.to&&this.to>=n.from)return new e(Math.min(this.from,n.from),Math.max(this.to,n.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(n,i){if(typeof i.from!="number"||typeof i.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(i.from,i.to,n.markFromJSON(i.mark))},e}(Jr);Jr.jsonID("addMark",kd);var Bs=function(r){function e(t,n,i){r.call(this),this.from=t,this.to=n,this.mark=i}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.apply=function(n){var i=this,o=n.slice(this.from,this.to),a=new ve(xd(o.content,function(s){return s.mark(i.mark.removeFromSet(s.marks))}),o.openStart,o.openEnd);return tn.fromReplace(n,this.from,this.to,a)},e.prototype.invert=function(){return new kd(this.from,this.to,this.mark)},e.prototype.map=function(n){var i=n.mapResult(this.from,1),o=n.mapResult(this.to,-1);return i.deleted&&o.deleted||i.pos>=o.pos?null:new e(i.pos,o.pos,this.mark)},e.prototype.merge=function(n){if(n instanceof e&&n.mark.eq(this.mark)&&this.from<=n.to&&this.to>=n.from)return new e(Math.min(this.from,n.from),Math.max(this.to,n.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(n,i){if(typeof i.from!="number"||typeof i.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(i.from,i.to,n.markFromJSON(i.mark))},e}(Jr);Jr.jsonID("removeMark",Bs);Yt.prototype.addMark=function(r,e,t){var n=this,i=[],o=[],a=null,s=null;return this.doc.nodesBetween(r,e,function(l,c,u){if(!!l.isInline){var p=l.marks;if(!t.isInSet(p)&&u.type.allowsMarkType(t.type)){for(var d=Math.max(c,r),h=Math.min(c+l.nodeSize,e),f=t.addToSet(p),g=0;g<p.length;g++)p[g].isInSet(f)||(a&&a.to==d&&a.mark.eq(p[g])?a.to=h:i.push(a=new Bs(d,h,p[g])));s&&s.to==d?s.to=h:o.push(s=new kd(d,h,t))}}}),i.forEach(function(l){return n.step(l)}),o.forEach(function(l){return n.step(l)}),this};Yt.prototype.removeMark=function(r,e,t){var n=this;t===void 0&&(t=null);var i=[],o=0;return this.doc.nodesBetween(r,e,function(a,s){if(!!a.isInline){o++;var l=null;if(t instanceof Ki)for(var c=a.marks,u;u=t.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c);else t?t.isInSet(a.marks)&&(l=[t]):l=a.marks;if(l&&l.length)for(var p=Math.min(s+a.nodeSize,e),d=0;d<l.length;d++){for(var h=l[d],f=void 0,g=0;g<i.length;g++){var m=i[g];m.step==o-1&&h.eq(i[g].style)&&(f=m)}f?(f.to=p,f.step=o):i.push({style:h,from:Math.max(s,r),to:p,step:o})}}}),i.forEach(function(a){return n.step(new Bs(a.from,a.to,a.style))}),this};Yt.prototype.clearIncompatible=function(r,e,t){t===void 0&&(t=e.contentMatch);for(var n=this.doc.nodeAt(r),i=[],o=r+1,a=0;a<n.childCount;a++){var s=n.child(a),l=o+s.nodeSize,c=t.matchType(s.type,s.attrs);if(!c)i.push(new Ri(o,l,ve.empty));else{t=c;for(var u=0;u<s.marks.length;u++)e.allowsMarkType(s.marks[u].type)||this.step(new Bs(o,l,s.marks[u]))}o=l}if(!t.validEnd){var p=t.fillBefore(Q.empty,!0);this.replace(o,o,new ve(p,0,0))}for(var d=i.length-1;d>=0;d--)this.step(i[d]);return this};function Cd(r,e,t,n){if(t===void 0&&(t=e),n===void 0&&(n=ve.empty),e==t&&!n.size)return null;var i=r.resolve(e),o=r.resolve(t);return Av(i,o,n)?new Ri(e,t,n):new Zn(i,o,n).fit()}Yt.prototype.replace=function(r,e,t){e===void 0&&(e=r),t===void 0&&(t=ve.empty);var n=Cd(this.doc,r,e,t);return n&&this.step(n),this};Yt.prototype.replaceWith=function(r,e,t){return this.replace(r,e,new ve(Q.from(t),0,0))};Yt.prototype.delete=function(r,e){return this.replace(r,e,ve.empty)};Yt.prototype.insert=function(r,e){return this.replaceWith(r,r,e)};function Av(r,e,t){return!t.openStart&&!t.openEnd&&r.start()==e.start()&&r.parent.canReplace(r.index(),e.index(),t.content)}var Zn=function(e,t,n){this.$to=t,this.$from=e,this.unplaced=n,this.frontier=[];for(var i=0;i<=e.depth;i++){var o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}this.placed=Q.empty;for(var a=e.depth;a>0;a--)this.placed=Q.from(e.node(a).copy(this.placed))},Tv={depth:{configurable:!0}};Tv.depth.get=function(){return this.frontier.length-1};Zn.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,o=this.close(t<0?this.$to:i.doc.resolve(t));if(!o)return null;for(var a=this.placed,s=i.depth,l=o.depth;s&&l&&a.childCount==1;)a=a.firstChild.content,s--,l--;var c=new ve(a,s,l);if(t>-1)return new bn(i.pos,t,this.$to.pos,this.$to.end(),c,n);if(c.size||i.pos!=this.$to.pos)return new Ri(i.pos,o.pos,c)};Zn.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var t=this.unplaced.openStart;t>=0;t--){var n=void 0,i=void 0;t?(i=Sd(this.unplaced.content,t-1).firstChild,n=i.content):n=this.unplaced.content;for(var o=n.firstChild,a=this.depth;a>=0;a--){var s=this.frontier[a],l=s.type,c=s.match,u=void 0,p=void 0;if(e==1&&(o?c.matchType(o.type)||(p=c.fillBefore(Q.from(o),!1)):l.compatibleContent(i.type)))return{sliceDepth:t,frontierDepth:a,parent:i,inject:p};if(e==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:t,frontierDepth:a,parent:i,wrap:u};if(i&&c.matchType(i.type))break}}};Zn.prototype.openMore=function(){var e=this.unplaced,t=e.content,n=e.openStart,i=e.openEnd,o=Sd(t,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new ve(t,n+1,Math.max(i,o.size+n>=t.size-i?n+1:0)),!0)};Zn.prototype.dropNode=function(){var e=this.unplaced,t=e.content,n=e.openStart,i=e.openEnd,o=Sd(t,n);if(o.childCount<=1&&n>0){var a=t.size-n<=n+o.size;this.unplaced=new ve(vs(t,n-1,1),n-1,a?n-1:i)}else this.unplaced=new ve(vs(t,n,1),n,i)};Zn.prototype.placeNodes=function(e){for(var t=e.sliceDepth,n=e.frontierDepth,i=e.parent,o=e.inject,a=e.wrap;this.depth>n;)this.closeFrontierNode();if(a)for(var s=0;s<a.length;s++)this.openFrontierNode(a[s]);var l=this.unplaced,c=i?i.content:l.content,u=l.openStart-t,p=0,d=[],h=this.frontier[n],f=h.match,g=h.type;if(o){for(var m=0;m<o.childCount;m++)d.push(o.child(m));f=f.matchFragment(o)}for(var b=c.size+t-(l.content.size-l.openEnd);p<c.childCount;){var v=c.child(p),C=f.matchType(v.type);if(!C)break;p++,(p>1||u==0||v.content.size)&&(f=C,d.push(Mv(v.mark(g.allowedMarks(v.marks)),p==1?u:0,p==c.childCount?b:-1)))}var k=p==c.childCount;k||(b=-1),this.placed=$s(this.placed,n,Q.from(d)),this.frontier[n].match=f,k&&b<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var _=0,N=c;_<b;_++){var I=N.lastChild;this.frontier.push({type:I.type,match:I.contentMatchAt(I.childCount)}),N=I.content}this.unplaced=k?t==0?ve.empty:new ve(vs(l.content,t-1,1),t-1,b<0?l.openEnd:t-1):new ve(vs(l.content,t,p),l.openStart,l.openEnd)};Zn.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var e=this.frontier[this.depth],t;if(!e.type.isTextblock||!bp(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;for(var n=this.$to,i=n.depth,o=this.$to.after(i);i>1&&o==this.$to.end(--i);)++o;return o};Zn.prototype.findCloseLevel=function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){var n=this.frontier[t],i=n.match,o=n.type,a=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=bp(e,t,o,i,a);if(!!s){for(var l=t-1;l>=0;l--){var c=this.frontier[l],u=c.match,p=c.type,d=bp(e,l,p,u,!0);if(!d||d.childCount)continue e}return{depth:t,fit:s,move:a?e.doc.resolve(e.after(t+1)):e}}}};Zn.prototype.close=function(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=$s(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var i=e.node(n),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,o)}return e};Zn.prototype.openFrontierNode=function(e,t,n){var i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=$s(this.placed,this.depth,Q.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})};Zn.prototype.closeFrontierNode=function(){var e=this.frontier.pop(),t=e.match.fillBefore(Q.empty,!0);t.childCount&&(this.placed=$s(this.placed,this.frontier.length,t))};Object.defineProperties(Zn.prototype,Tv);function vs(r,e,t){return e==0?r.cutByIndex(t):r.replaceChild(0,r.firstChild.copy(vs(r.firstChild.content,e-1,t)))}function $s(r,e,t){return e==0?r.append(t):r.replaceChild(r.childCount-1,r.lastChild.copy($s(r.lastChild.content,e-1,t)))}function Sd(r,e){for(var t=0;t<e;t++)r=r.firstChild.content;return r}function Mv(r,e,t){if(e<=0)return r;var n=r.content;return e>1&&(n=n.replaceChild(0,Mv(n.firstChild,e-1,n.childCount==1?t-1:0))),e>0&&(n=r.type.contentMatch.fillBefore(n).append(n),t<=0&&(n=n.append(r.type.contentMatch.matchFragment(n).fillBefore(Q.empty,!0)))),r.copy(n)}function bp(r,e,t,n,i){var o=r.node(e),a=i?r.indexAfter(e):r.index(e);if(a==o.childCount&&!t.compatibleContent(o.type))return null;var s=n.fillBefore(o.content,!0,a);return s&&!B1(t,o.content,a)?s:null}function B1(r,e,t){for(var n=t;n<e.childCount;n++)if(!r.allowsMarks(e.child(n).marks))return!0;return!1}Yt.prototype.replaceRange=function(r,e,t){if(!t.size)return this.deleteRange(r,e);var n=this.doc.resolve(r),i=this.doc.resolve(e);if(Av(n,i,t))return this.step(new Ri(r,e,t));var o=_v(n,this.doc.resolve(e));o[o.length-1]==0&&o.pop();var a=-(n.depth+1);o.unshift(a);for(var s=n.depth,l=n.pos-1;s>0;s--,l--){var c=n.node(s).type.spec;if(c.defining||c.isolating)break;o.indexOf(s)>-1?a=s:n.before(s)==l&&o.splice(1,0,-s)}for(var u=o.indexOf(a),p=[],d=t.openStart,h=t.content,f=0;;f++){var g=h.firstChild;if(p.push(g),f==t.openStart)break;h=g.content}d>0&&p[d-1].type.spec.defining&&n.node(u).type!=p[d-1].type?d-=1:d>=2&&p[d-1].isTextblock&&p[d-2].type.spec.defining&&n.node(u).type!=p[d-2].type&&(d-=2);for(var m=t.openStart;m>=0;m--){var b=(m+d+1)%(t.openStart+1),v=p[b];if(!!v)for(var C=0;C<o.length;C++){var k=o[(C+u)%o.length],_=!0;k<0&&(_=!1,k=-k);var N=n.node(k-1),I=n.index(k-1);if(N.canReplaceWith(I,I,v.type,v.marks))return this.replace(n.before(k),_?i.after(k):e,new ve(Ov(t.content,0,t.openStart,b),b,t.openEnd))}}for(var L=this.steps.length,q=o.length-1;q>=0&&(this.replace(r,e,t),!(this.steps.length>L));q--){var A=o[q];A<0||(r=n.before(A),e=i.after(A))}return this};function Ov(r,e,t,n,i){if(e<t){var o=r.firstChild;r=r.replaceChild(0,o.copy(Ov(o.content,e+1,t,n,o)))}if(e>n){var a=i.contentMatchAt(0),s=a.fillBefore(r).append(r);r=s.append(a.matchFragment(s).fillBefore(Q.empty,!0))}return r}Yt.prototype.replaceRangeWith=function(r,e,t){if(!t.isInline&&r==e&&this.doc.resolve(r).parent.content.size){var n=L1(this.doc,r,t.type);n!=null&&(r=e=n)}return this.replaceRange(r,e,new ve(Q.from(t),0,0))};Yt.prototype.deleteRange=function(r,e){for(var t=this.doc.resolve(r),n=this.doc.resolve(e),i=_v(t,n),o=0;o<i.length;o++){var a=i[o],s=o==i.length-1;if(s&&a==0||t.node(a).type.contentMatch.validEnd)return this.delete(t.start(a),n.end(a));if(a>0&&(s||t.node(a-1).canReplace(t.index(a-1),n.indexAfter(a-1))))return this.delete(t.before(a),n.after(a))}for(var l=1;l<=t.depth&&l<=n.depth;l++)if(r-t.start(l)==t.depth-l&&e>t.end(l)&&n.end(l)-e!=n.depth-l)return this.delete(t.before(l),e);return this.delete(r,e)};function _v(r,e){for(var t=[],n=Math.min(r.depth,e.depth),i=n;i>=0;i--){var o=r.start(i);if(o<r.pos-(r.depth-i)||e.end(i)>e.pos+(e.depth-i)||r.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==r.depth&&i==e.depth&&r.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&t.push(i)}return t}var wp=Object.create(null),Ie=function(e,t,n){this.ranges=n||[new Nv(e.min(t),e.max(t))],this.$anchor=e,this.$head=t},ro={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};ro.anchor.get=function(){return this.$anchor.pos};ro.head.get=function(){return this.$head.pos};ro.from.get=function(){return this.$from.pos};ro.to.get=function(){return this.$to.pos};ro.$from.get=function(){return this.ranges[0].$from};ro.$to.get=function(){return this.ranges[0].$to};ro.empty.get=function(){for(var r=this.ranges,e=0;e<r.length;e++)if(r[e].$from.pos!=r[e].$to.pos)return!1;return!0};Ie.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)};Ie.prototype.replace=function(e,t){t===void 0&&(t=ve.empty);for(var n=t.content.lastChild,i=null,o=0;o<t.openEnd;o++)i=n,n=n.lastChild;for(var a=e.steps.length,s=this.ranges,l=0;l<s.length;l++){var c=s[l],u=c.$from,p=c.$to,d=e.mapping.slice(a);e.replaceRange(d.map(u.pos),d.map(p.pos),l?ve.empty:t),l==0&&Pv(e,a,(n?n.isInline:i&&i.isTextblock)?-1:1)}};Ie.prototype.replaceWith=function(e,t){for(var n=e.steps.length,i=this.ranges,o=0;o<i.length;o++){var a=i[o],s=a.$from,l=a.$to,c=e.mapping.slice(n),u=c.map(s.pos),p=c.map(l.pos);o?e.deleteRange(u,p):(e.replaceRangeWith(u,p,t),Pv(e,n,t.isInline?-1:1))}};Ie.findFrom=function(e,t,n){var i=e.parent.inlineContent?new it(e):ea(e.node(0),e.parent,e.pos,e.index(),t,n);if(i)return i;for(var o=e.depth-1;o>=0;o--){var a=t<0?ea(e.node(0),e.node(o),e.before(o+1),e.index(o),t,n):ea(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,n);if(a)return a}};Ie.near=function(e,t){return t===void 0&&(t=1),this.findFrom(e,t)||this.findFrom(e,-t)||new No(e.node(0))};Ie.atStart=function(e){return ea(e,e,0,0,1)||new No(e)};Ie.atEnd=function(e){return ea(e,e,e.content.size,e.childCount,-1)||new No(e)};Ie.fromJSON=function(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=wp[t.type];if(!n)throw new RangeError("No selection type "+t.type+" defined");return n.fromJSON(e,t)};Ie.jsonID=function(e,t){if(e in wp)throw new RangeError("Duplicate use of selection JSON ID "+e);return wp[e]=t,t.prototype.jsonID=e,t};Ie.prototype.getBookmark=function(){return it.between(this.$anchor,this.$head).getBookmark()};Object.defineProperties(Ie.prototype,ro);Ie.prototype.visible=!0;var Nv=function(e,t){this.$from=e,this.$to=t},it=function(r){function e(n,i){i===void 0&&(i=n),r.call(this,n,i)}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={$cursor:{configurable:!0}};return t.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(i,o){var a=i.resolve(o.map(this.head));if(!a.parent.inlineContent)return r.near(a);var s=i.resolve(o.map(this.anchor));return new e(s.parent.inlineContent?s:a,a)},e.prototype.replace=function(i,o){if(o===void 0&&(o=ve.empty),r.prototype.replace.call(this,i,o),o==ve.empty){var a=this.$from.marksAcross(this.$to);a&&i.ensureMarks(a)}},e.prototype.eq=function(i){return i instanceof e&&i.anchor==this.anchor&&i.head==this.head},e.prototype.getBookmark=function(){return new bs(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(i,o){if(typeof o.anchor!="number"||typeof o.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(i.resolve(o.anchor),i.resolve(o.head))},e.create=function(i,o,a){a===void 0&&(a=o);var s=i.resolve(o);return new this(s,a==o?s:i.resolve(a))},e.between=function(i,o,a){var s=i.pos-o.pos;if((!a||s)&&(a=s>=0?1:-1),!o.parent.inlineContent){var l=r.findFrom(o,a,!0)||r.findFrom(o,-a,!0);if(l)o=l.$head;else return r.near(o,a)}return i.parent.inlineContent||(s==0?i=o:(i=(r.findFrom(i,-a,!0)||r.findFrom(i,a,!0)).$anchor,i.pos<o.pos!=s<0&&(i=o))),new e(i,o)},Object.defineProperties(e.prototype,t),e}(Ie);Ie.jsonID("text",it);var bs=function(e,t){this.anchor=e,this.head=t};bs.prototype.map=function(e){return new bs(e.map(this.anchor),e.map(this.head))};bs.prototype.resolve=function(e){return it.between(e.resolve(this.anchor),e.resolve(this.head))};var Qe=function(r){function e(t){var n=t.nodeAfter,i=t.node(0).resolve(t.pos+n.nodeSize);r.call(this,t,i),this.node=n}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.map=function(n,i){var o=i.mapResult(this.anchor),a=o.deleted,s=o.pos,l=n.resolve(s);return a?r.near(l):new e(l)},e.prototype.content=function(){return new ve(Q.from(this.node),0,0)},e.prototype.eq=function(n){return n instanceof e&&n.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new Nl(this.anchor)},e.fromJSON=function(n,i){if(typeof i.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(n.resolve(i.anchor))},e.create=function(n,i){return new this(n.resolve(i))},e.isSelectable=function(n){return!n.isText&&n.type.spec.selectable!==!1},e}(Ie);Qe.prototype.visible=!1;Ie.jsonID("node",Qe);var Nl=function(e){this.anchor=e};Nl.prototype.map=function(e){var t=e.mapResult(this.anchor),n=t.deleted,i=t.pos;return n?new bs(i,i):new Nl(i)};Nl.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=t.nodeAfter;return n&&Qe.isSelectable(n)?new Qe(t):Ie.near(t)};var No=function(r){function e(t){r.call(this,t.resolve(0),t.resolve(t.content.size))}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.replace=function(n,i){if(i===void 0&&(i=ve.empty),i==ve.empty){n.delete(0,n.doc.content.size);var o=r.atStart(n.doc);o.eq(n.selection)||n.setSelection(o)}else r.prototype.replace.call(this,n,i)},e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(n){return new e(n)},e.prototype.map=function(n){return new e(n)},e.prototype.eq=function(n){return n instanceof e},e.prototype.getBookmark=function(){return $1},e}(Ie);Ie.jsonID("all",No);var $1={map:function(){return this},resolve:function(e){return new No(e)}};function ea(r,e,t,n,i,o){if(e.inlineContent)return it.create(r,t);for(var a=n-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){var s=e.child(a);if(s.isAtom){if(!o&&Qe.isSelectable(s))return Qe.create(r,t-(i<0?s.nodeSize:0))}else{var l=ea(r,s,t+i,i<0?s.childCount:0,i,o);if(l)return l}t+=s.nodeSize*i}}function Pv(r,e,t){var n=r.steps.length-1;if(!(n<e)){var i=r.steps[n];if(i instanceof Ri||i instanceof bn){var o=r.mapping.maps[n],a;o.forEach(function(s,l,c,u){a==null&&(a=u)}),r.setSelection(Ie.near(r.doc.resolve(a),t))}}}var Bf=1,Ks=2,$f=4,H1=function(r){function e(n){r.call(this,n.doc),this.time=Date.now(),this.curSelection=n.selection,this.curSelectionFor=0,this.storedMarks=n.storedMarks,this.updated=0,this.meta=Object.create(null)}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return t.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(i){if(i.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=i,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Bf)&~Ks,this.storedMarks=null,this},t.selectionSet.get=function(){return(this.updated&Bf)>0},e.prototype.setStoredMarks=function(i){return this.storedMarks=i,this.updated|=Ks,this},e.prototype.ensureMarks=function(i){return pt.sameSet(this.storedMarks||this.selection.$from.marks(),i)||this.setStoredMarks(i),this},e.prototype.addStoredMark=function(i){return this.ensureMarks(i.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(i){return this.ensureMarks(i.removeFromSet(this.storedMarks||this.selection.$head.marks()))},t.storedMarksSet.get=function(){return(this.updated&Ks)>0},e.prototype.addStep=function(i,o){r.prototype.addStep.call(this,i,o),this.updated=this.updated&~Ks,this.storedMarks=null},e.prototype.setTime=function(i){return this.time=i,this},e.prototype.replaceSelection=function(i){return this.selection.replace(this,i),this},e.prototype.replaceSelectionWith=function(i,o){var a=this.selection;return o!==!1&&(i=i.mark(this.storedMarks||(a.empty?a.$from.marks():a.$from.marksAcross(a.$to)||pt.none))),a.replaceWith(this,i),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(i,o,a){a===void 0&&(a=o);var s=this.doc.type.schema;if(o==null)return i?this.replaceSelectionWith(s.text(i),!0):this.deleteSelection();if(!i)return this.deleteRange(o,a);var l=this.storedMarks;if(!l){var c=this.doc.resolve(o);l=a==o?c.marks():c.marksAcross(this.doc.resolve(a))}return this.replaceRangeWith(o,a,s.text(i,l)),this.selection.empty||this.setSelection(Ie.near(this.selection.$to)),this},e.prototype.setMeta=function(i,o){return this.meta[typeof i=="string"?i:i.key]=o,this},e.prototype.getMeta=function(i){return this.meta[typeof i=="string"?i:i.key]},t.isGeneric.get=function(){for(var n in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=$f,this},t.scrolledIntoView.get=function(){return(this.updated&$f)>0},Object.defineProperties(e.prototype,t),e}(Yt);function Hf(r,e){return!e||!r?r:r.bind(e)}var Ya=function(e,t,n){this.name=e,this.init=Hf(t.init,n),this.apply=Hf(t.apply,n)},j1=[new Ya("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new Ya("selection",{init:function(e,t){return e.selection||Ie.atStart(t.doc)},apply:function(e){return e.selection}}),new Ya("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,t,n,i){return i.selection.$cursor?e.storedMarks:null}}),new Ya("scrollToSelection",{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],Ed=function(e,t){var n=this;this.schema=e,this.fields=j1.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),t&&t.forEach(function(i){if(n.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");n.plugins.push(i),n.pluginsByKey[i.key]=i,i.spec.state&&n.fields.push(new Ya(i.key,i.spec.state,i))})},qr=function(e){this.config=e},Nc={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};Nc.schema.get=function(){return this.config.schema};Nc.plugins.get=function(){return this.config.plugins};qr.prototype.apply=function(e){return this.applyTransaction(e).state};qr.prototype.filterTransaction=function(e,t){t===void 0&&(t=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=t){var i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0};qr.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var t=[e],n=this.applyInner(e),i=null;;){for(var o=!1,a=0;a<this.config.plugins.length;a++){var s=this.config.plugins[a];if(s.spec.appendTransaction){var l=i?i[a].n:0,c=i?i[a].state:this,u=l<t.length&&s.spec.appendTransaction.call(s,l?t.slice(l):t,c,n);if(u&&n.filterTransaction(u,a)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(var p=0;p<this.config.plugins.length;p++)i.push(p<a?{state:n,n:t.length}:{state:this,n:0})}t.push(u),n=n.applyInner(u),o=!0}i&&(i[a]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}};qr.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var t=new qr(this.config),n=this.config.fields,i=0;i<n.length;i++){var o=n[i];t[o.name]=o.apply(e,this[o.name],this,t)}for(var a=0;a<ws.length;a++)ws[a](this,e,t);return t};Nc.tr.get=function(){return new H1(this)};qr.create=function(e){for(var t=new Ed(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new qr(t),i=0;i<t.fields.length;i++)n[t.fields[i].name]=t.fields[i].init(e,n);return n};qr.prototype.reconfigure=function(e){for(var t=new Ed(this.schema,e.plugins),n=t.fields,i=new qr(t),o=0;o<n.length;o++){var a=n[o].name;i[a]=this.hasOwnProperty(a)?this[a]:n[o].init(e,i)}return i};qr.prototype.toJSON=function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(function(a){return a.toJSON()})),e&&typeof e=="object")for(var n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");var i=e[n],o=i.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(i,this[i.key]))}return t};qr.fromJSON=function(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var i=new Ed(e.schema,e.plugins),o=new qr(i);return i.fields.forEach(function(a){if(a.name=="doc")o.doc=ft.fromJSON(e.schema,t.doc);else if(a.name=="selection")o.selection=Ie.fromJSON(o.doc,t.selection);else if(a.name=="storedMarks")t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(var s in n){var l=n[s],c=l.spec.state;if(l.key==a.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(t,s)){o[a.name]=c.fromJSON.call(l,e,t[s],o);return}}o[a.name]=a.init(e,o)}}),o};qr.addApplyListener=function(e){ws.push(e)};qr.removeApplyListener=function(e){var t=ws.indexOf(e);t>-1&&ws.splice(t,1)};Object.defineProperties(qr.prototype,Nc);var ws=[];function Iv(r,e,t){for(var n in r){var i=r[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=Iv(i,e,{})),t[n]=i}return t}var Dr=function(e){this.props={},e.props&&Iv(e.props,this,this.props),this.spec=e,this.key=e.key?e.key.key:zv("plugin")};Dr.prototype.getState=function(e){return e[this.key]};var pu=Object.create(null);function zv(r){return r in pu?r+"$"+ ++pu[r]:(pu[r]=0,r+"$")}var Xr=function(e){e===void 0&&(e="key"),this.key=zv(e)};Xr.prototype.get=function(e){return e.config.pluginsByKey[this.key]};Xr.prototype.getState=function(e){return e[this.key]};function W1(r,e){return r.selection.empty?!1:(e&&e(r.tr.deleteSelection().scrollIntoView()),!0)}function V1(r,e,t){var n=r.selection,i=n.$cursor;if(!i||(t?!t.endOfTextblock("backward",r):i.parentOffset>0))return!1;var o=Fv(i);if(!o){var a=i.blockRange(),s=a&&Ta(a);return s==null?!1:(e&&e(r.tr.lift(a,s).scrollIntoView()),!0)}var l=o.nodeBefore;if(!l.type.spec.isolating&&Bv(r,o,e))return!0;if(i.parent.content.size==0&&(pa(l,"end")||Qe.isSelectable(l))){var c=Cd(r.doc,i.before(),i.after(),ve.empty);if(c.slice.size<c.to-c.from){if(e){var u=r.tr.step(c);u.setSelection(pa(l,"end")?Ie.findFrom(u.doc.resolve(u.mapping.map(o.pos,-1)),-1):Qe.create(u.doc,o.pos-l.nodeSize)),e(u.scrollIntoView())}return!0}}return l.isAtom&&o.depth==i.depth-1?(e&&e(r.tr.delete(o.pos-l.nodeSize,o.pos).scrollIntoView()),!0):!1}function pa(r,e,t){for(;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}function Y1(r,e,t){var n=r.selection,i=n.$head,o=n.empty,a=i;if(!o)return!1;if(i.parent.isTextblock){if(t?!t.endOfTextblock("backward",r):i.parentOffset>0)return!1;a=Fv(i)}var s=a&&a.nodeBefore;return!s||!Qe.isSelectable(s)?!1:(e&&e(r.tr.setSelection(Qe.create(r.doc,a.pos-s.nodeSize)).scrollIntoView()),!0)}function Fv(r){if(!r.parent.type.spec.isolating)for(var e=r.depth-1;e>=0;e--){if(r.index(e)>0)return r.doc.resolve(r.before(e+1));if(r.node(e).type.spec.isolating)break}return null}function q1(r,e,t){var n=r.selection,i=n.$cursor;if(!i||(t?!t.endOfTextblock("forward",r):i.parentOffset<i.parent.content.size))return!1;var o=Rv(i);if(!o)return!1;var a=o.nodeAfter;if(Bv(r,o,e))return!0;if(i.parent.content.size==0&&(pa(a,"start")||Qe.isSelectable(a))){var s=Cd(r.doc,i.before(),i.after(),ve.empty);if(s.slice.size<s.to-s.from){if(e){var l=r.tr.step(s);l.setSelection(pa(a,"start")?Ie.findFrom(l.doc.resolve(l.mapping.map(o.pos)),1):Qe.create(l.doc,l.mapping.map(o.pos))),e(l.scrollIntoView())}return!0}}return a.isAtom&&o.depth==i.depth-1?(e&&e(r.tr.delete(o.pos,o.pos+a.nodeSize).scrollIntoView()),!0):!1}function U1(r,e,t){var n=r.selection,i=n.$head,o=n.empty,a=i;if(!o)return!1;if(i.parent.isTextblock){if(t?!t.endOfTextblock("forward",r):i.parentOffset<i.parent.content.size)return!1;a=Rv(i)}var s=a&&a.nodeAfter;return!s||!Qe.isSelectable(s)?!1:(e&&e(r.tr.setSelection(Qe.create(r.doc,a.pos)).scrollIntoView()),!0)}function Rv(r){if(!r.parent.type.spec.isolating)for(var e=r.depth-1;e>=0;e--){var t=r.node(e);if(r.index(e)+1<t.childCount)return r.doc.resolve(r.after(e+1));if(t.type.spec.isolating)break}return null}function J1(r,e){var t=r.selection,n=t.$from,i=t.$to,o=n.blockRange(i),a=o&&Ta(o);return a==null?!1:(e&&e(r.tr.lift(o,a).scrollIntoView()),!0)}function X1(r,e){var t=r.selection,n=t.$head,i=t.$anchor;return!n.parent.type.spec.code||!n.sameParent(i)?!1:(e&&e(r.tr.insertText(`
`).scrollIntoView()),!0)}function Lv(r){for(var e=0;e<r.edgeCount;e++){var t=r.edge(e),n=t.type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function G1(r,e){var t=r.selection,n=t.$head,i=t.$anchor;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;var o=n.node(-1),a=n.indexAfter(-1),s=Lv(o.contentMatchAt(a));if(!o.canReplaceWith(a,a,s))return!1;if(e){var l=n.after(),c=r.tr.replaceWith(l,l,s.createAndFill());c.setSelection(Ie.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0}function K1(r,e){var t=r.selection,n=t.$from,i=t.$to;if(t instanceof No||n.parent.inlineContent||i.parent.inlineContent)return!1;var o=Lv(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){var a=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,s=r.tr.insert(a,o.createAndFill());s.setSelection(it.create(s.doc,a+1)),e(s.scrollIntoView())}return!0}function Z1(r,e){var t=r.selection,n=t.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var i=n.before();if(Qo(r.doc,i))return e&&e(r.tr.split(i).scrollIntoView()),!0}var o=n.blockRange(),a=o&&Ta(o);return a==null?!1:(e&&e(r.tr.lift(o,a).scrollIntoView()),!0)}function Q1(r,e){var t=r.selection,n=t.$from,i=t.to,o,a=n.sharedDepth(i);return a==0?!1:(o=n.before(a),e&&e(r.tr.setSelection(Qe.create(r.doc,o))),!0)}function ex(r,e,t){var n=e.nodeBefore,i=e.nodeAfter,o=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(o-1,o)?(t&&t(r.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||Ls(r.doc,e.pos))?!1:(t&&t(r.tr.clearIncompatible(e.pos,n.type,n.contentMatchAt(n.childCount)).join(e.pos).scrollIntoView()),!0)}function Bv(r,e,t){var n=e.nodeBefore,i=e.nodeAfter,o,a;if(n.type.spec.isolating||i.type.spec.isolating)return!1;if(ex(r,e,t))return!0;var s=e.parent.canReplace(e.index(),e.index()+1);if(s&&(o=(a=n.contentMatchAt(n.childCount)).findWrapping(i.type))&&a.matchType(o[0]||i.type).validEnd){if(t){for(var l=e.pos+i.nodeSize,c=Q.empty,u=o.length-1;u>=0;u--)c=Q.from(o[u].create(null,c));c=Q.from(n.copy(c));var p=r.tr.step(new bn(e.pos-1,l,e.pos,l,new ve(c,1,0),o.length,!0)),d=l+2*o.length;Ls(p.doc,d)&&p.join(d),t(p.scrollIntoView())}return!0}var h=Ie.findFrom(e,1),f=h&&h.$from.blockRange(h.$to),g=f&&Ta(f);if(g!=null&&g>=e.depth)return t&&t(r.tr.lift(f,g).scrollIntoView()),!0;if(s&&pa(i,"start",!0)&&pa(n,"end")){for(var m=n,b=[];b.push(m),!m.isTextblock;)m=m.lastChild;for(var v=i,C=1;!v.isTextblock;v=v.firstChild)C++;if(m.canReplace(m.childCount,m.childCount,v.content)){if(t){for(var k=Q.empty,_=b.length-1;_>=0;_--)k=Q.from(b[_].copy(k));var N=r.tr.step(new bn(e.pos-b.length,e.pos+i.nodeSize,e.pos+C,e.pos+i.nodeSize-C,new ve(k,b.length,0),0,!0));t(N.scrollIntoView())}return!0}}return!1}function $v(r){return function(e,t){for(var n=e.selection,i=r<0?n.$from:n.$to,o=i.depth;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(t&&t(e.tr.setSelection(it.create(e.doc,r<0?i.start(o):i.end(o)))),!0):!1}}var tx=$v(-1),rx=$v(1);function nx(r,e){return function(t,n){var i=t.selection,o=i.$from,a=i.$to,s=o.blockRange(a),l=s&&yd(s,r,e);return l?(n&&n(t.tr.wrap(s,l).scrollIntoView()),!0):!1}}function jf(r,e){return function(t,n){var i=t.selection,o=i.from,a=i.to,s=!1;return t.doc.nodesBetween(o,a,function(l,c){if(s)return!1;if(!(!l.isTextblock||l.hasMarkup(r,e)))if(l.type==r)s=!0;else{var u=t.doc.resolve(c),p=u.index();s=u.parent.canReplaceWith(p,p+1,r)}}),s?(n&&n(t.tr.setBlockType(o,a,r,e).scrollIntoView()),!0):!1}}typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform()=="darwin";function ix(r,e){return function(t,n){var i=t.selection,o=i.$from,a=i.$to,s=o.blockRange(a),l=!1,c=s;if(!s)return!1;if(s.depth>=2&&o.node(s.depth-1).type.compatibleContent(r)&&s.startIndex==0){if(o.index(s.depth-1)==0)return!1;var u=t.doc.resolve(s.start-2);c=new gs(u,u,s.depth),s.endIndex<s.parent.childCount&&(s=new gs(o,t.doc.resolve(a.end(s.depth)),s.depth)),l=!0}var p=yd(c,r,e,s);return p?(n&&n(ox(t.tr,s,p,l,r).scrollIntoView()),!0):!1}}function ox(r,e,t,n,i){for(var o=Q.empty,a=t.length-1;a>=0;a--)o=Q.from(t[a].type.create(t[a].attrs,o));r.step(new bn(e.start-(n?2:0),e.end,e.start,e.end,new ve(o,0,0),t.length,!0));for(var s=0,l=0;l<t.length;l++)t[l].type==i&&(s=l+1);for(var c=t.length-s,u=e.start+t.length-(n?2:0),p=e.parent,d=e.startIndex,h=e.endIndex,f=!0;d<h;d++,f=!1)!f&&Qo(r.doc,u,c)&&(r.split(u,c),u+=2*c),u+=p.child(d).nodeSize;return r}function ax(r){return function(e,t){var n=e.selection,i=n.$from,o=n.$to,a=i.blockRange(o,function(s){return s.childCount&&s.firstChild.type==r});return a?t?i.node(a.depth-1).type==r?sx(e,t,r,a):lx(e,t,a):!0:!1}}function sx(r,e,t,n){var i=r.tr,o=n.end,a=n.$to.end(n.depth);return o<a&&(i.step(new bn(o-1,a,o,a,new ve(Q.from(t.create(null,n.parent.copy())),1,0),1,!0)),n=new gs(i.doc.resolve(n.$from.pos),i.doc.resolve(a),n.depth)),e(i.lift(n,Ta(n)).scrollIntoView()),!0}function lx(r,e,t){for(var n=r.tr,i=t.parent,o=t.end,a=t.endIndex-1,s=t.startIndex;a>s;a--)o-=i.child(a).nodeSize,n.delete(o-1,o+1);var l=n.doc.resolve(t.start),c=l.nodeAfter;if(n.mapping.map(t.end)!=t.start+l.nodeAfter.nodeSize)return!1;var u=t.startIndex==0,p=t.endIndex==i.childCount,d=l.node(-1),h=l.index(-1);if(!d.canReplace(h+(u?0:1),h+1,c.content.append(p?Q.empty:Q.from(i))))return!1;var f=l.pos,g=f+c.nodeSize;return n.step(new bn(f-(u?1:0),g+(p?1:0),f+1,g-1,new ve((u?Q.empty:Q.from(i.copy(Q.empty))).append(p?Q.empty:Q.from(i.copy(Q.empty))),u?0:1,p?0:1),u?0:1)),e(n.scrollIntoView()),!0}function cx(r){return function(e,t){var n=e.selection,i=n.$from,o=n.$to,a=i.blockRange(o,function(g){return g.childCount&&g.firstChild.type==r});if(!a)return!1;var s=a.startIndex;if(s==0)return!1;var l=a.parent,c=l.child(s-1);if(c.type!=r)return!1;if(t){var u=c.lastChild&&c.lastChild.type==l.type,p=Q.from(u?r.create():null),d=new ve(Q.from(r.create(null,Q.from(l.type.create(null,p)))),u?3:1,0),h=a.start,f=a.end;t(e.tr.step(new bn(h-(u?3:1),f,h,f,d,1,!0)).scrollIntoView())}return!0}}var oe={};if(typeof navigator!="undefined"&&typeof document!="undefined"){var du=/Edge\/(\d+)/.exec(navigator.userAgent),Wf=/MSIE \d/.test(navigator.userAgent),fu=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),hu=oe.ie=!!(Wf||fu||du);oe.ie_version=Wf?document.documentMode||6:fu?+fu[1]:du?+du[1]:null,oe.gecko=!hu&&/gecko\/(\d+)/i.test(navigator.userAgent),oe.gecko_version=oe.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var gu=!hu&&/Chrome\/(\d+)/.exec(navigator.userAgent);oe.chrome=!!gu,oe.chrome_version=gu&&+gu[1],oe.safari=!hu&&/Apple Computer/.test(navigator.vendor),oe.ios=oe.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),oe.mac=oe.ios||/Mac/.test(navigator.platform),oe.android=/Android \d/.test(navigator.userAgent),oe.webkit="webkitFontSmoothing"in document.documentElement.style,oe.webkit_version=oe.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var In=function(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e},Dd=function(r){var e=r.assignedSlot||r.parentNode;return e&&e.nodeType==11?e.host:e},Vf=null,Mi=function(r,e,t){var n=Vf||(Vf=document.createRange());return n.setEnd(r,t==null?r.nodeValue.length:t),n.setStart(r,e||0),n},ys=function(r,e,t,n){return t&&(Yf(r,e,t,n,-1)||Yf(r,e,t,n,1))},ux=/^(img|br|input|textarea|hr)$/i;function Yf(r,e,t,n,i){for(;;){if(r==t&&e==n)return!0;if(e==(i<0?0:wi(r))){var o=r.parentNode;if(o.nodeType!=1||dx(r)||ux.test(r.nodeName)||r.contentEditable=="false")return!1;e=In(r)+(i<0?0:1),r=o}else if(r.nodeType==1){if(r=r.childNodes[e+(i<0?-1:0)],r.contentEditable=="false")return!1;e=i<0?wi(r):0}else return!1}}function wi(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function px(r,e,t){for(var n=e==0,i=e==wi(r);n||i;){if(r==t)return!0;var o=In(r);if(r=r.parentNode,!r)return!1;n=n&&o==0,i=i&&o==wi(r)}}function dx(r){for(var e,t=r;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==r||e.contentDOM==r)}var Ad=function(r){var e=r.isCollapsed;return e&&oe.chrome&&r.rangeCount&&!r.getRangeAt(0).collapsed&&(e=!1),e};function Wo(r,e){var t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=r,t.key=t.code=e,t}function fx(r){return{left:0,right:r.documentElement.clientWidth,top:0,bottom:r.documentElement.clientHeight}}function $i(r,e){return typeof r=="number"?r:r[e]}function hx(r){var e=r.getBoundingClientRect(),t=e.width/r.offsetWidth||1,n=e.height/r.offsetHeight||1;return{left:e.left,right:e.left+r.clientWidth*t,top:e.top,bottom:e.top+r.clientHeight*n}}function qf(r,e,t){for(var n=r.someProp("scrollThreshold")||0,i=r.someProp("scrollMargin")||5,o=r.dom.ownerDocument,a=t||r.dom;a;a=Dd(a))if(a.nodeType==1){var s=a==o.body||a.nodeType!=1,l=s?fx(o):hx(a),c=0,u=0;if(e.top<l.top+$i(n,"top")?u=-(l.top-e.top+$i(i,"top")):e.bottom>l.bottom-$i(n,"bottom")&&(u=e.bottom-l.bottom+$i(i,"bottom")),e.left<l.left+$i(n,"left")?c=-(l.left-e.left+$i(i,"left")):e.right>l.right-$i(n,"right")&&(c=e.right-l.right+$i(i,"right")),c||u)if(s)o.defaultView.scrollBy(c,u);else{var p=a.scrollLeft,d=a.scrollTop;u&&(a.scrollTop+=u),c&&(a.scrollLeft+=c);var h=a.scrollLeft-p,f=a.scrollTop-d;e={left:e.left-h,top:e.top-f,right:e.right-h,bottom:e.bottom-f}}if(s)break}}function gx(r){for(var e=r.dom.getBoundingClientRect(),t=Math.max(0,e.top),n,i,o=(e.left+e.right)/2,a=t+1;a<Math.min(innerHeight,e.bottom);a+=5){var s=r.root.elementFromPoint(o,a);if(!(s==r.dom||!r.dom.contains(s))){var l=s.getBoundingClientRect();if(l.top>=t-20){n=s,i=l.top;break}}}return{refDOM:n,refTop:i,stack:Hv(r.dom)}}function Hv(r){for(var e=[],t=r.ownerDocument;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),r!=t);r=Dd(r));return e}function mx(r){var e=r.refDOM,t=r.refTop,n=r.stack,i=e?e.getBoundingClientRect().top:0;jv(n,i==0?0:i-t)}function jv(r,e){for(var t=0;t<r.length;t++){var n=r[t],i=n.dom,o=n.top,a=n.left;i.scrollTop!=o+e&&(i.scrollTop=o+e),i.scrollLeft!=a&&(i.scrollLeft=a)}}var Lo=null;function vx(r){if(r.setActive)return r.setActive();if(Lo)return r.focus(Lo);var e=Hv(r);r.focus(Lo==null?{get preventScroll(){return Lo={preventScroll:!0},!0}}:void 0),Lo||(Lo=!1,jv(e,0))}function Wv(r,e){for(var t,n=2e8,i,o=0,a=e.top,s=e.top,l=r.firstChild,c=0;l;l=l.nextSibling,c++){var u=void 0;if(l.nodeType==1)u=l.getClientRects();else if(l.nodeType==3)u=Mi(l).getClientRects();else continue;for(var p=0;p<u.length;p++){var d=u[p];if(d.top<=a&&d.bottom>=s){a=Math.max(d.bottom,a),s=Math.min(d.top,s);var h=d.left>e.left?d.left-e.left:d.right<e.left?e.left-d.right:0;if(h<n){t=l,n=h,i=h&&t.nodeType==3?{left:d.right<e.left?d.right:d.left,top:e.top}:e,l.nodeType==1&&h&&(o=c+(e.left>=(d.left+d.right)/2?1:0));continue}}!t&&(e.left>=d.right&&e.top>=d.top||e.left>=d.left&&e.top>=d.bottom)&&(o=c+1)}}return t&&t.nodeType==3?bx(t,i):!t||n&&t.nodeType==1?{node:r,offset:o}:Wv(t,i)}function bx(r,e){for(var t=r.nodeValue.length,n=document.createRange(),i=0;i<t;i++){n.setEnd(r,i+1),n.setStart(r,i);var o=Hi(n,1);if(o.top!=o.bottom&&Td(e,o))return{node:r,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:r,offset:0}}function Td(r,e){return r.left>=e.left-1&&r.left<=e.right+1&&r.top>=e.top-1&&r.top<=e.bottom+1}function wx(r,e){var t=r.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<r.getBoundingClientRect().left?t:r}function yx(r,e,t){var n=Wv(e,t),i=n.node,o=n.offset,a=-1;if(i.nodeType==1&&!i.firstChild){var s=i.getBoundingClientRect();a=s.left!=s.right&&t.left>(s.left+s.right)/2?1:-1}return r.docView.posFromDOM(i,o,a)}function xx(r,e,t,n){for(var i=-1,o=e;o!=r.dom;){var a=r.docView.nearestDesc(o,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var s=a.dom.getBoundingClientRect();if(s.left>n.left||s.top>n.top)i=a.posBefore;else if(s.right<n.left||s.bottom<n.top)i=a.posAfter;else break}o=a.dom.parentNode}return i>-1?i:r.docView.posFromDOM(e,t)}function Vv(r,e,t){var n=r.childNodes.length;if(n&&t.top<t.bottom)for(var i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-t.top)/(t.bottom-t.top))-2)),o=i;;){var a=r.childNodes[o];if(a.nodeType==1)for(var s=a.getClientRects(),l=0;l<s.length;l++){var c=s[l];if(Td(e,c))return Vv(a,e,c)}if((o=(o+1)%n)==i)break}return r}function kx(r,e){var t,n,i=r.dom.ownerDocument,o,a;if(i.caretPositionFromPoint)try{var s=i.caretPositionFromPoint(e.left,e.top);s&&(t=s,o=t.offsetNode,a=t.offset)}catch{}if(!o&&i.caretRangeFromPoint){var l=i.caretRangeFromPoint(e.left,e.top);l&&(n=l,o=n.startContainer,a=n.startOffset)}var c=(r.root.elementFromPoint?r.root:i).elementFromPoint(e.left,e.top+1),u;if(!c||!r.dom.contains(c.nodeType!=1?c.parentNode:c)){var p=r.dom.getBoundingClientRect();if(!Td(e,p)||(c=Vv(r.dom,e,p),!c))return null}if(oe.safari)for(var d=c;o&&d;d=Dd(d))d.draggable&&(o=a=null);if(c=wx(c,e),o){if(oe.gecko&&o.nodeType==1&&(a=Math.min(a,o.childNodes.length),a<o.childNodes.length)){var h=o.childNodes[a],f;h.nodeName=="IMG"&&(f=h.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&a++}o==r.dom&&a==o.childNodes.length-1&&o.lastChild.nodeType==1&&e.top>o.lastChild.getBoundingClientRect().bottom?u=r.state.doc.content.size:(a==0||o.nodeType!=1||o.childNodes[a-1].nodeName!="BR")&&(u=xx(r,o,a,e))}u==null&&(u=yx(r,c,e));var g=r.docView.nearestDesc(c,!0);return{pos:u,inside:g?g.posAtStart-g.border:-1}}function Hi(r,e){var t=r.getClientRects();return t.length?t[e<0?0:t.length-1]:r.getBoundingClientRect()}var Cx=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Yv(r,e,t){var n=r.docView.domFromPos(e,t<0?-1:1),i=n.node,o=n.offset,a=oe.webkit||oe.gecko;if(i.nodeType==3)if(a&&(Cx.test(i.nodeValue)||(t<0?!o:o==i.nodeValue.length))){var s=Hi(Mi(i,o,o),t);if(oe.gecko&&o&&/\s/.test(i.nodeValue[o-1])&&o<i.nodeValue.length){var l=Hi(Mi(i,o-1,o-1),-1);if(l.top==s.top){var c=Hi(Mi(i,o,o+1),-1);if(c.top!=s.top)return La(c,c.left<l.left)}}return s}else{var u=o,p=o,d=t<0?1:-1;return t<0&&!o?(p++,d=-1):t>=0&&o==i.nodeValue.length?(u--,d=1):t<0?u--:p++,La(Hi(Mi(i,u,p),d),d<0)}if(!r.state.doc.resolve(e).parent.inlineContent){if(o&&(t<0||o==wi(i))){var h=i.childNodes[o-1];if(h.nodeType==1)return mu(h.getBoundingClientRect(),!1)}if(o<wi(i)){var f=i.childNodes[o];if(f.nodeType==1)return mu(f.getBoundingClientRect(),!0)}return mu(i.getBoundingClientRect(),t>=0)}if(o&&(t<0||o==wi(i))){var g=i.childNodes[o-1],m=g.nodeType==3?Mi(g,wi(g)-(a?0:1)):g.nodeType==1&&(g.nodeName!="BR"||!g.nextSibling)?g:null;if(m)return La(Hi(m,1),!1)}if(o<wi(i)){for(var b=i.childNodes[o];b.pmViewDesc&&b.pmViewDesc.ignoreForCoords;)b=b.nextSibling;var v=b?b.nodeType==3?Mi(b,0,a?0:1):b.nodeType==1?b:null:null;if(v)return La(Hi(v,-1),!0)}return La(Hi(i.nodeType==3?Mi(i):i,-t),t>=0)}function La(r,e){if(r.width==0)return r;var t=e?r.left:r.right;return{top:r.top,bottom:r.bottom,left:t,right:t}}function mu(r,e){if(r.height==0)return r;var t=e?r.top:r.bottom;return{top:t,bottom:t,left:r.left,right:r.right}}function qv(r,e,t){var n=r.state,i=r.root.activeElement;n!=e&&r.updateState(e),i!=r.dom&&r.focus();try{return t()}finally{n!=e&&r.updateState(n),i!=r.dom&&i&&i.focus()}}function Sx(r,e,t){var n=e.selection,i=t=="up"?n.$from:n.$to;return qv(r,e,function(){for(var o=r.docView.domFromPos(i.pos,t=="up"?-1:1),a=o.node;;){var s=r.docView.nearestDesc(a,!0);if(!s)break;if(s.node.isBlock){a=s.dom;break}a=s.dom.parentNode}for(var l=Yv(r,i.pos,1),c=a.firstChild;c;c=c.nextSibling){var u=void 0;if(c.nodeType==1)u=c.getClientRects();else if(c.nodeType==3)u=Mi(c,0,c.nodeValue.length).getClientRects();else continue;for(var p=0;p<u.length;p++){var d=u[p];if(d.bottom>d.top+1&&(t=="up"?l.top-d.top>(d.bottom-l.top)*2:d.bottom-l.bottom>(l.bottom-d.top)*2))return!1}}return!0})}var Ex=/[\u0590-\u08ac]/;function Dx(r,e,t){var n=e.selection,i=n.$head;if(!i.parent.isTextblock)return!1;var o=i.parentOffset,a=!o,s=o==i.parent.content.size,l=r.root.getSelection();return!Ex.test(i.parent.textContent)||!l.modify?t=="left"||t=="backward"?a:s:qv(r,e,function(){var c=l.getRangeAt(0),u=l.focusNode,p=l.focusOffset,d=l.caretBidiLevel;l.modify("move",t,"character");var h=i.depth?r.docView.domAfterPos(i.before()):r.dom,f=!h.contains(l.focusNode.nodeType==1?l.focusNode:l.focusNode.parentNode)||u==l.focusNode&&p==l.focusOffset;return l.removeAllRanges(),l.addRange(c),d!=null&&(l.caretBidiLevel=d),f})}var Uf=null,Jf=null,Xf=!1;function Ax(r,e,t){return Uf==e&&Jf==t?Xf:(Uf=e,Jf=t,Xf=t=="up"||t=="down"?Sx(r,e,t):Dx(r,e,t))}var ai=0,Uv=1,rs=2,zi=3,Pt=function(e,t,n,i){this.parent=e,this.children=t,this.dom=n,n.pmViewDesc=this,this.contentDOM=i,this.dirty=ai},Ci={size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};Pt.prototype.matchesWidget=function(){return!1};Pt.prototype.matchesMark=function(){return!1};Pt.prototype.matchesNode=function(){return!1};Pt.prototype.matchesHack=function(e){return!1};Pt.prototype.parseRule=function(){return null};Pt.prototype.stopEvent=function(){return!1};Ci.size.get=function(){for(var r=0,e=0;e<this.children.length;e++)r+=this.children[e].size;return r};Ci.border.get=function(){return 0};Pt.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()};Pt.prototype.posBeforeChild=function(e){for(var t=0,n=this.posAtStart;t<this.children.length;t++){var i=this.children[t];if(i==e)return n;n+=i.size}};Ci.posBefore.get=function(){return this.parent.posBeforeChild(this)};Ci.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0};Ci.posAfter.get=function(){return this.posBefore+this.size};Ci.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border};Pt.prototype.localPosFromDOM=function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){var i,o;if(e==this.contentDOM)i=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{var a,s;if(e==this.contentDOM)a=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((s=a.pmViewDesc)&&s.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(s):this.posAtEnd}var l;if(e==this.dom&&this.contentDOM)l=t>In(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))l=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(var c=e;;c=c.parentNode){if(c==this.dom){l=!1;break}if(c.parentNode.firstChild!=c)break}if(l==null&&t==e.childNodes.length)for(var u=e;;u=u.parentNode){if(u==this.dom){l=!0;break}if(u.parentNode.lastChild!=u)break}}return(l==null?n>0:l)?this.posAtEnd:this.posAtStart};Pt.prototype.nearestDesc=function(e,t){for(var n=!0,i=e;i;i=i.parentNode){var o=this.getDesc(i);if(o&&(!t||o.node))if(n&&o.nodeDOM&&!(o.nodeDOM.nodeType==1?o.nodeDOM.contains(e.nodeType==1?e:e.parentNode):o.nodeDOM==e))n=!1;else return o}};Pt.prototype.getDesc=function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t};Pt.prototype.posFromDOM=function(e,t,n){for(var i=e;i;i=i.parentNode){var o=this.getDesc(i);if(o)return o.localPosFromDOM(e,t,n)}return-1};Pt.prototype.descAt=function(e){for(var t=0,n=0;t<this.children.length;t++){var i=this.children[t],o=n+i.size;if(n==e&&o!=n){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-n-i.border);n=o}};Pt.prototype.domFromPos=function(e,t){if(!this.contentDOM)return{node:this.dom,offset:0};for(var n=0,i=0,o=0;n<this.children.length;n++){var a=this.children[n],s=o+a.size;if(s>e||a instanceof Kv){i=e-o;break}o=s}if(i)return this.children[n].domFromPos(i-this.children[n].border,t);for(var l=void 0;n&&!(l=this.children[n-1]).size&&l instanceof Jv&&l.widget.type.side>=0;n--);if(t<=0){for(var c,u=!0;c=n?this.children[n-1]:null,!(!c||c.dom.parentNode==this.contentDOM);n--,u=!1);return c&&t&&u&&!c.border&&!c.domAtom?c.domFromPos(c.size,t):{node:this.contentDOM,offset:c?In(c.dom)+1:0}}else{for(var p,d=!0;p=n<this.children.length?this.children[n]:null,!(!p||p.dom.parentNode==this.contentDOM);n++,d=!1);return p&&d&&!p.border&&!p.domAtom?p.domFromPos(0,t):{node:this.contentDOM,offset:p?In(p.dom):this.contentDOM.childNodes.length}}};Pt.prototype.parseRange=function(e,t,n){if(n===void 0&&(n=0),this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var i=-1,o=-1,a=n,s=0;;s++){var l=this.children[s],c=a+l.size;if(i==-1&&e<=c){var u=a+l.border;if(e>=u&&t<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,u);e=a;for(var p=s;p>0;p--){var d=this.children[p-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=In(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(c>t||s==this.children.length-1)){t=c;for(var h=s+1;h<this.children.length;h++){var f=this.children[h];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=In(f.dom);break}t+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=c}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:o}};Pt.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)};Pt.prototype.domAfterPos=function(e){var t=this.domFromPos(e,0),n=t.node,i=t.offset;if(n.nodeType!=1||i==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[i]};Pt.prototype.setSelection=function(e,t,n,i){for(var o=Math.min(e,t),a=Math.max(e,t),s=0,l=0;s<this.children.length;s++){var c=this.children[s],u=l+c.size;if(o>l&&a<u)return c.setSelection(e-l-c.border,t-l-c.border,n,i);l=u}var p=this.domFromPos(e,e?-1:1),d=t==e?p:this.domFromPos(t,t?-1:1),h=n.getSelection(),f=!1;if((oe.gecko||oe.safari)&&e==t){var g=p.node,m=p.offset;if(g.nodeType==3){if(f=m&&g.nodeValue[m-1]==`
`,f&&m==g.nodeValue.length)for(var b=g,v=void 0;b;b=b.parentNode){if(v=b.nextSibling){v.nodeName=="BR"&&(p=d={node:v.parentNode,offset:In(v)+1});break}var C=b.pmViewDesc;if(C&&C.node&&C.node.isBlock)break}}else{var k=g.childNodes[m-1];f=k&&(k.nodeName=="BR"||k.contentEditable=="false")}}if(oe.gecko&&h.focusNode&&h.focusNode!=d.node&&h.focusNode.nodeType==1){var _=h.focusNode.childNodes[h.focusOffset];_&&_.contentEditable=="false"&&(i=!0)}if(!(!(i||f&&oe.safari)&&ys(p.node,p.offset,h.anchorNode,h.anchorOffset)&&ys(d.node,d.offset,h.focusNode,h.focusOffset))){var N=!1;if((h.extend||e==t)&&!f){h.collapse(p.node,p.offset);try{e!=t&&h.extend(d.node,d.offset),N=!0}catch(q){if(!(q instanceof DOMException))throw q}}if(!N){if(e>t){var I=p;p=d,d=I}var L=document.createRange();L.setEnd(d.node,d.offset),L.setStart(p.node,p.offset),h.removeAllRanges(),h.addRange(L)}}};Pt.prototype.ignoreMutation=function(e){return!this.contentDOM&&e.type!="selection"};Ci.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)};Pt.prototype.markDirty=function(e,t){for(var n=0,i=0;i<this.children.length;i++){var o=this.children[i],a=n+o.size;if(n==a?e<=a&&t>=n:e<a&&t>n){var s=n+o.border,l=a-o.border;if(e>=s&&t<=l){this.dirty=e==n||t==a?rs:Uv,e==s&&t==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=zi:o.markDirty(e-s,t-s);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?rs:zi}n=a}this.dirty=rs};Pt.prototype.markParentsDirty=function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var n=e==1?rs:Uv;t.dirty<n&&(t.dirty=n)}};Ci.domAtom.get=function(){return!1};Ci.ignoreForCoords.get=function(){return!1};Object.defineProperties(Pt.prototype,Ci);var Zi=[],Jv=function(r){function e(n,i,o,a){var s,l=i.type.toDOM;if(typeof l=="function"&&(l=l(o,function(){if(!s)return a;if(s.parent)return s.parent.posBeforeChild(s)})),!i.type.spec.raw){if(l.nodeType!=1){var c=document.createElement("span");c.appendChild(l),l=c}l.contentEditable=!1,l.classList.add("ProseMirror-widget")}r.call(this,n,Zi,l,null),this.widget=i,s=this}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={domAtom:{configurable:!0}};return e.prototype.matchesWidget=function(i){return this.dirty==ai&&i.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(i){var o=this.widget.spec.stopEvent;return o?o(i):!1},e.prototype.ignoreMutation=function(i){return i.type!="selection"||this.widget.spec.ignoreSelection},e.prototype.destroy=function(){this.widget.type.destroy(this.dom),r.prototype.destroy.call(this)},t.domAtom.get=function(){return!0},Object.defineProperties(e.prototype,t),e}(Pt),Tx=function(r){function e(n,i,o,a){r.call(this,n,Zi,i,null),this.textDOM=o,this.text=a}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={size:{configurable:!0}};return t.size.get=function(){return this.text.length},e.prototype.localPosFromDOM=function(i,o){return i!=this.textDOM?this.posAtStart+(o?this.size:0):this.posAtStart+o},e.prototype.domFromPos=function(i){return{node:this.textDOM,offset:i}},e.prototype.ignoreMutation=function(i){return i.type==="characterData"&&i.target.nodeValue==i.oldValue},Object.defineProperties(e.prototype,t),e}(Pt),Pc=function(r){function e(t,n,i,o){r.call(this,t,[],i,o),this.mark=n}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.create=function(n,i,o,a){var s=a.nodeViews[i.type.name],l=s&&s(i,a,o);return(!l||!l.dom)&&(l=Fr.renderSpec(document,i.type.spec.toDOM(i,o))),new e(n,i,l.dom,l.contentDOM||l.dom)},e.prototype.parseRule=function(){return this.dirty&zi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(n){return this.dirty!=zi&&this.mark.eq(n)},e.prototype.markDirty=function(n,i){if(r.prototype.markDirty.call(this,n,i),this.dirty!=ai){for(var o=this.parent;!o.node;)o=o.parent;o.dirty<this.dirty&&(o.dirty=this.dirty),this.dirty=ai}},e.prototype.slice=function(n,i,o){var a=e.create(this.parent,this.mark,!0,o),s=this.children,l=this.size;i<l&&(s=kp(s,i,l,o)),n>0&&(s=kp(s,0,n,o));for(var c=0;c<s.length;c++)s[c].parent=a;return a.children=s,a},e}(Pt),Hs=function(r){function e(n,i,o,a,s,l,c,u,p){r.call(this,n,i.isLeaf?Zi:[],s,l),this.nodeDOM=c,this.node=i,this.outerDeco=o,this.innerDeco=a,l&&this.updateChildren(u,p)}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return e.create=function(i,o,a,s,l,c){var u,p=l.nodeViews[o.type.name],d,h=p&&p(o,l,function(){if(!d)return c;if(d.parent)return d.parent.posBeforeChild(d)},a,s),f=h&&h.dom,g=h&&h.contentDOM;if(o.isText){if(!f)f=document.createTextNode(o.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||(u=Fr.renderSpec(document,o.type.spec.toDOM(o)),f=u.dom,g=u.contentDOM);!g&&!o.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable=!1),o.type.spec.draggable&&(f.draggable=!0));var m=f;return f=eb(f,a,o),h?d=new Mx(i,o,a,s,f,g,m,h,l,c+1):o.isText?new Gv(i,o,a,s,f,m,l):new e(i,o,a,s,f,g,m,l,c+1)},e.prototype.parseRule=function(){var i=this;if(this.node.type.spec.reparseInView)return null;var o={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.whitespace=="pre"&&(o.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?o.contentElement=this.contentDOM:o.getContent=function(){return i.contentDOM?Q.empty:i.node.content},o},e.prototype.matchesNode=function(i,o,a){return this.dirty==ai&&i.eq(this.node)&&xp(o,this.outerDeco)&&a.eq(this.innerDeco)},t.size.get=function(){return this.node.nodeSize},t.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(i,o){var a=this,s=this.node.inlineContent,l=o,c=i.composing&&this.localCompositionInfo(i,o),u=c&&c.pos>-1?c:null,p=c&&c.pos<0,d=new Qn(this,u&&u.node);Px(this.node,this.innerDeco,function(h,f,g){h.spec.marks?d.syncToMarks(h.spec.marks,s,i):h.type.side>=0&&!g&&d.syncToMarks(f==a.node.childCount?pt.none:a.node.child(f).marks,s,i),d.placeWidget(h,i,l)},function(h,f,g,m){d.syncToMarks(h.marks,s,i);var b;d.findNodeMatch(h,f,g,m)||p&&i.state.selection.from>l&&i.state.selection.to<l+h.nodeSize&&(b=d.findIndexWithChild(c.node))>-1&&d.updateNodeAt(h,f,g,b,i)||d.updateNextNode(h,f,g,i,m)||d.addNode(h,f,g,i,l),l+=h.nodeSize}),d.syncToMarks(Zi,s,i),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==rs)&&(u&&this.protectLocalComposition(i,u),Zv(this.contentDOM,this.children,i),oe.ios&&Ix(this.dom))},e.prototype.localCompositionInfo=function(i,o){var a=i.state.selection,s=a.from,l=a.to;if(!(!(i.state.selection instanceof it)||s<o||l>o+this.node.content.size)){var c=i.root.getSelection(),u=zx(c.focusNode,c.focusOffset);if(!(!u||!this.dom.contains(u.parentNode)))if(this.node.inlineContent){var p=u.nodeValue,d=Fx(this.node.content,p,s-o,l-o);return d<0?null:{node:u,pos:d,text:p}}else return{node:u,pos:-1}}},e.prototype.protectLocalComposition=function(i,o){var a=o.node,s=o.pos,l=o.text;if(!this.getDesc(a)){for(var c=a;c.parentNode!=this.contentDOM;c=c.parentNode){for(;c.previousSibling;)c.parentNode.removeChild(c.previousSibling);for(;c.nextSibling;)c.parentNode.removeChild(c.nextSibling);c.pmViewDesc&&(c.pmViewDesc=null)}var u=new Tx(this,c,a,l);i.compositionNodes.push(u),this.children=kp(this.children,s,s+l.length,i,u)}},e.prototype.update=function(i,o,a,s){return this.dirty==zi||!i.sameMarkup(this.node)?!1:(this.updateInner(i,o,a,s),!0)},e.prototype.updateInner=function(i,o,a,s){this.updateOuterDeco(o),this.node=i,this.innerDeco=a,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=ai},e.prototype.updateOuterDeco=function(i){if(!xp(i,this.outerDeco)){var o=this.nodeDOM.nodeType!=1,a=this.dom;this.dom=Qv(this.dom,this.nodeDOM,yp(this.outerDeco,this.node,o),yp(i,this.node,o)),this.dom!=a&&(a.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=i}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")},t.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(e.prototype,t),e}(Pt);function Xv(r,e,t,n,i){return eb(n,e,r),new Hs(null,r,e,t,n,n,n,i,0)}var Gv=function(r){function e(n,i,o,a,s,l,c){r.call(this,n,i,o,a,s,null,l,c)}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={domAtom:{configurable:!0}};return e.prototype.parseRule=function(){for(var i=this.nodeDOM.parentNode;i&&i!=this.dom&&!i.pmIsDeco;)i=i.parentNode;return{skip:i||!0}},e.prototype.update=function(i,o,a,s){return this.dirty==zi||this.dirty!=ai&&!this.inParent()||!i.sameMarkup(this.node)?!1:(this.updateOuterDeco(o),(this.dirty!=ai||i.text!=this.node.text)&&i.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=i.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=i,this.dirty=ai,!0)},e.prototype.inParent=function(){for(var i=this.parent.contentDOM,o=this.nodeDOM;o;o=o.parentNode)if(o==i)return!0;return!1},e.prototype.domFromPos=function(i){return{node:this.nodeDOM,offset:i}},e.prototype.localPosFromDOM=function(i,o,a){return i==this.nodeDOM?this.posAtStart+Math.min(o,this.node.text.length):r.prototype.localPosFromDOM.call(this,i,o,a)},e.prototype.ignoreMutation=function(i){return i.type!="characterData"&&i.type!="selection"},e.prototype.slice=function(i,o,a){var s=this.node.cut(i,o),l=document.createTextNode(s.text);return new e(this.parent,s,this.outerDeco,this.innerDeco,l,l,a)},e.prototype.markDirty=function(i,o){r.prototype.markDirty.call(this,i,o),this.dom!=this.nodeDOM&&(i==0||o==this.nodeDOM.nodeValue.length)&&(this.dirty=zi)},t.domAtom.get=function(){return!1},Object.defineProperties(e.prototype,t),e}(Hs),Kv=function(r){function e(){r.apply(this,arguments)}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};return e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(i){return this.dirty==ai&&this.dom.nodeName==i},t.domAtom.get=function(){return!0},t.ignoreForCoords.get=function(){return this.dom.nodeName=="IMG"},Object.defineProperties(e.prototype,t),e}(Pt),Mx=function(r){function e(t,n,i,o,a,s,l,c,u,p){r.call(this,t,n,i,o,a,s,l,u,p),this.spec=c}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.update=function(n,i,o,a){if(this.dirty==zi)return!1;if(this.spec.update){var s=this.spec.update(n,i,o);return s&&this.updateInner(n,i,o,a),s}else return!this.contentDOM&&!n.isLeaf?!1:r.prototype.update.call(this,n,i,o,a)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():r.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():r.prototype.deselectNode.call(this)},e.prototype.setSelection=function(n,i,o,a){this.spec.setSelection?this.spec.setSelection(n,i,o):r.prototype.setSelection.call(this,n,i,o,a)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),r.prototype.destroy.call(this)},e.prototype.stopEvent=function(n){return this.spec.stopEvent?this.spec.stopEvent(n):!1},e.prototype.ignoreMutation=function(n){return this.spec.ignoreMutation?this.spec.ignoreMutation(n):r.prototype.ignoreMutation.call(this,n)},e}(Hs);function Zv(r,e,t){for(var n=r.firstChild,i=!1,o=0;o<e.length;o++){var a=e[o],s=a.dom;if(s.parentNode==r){for(;s!=n;)n=Gf(n),i=!0;n=n.nextSibling}else i=!0,r.insertBefore(s,n);if(a instanceof Pc){var l=n?n.previousSibling:r.lastChild;Zv(a.contentDOM,a.children,t),n=l?l.nextSibling:r.firstChild}}for(;n;)n=Gf(n),i=!0;i&&t.trackWrites==r&&(t.trackWrites=null)}function ns(r){r&&(this.nodeName=r)}ns.prototype=Object.create(null);var vo=[new ns];function yp(r,e,t){if(r.length==0)return vo;for(var n=t?vo[0]:new ns,i=[n],o=0;o<r.length;o++){var a=r[o].type.attrs;if(!!a){a.nodeName&&i.push(n=new ns(a.nodeName));for(var s in a){var l=a[s];l!=null&&(t&&i.length==1&&i.push(n=new ns(e.isInline?"span":"div")),s=="class"?n.class=(n.class?n.class+" ":"")+l:s=="style"?n.style=(n.style?n.style+";":"")+l:s!="nodeName"&&(n[s]=l))}}}return i}function Qv(r,e,t,n){if(t==vo&&n==vo)return e;for(var i=e,o=0;o<n.length;o++){var a=n[o],s=t[o];if(o){var l=void 0;s&&s.nodeName==a.nodeName&&i!=r&&(l=i.parentNode)&&l.tagName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(i),s=vo[0]),i=l}Ox(i,s||vo[0],a)}return i}function Ox(r,e,t){for(var n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in t)&&r.removeAttribute(n);for(var i in t)i!="class"&&i!="style"&&i!="nodeName"&&t[i]!=e[i]&&r.setAttribute(i,t[i]);if(e.class!=t.class){for(var o=e.class?e.class.split(" ").filter(Boolean):Zi,a=t.class?t.class.split(" ").filter(Boolean):Zi,s=0;s<o.length;s++)a.indexOf(o[s])==-1&&r.classList.remove(o[s]);for(var l=0;l<a.length;l++)o.indexOf(a[l])==-1&&r.classList.add(a[l]);r.classList.length==0&&r.removeAttribute("class")}if(e.style!=t.style){if(e.style)for(var c=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,u;u=c.exec(e.style);)r.style.removeProperty(u[1]);t.style&&(r.style.cssText+=t.style)}}function eb(r,e,t){return Qv(r,r,vo,yp(e,t,r.nodeType!=1))}function xp(r,e){if(r.length!=e.length)return!1;for(var t=0;t<r.length;t++)if(!r[t].type.eq(e[t].type))return!1;return!0}function Gf(r){var e=r.nextSibling;return r.parentNode.removeChild(r),e}var Qn=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1,this.preMatch=_x(e.node.content,e)};Qn.prototype.destroyBetween=function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}};Qn.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)};Qn.prototype.syncToMarks=function(e,t,n){for(var i=0,o=this.stack.length>>1,a=Math.min(o,e.length);i<a&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=ai,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);for(var s=-1,l=this.index;l<Math.min(this.index+3,this.top.children.length);l++)if(this.top.children[l].matchesMark(e[o])){s=l;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var c=Pc.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,o++}};Qn.prototype.findNodeMatch=function(e,t,n,i){var o=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,t,n))o=this.top.children.indexOf(a,this.index);else for(var s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){var c=this.top.children[s];if(c.matchesNode(e,t,n)&&!this.preMatch.matched.has(c)){o=s;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)};Qn.prototype.updateNodeAt=function(e,t,n,i,o){var a=this.top.children[i];return a.update(e,t,n,o)?(this.destroyBetween(this.index,i),this.index=i+1,!0):!1};Qn.prototype.findIndexWithChild=function(e){for(;;){var t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){var n=e.pmViewDesc;if(n){for(var i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}e=t}};Qn.prototype.updateNextNode=function(e,t,n,i,o){for(var a=this.index;a<this.top.children.length;a++){var s=this.top.children[a];if(s instanceof Hs){var l=this.preMatch.matched.get(s);if(l!=null&&l!=o)return!1;var c=s.dom,u=this.lock&&(c==this.lock||c.nodeType==1&&c.contains(this.lock.parentNode))&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&s.dirty!=zi&&xp(t,s.outerDeco));if(!u&&s.update(e,t,n,i))return this.destroyBetween(this.index,a),s.dom!=c&&(this.changed=!0),this.index++,!0;break}}return!1};Qn.prototype.addNode=function(e,t,n,i,o){this.top.children.splice(this.index++,0,Hs.create(this.top,e,t,n,i,o)),this.changed=!0};Qn.prototype.placeWidget=function(e,t,n){var i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{var o=new Jv(this.top,e,t,n);this.top.children.splice(this.index++,0,o),this.changed=!0}};Qn.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof Pc;)e=e.children[e.children.length-1];(!e||!(e instanceof Gv)||/\n$/.test(e.node.text))&&((oe.safari||oe.chrome)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG"),this.addHackNode("BR"))};Qn.prototype.addHackNode=function(e){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(e))this.index++;else{var t=document.createElement(e);e=="IMG"&&(t.className="ProseMirror-separator"),e=="BR"&&(t.className="ProseMirror-trailingBreak"),this.top.children.splice(this.index++,0,new Kv(this.top,Zi,t,null)),this.changed=!0}};function _x(r,e){var t=e,n=t.children.length,i=r.childCount,o=new Map,a=[];e:for(;i>0;){for(var s=void 0;;)if(n){var l=t.children[n-1];if(l instanceof Pc)t=l,n=l.children.length;else{s=l,n--;break}}else{if(t==e)break e;n=t.parent.children.indexOf(t),t=t.parent}var c=s.node;if(!!c){if(c!=r.child(i-1))break;--i,o.set(s,i),a.push(s)}}return{index:i,matched:o,matches:a.reverse()}}function Nx(r,e){return r.type.side-e.type.side}function Px(r,e,t,n){var i=e.locals(r),o=0;if(i.length==0){for(var a=0;a<r.childCount;a++){var s=r.child(a);n(s,i,e.forChild(o,s),a),o+=s.nodeSize}return}for(var l=0,c=[],u=null,p=0;;){if(l<i.length&&i[l].to==o){for(var d=i[l++],h=void 0;l<i.length&&i[l].to==o;)(h||(h=[d])).push(i[l++]);if(h){h.sort(Nx);for(var f=0;f<h.length;f++)t(h[f],p,!!u)}else t(d,p,!!u)}var g=void 0,m=void 0;if(u)m=-1,g=u,u=null;else if(p<r.childCount)m=p,g=r.child(p++);else break;for(var b=0;b<c.length;b++)c[b].to<=o&&c.splice(b--,1);for(;l<i.length&&i[l].from<=o&&i[l].to>o;)c.push(i[l++]);var v=o+g.nodeSize;if(g.isText){var C=v;l<i.length&&i[l].from<C&&(C=i[l].from);for(var k=0;k<c.length;k++)c[k].to<C&&(C=c[k].to);C<v&&(u=g.cut(C-o),g=g.cut(0,C-o),v=C,m=-1)}var _=c.length?g.isInline&&!g.isLeaf?c.filter(function(N){return!N.inline}):c.slice():Zi;n(g,_,e.forChild(o,g),m),o=v}}function Ix(r){if(r.nodeName=="UL"||r.nodeName=="OL"){var e=r.style.cssText;r.style.cssText=e+"; list-style: square !important",window.getComputedStyle(r).listStyle,r.style.cssText=e}}function zx(r,e){for(;;){if(r.nodeType==3)return r;if(r.nodeType==1&&e>0){if(r.childNodes.length>e&&r.childNodes[e].nodeType==3)return r.childNodes[e];r=r.childNodes[e-1],e=wi(r)}else if(r.nodeType==1&&e<r.childNodes.length)r=r.childNodes[e],e=0;else return null}}function Fx(r,e,t,n){for(var i=0,o=0;i<r.childCount&&o<=n;){var a=r.child(i++),s=o;if(o+=a.nodeSize,!!a.isText){for(var l=a.text;i<r.childCount;){var c=r.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=t&&s<n){var u=l.lastIndexOf(e,n-s-1);if(u>=0&&u+e.length+s>=t)return s+u}}}return-1}function kp(r,e,t,n,i){for(var o=[],a=0,s=0;a<r.length;a++){var l=r[a],c=s,u=s+=l.size;c>=t||u<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,n)),i&&(o.push(i),i=null),u>t&&o.push(l.slice(t-c,l.size,n)))}return o}function tb(r,e){var t=r.root.getSelection(),n=r.state.doc;if(!t.focusNode)return null;var i=r.docView.nearestDesc(t.focusNode),o=i&&i.size==0,a=r.docView.posFromDOM(t.focusNode,t.focusOffset);if(a<0)return null;var s=n.resolve(a),l,c;if(Ad(t)){for(l=s;i&&!i.node;)i=i.parent;if(i&&i.node.isAtom&&Qe.isSelectable(i.node)&&i.parent&&!(i.node.isInline&&px(t.focusNode,t.focusOffset,i.dom))){var u=i.posBefore;c=new Qe(a==u?s:n.resolve(u))}}else{var p=r.docView.posFromDOM(t.anchorNode,t.anchorOffset);if(p<0)return null;l=n.resolve(p)}if(!c){var d=e=="pointer"||r.state.selection.head<s.pos&&!o?1:-1;c=Md(r,l,s,d)}return c}function rb(r){return r.editable?r.hasFocus():Od(r)&&document.activeElement&&document.activeElement.contains(r.dom)}function no(r,e){var t=r.state.selection;if(nb(r,t),!!rb(r)){if(!e&&r.mouseDown&&r.mouseDown.allowDefault&&oe.chrome){var n=r.root.getSelection(),i=r.domObserver.currentSelection;if(n.anchorNode&&ys(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){r.mouseDown.delayedSelectionSync=!0,r.domObserver.setCurSelection();return}}if(r.domObserver.disconnectSelection(),r.cursorWrapper)Lx(r);else{var o=t.anchor,a=t.head,s,l;Kf&&!(t instanceof it)&&(t.$from.parent.inlineContent||(s=Zf(r,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(l=Zf(r,t.to))),r.docView.setSelection(o,a,r.root,e),Kf&&(s&&Qf(s),l&&Qf(l)),t.visible?r.dom.classList.remove("ProseMirror-hideselection"):(r.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Rx(r))}r.domObserver.setCurSelection(),r.domObserver.connectSelection()}}var Kf=oe.safari||oe.chrome&&oe.chrome_version<63;function Zf(r,e){var t=r.docView.domFromPos(e,0),n=t.node,i=t.offset,o=i<n.childNodes.length?n.childNodes[i]:null,a=i?n.childNodes[i-1]:null;if(oe.safari&&o&&o.contentEditable=="false")return vu(o);if((!o||o.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(o)return vu(o);if(a)return vu(a)}}function vu(r){return r.contentEditable="true",oe.safari&&r.draggable&&(r.draggable=!1,r.wasDraggable=!0),r}function Qf(r){r.contentEditable="false",r.wasDraggable&&(r.draggable=!0,r.wasDraggable=null)}function Rx(r){var e=r.dom.ownerDocument;e.removeEventListener("selectionchange",r.hideSelectionGuard);var t=r.root.getSelection(),n=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",r.hideSelectionGuard=function(){(t.anchorNode!=n||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",r.hideSelectionGuard),setTimeout(function(){(!rb(r)||r.state.selection.visible)&&r.dom.classList.remove("ProseMirror-hideselection")},20))})}function Lx(r){var e=r.root.getSelection(),t=document.createRange(),n=r.cursorWrapper.dom,i=n.nodeName=="IMG";i?t.setEnd(n.parentNode,In(n)+1):t.setEnd(n,0),t.collapse(!1),e.removeAllRanges(),e.addRange(t),!i&&!r.state.selection.visible&&oe.ie&&oe.ie_version<=11&&(n.disabled=!0,n.disabled=!1)}function nb(r,e){if(e instanceof Qe){var t=r.docView.descAt(e.from);t!=r.lastSelectedViewDesc&&(eh(r),t&&t.selectNode(),r.lastSelectedViewDesc=t)}else eh(r)}function eh(r){r.lastSelectedViewDesc&&(r.lastSelectedViewDesc.parent&&r.lastSelectedViewDesc.deselectNode(),r.lastSelectedViewDesc=null)}function Md(r,e,t,n){return r.someProp("createSelectionBetween",function(i){return i(r,e,t)})||it.between(e,t,n)}function Bx(r){return r.editable&&r.root.activeElement!=r.dom?!1:Od(r)}function Od(r){var e=r.root.getSelection();if(!e.anchorNode)return!1;try{return r.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(r.editable||r.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function $x(r){var e=r.docView.domFromPos(r.state.selection.anchor,0),t=r.root.getSelection();return ys(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Cp(r,e){var t=r.selection,n=t.$anchor,i=t.$head,o=e>0?n.max(i):n.min(i),a=o.parent.inlineContent?o.depth?r.doc.resolve(e>0?o.after():o.before()):null:o;return a&&Ie.findFrom(a,e)}function fo(r,e){return r.dispatch(r.state.tr.setSelection(e).scrollIntoView()),!0}function th(r,e,t){var n=r.state.selection;if(n instanceof it){if(!n.empty||t.indexOf("s")>-1)return!1;if(r.endOfTextblock(e>0?"right":"left")){var i=Cp(r.state,e);return i&&i instanceof Qe?fo(r,i):!1}else if(!(oe.mac&&t.indexOf("m")>-1)){var o=n.$head,a=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,s;if(!a||a.isText)return!1;var l=e<0?o.pos-a.nodeSize:o.pos;return a.isAtom||(s=r.docView.descAt(l))&&!s.contentDOM?Qe.isSelectable(a)?fo(r,new Qe(e<0?r.state.doc.resolve(o.pos-a.nodeSize):o)):oe.webkit?fo(r,new it(r.state.doc.resolve(e<0?l:l+a.nodeSize))):!1:!1}}else{if(n instanceof Qe&&n.node.isInline)return fo(r,new it(e>0?n.$to:n.$from));var c=Cp(r.state,e);return c?fo(r,c):!1}}function Pl(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function is(r){var e=r.pmViewDesc;return e&&e.size==0&&(r.nextSibling||r.nodeName!="BR")}function bu(r){var e=r.root.getSelection(),t=e.focusNode,n=e.focusOffset;if(!!t){var i,o,a=!1;for(oe.gecko&&t.nodeType==1&&n<Pl(t)&&is(t.childNodes[n])&&(a=!0);;)if(n>0){if(t.nodeType!=1)break;var s=t.childNodes[n-1];if(is(s))i=t,o=--n;else if(s.nodeType==3)t=s,n=t.nodeValue.length;else break}else{if(ib(t))break;for(var l=t.previousSibling;l&&is(l);)i=t.parentNode,o=In(l),l=l.previousSibling;if(l)t=l,n=Pl(t);else{if(t=t.parentNode,t==r.dom)break;n=0}}a?Sp(r,e,t,n):i&&Sp(r,e,i,o)}}function wu(r){var e=r.root.getSelection(),t=e.focusNode,n=e.focusOffset;if(!!t){for(var i=Pl(t),o,a;;)if(n<i){if(t.nodeType!=1)break;var s=t.childNodes[n];if(is(s))o=t,a=++n;else break}else{if(ib(t))break;for(var l=t.nextSibling;l&&is(l);)o=l.parentNode,a=In(l)+1,l=l.nextSibling;if(l)t=l,n=0,i=Pl(t);else{if(t=t.parentNode,t==r.dom)break;n=i=0}}o&&Sp(r,e,o,a)}}function ib(r){var e=r.pmViewDesc;return e&&e.node&&e.node.isBlock}function Sp(r,e,t,n){if(Ad(e)){var i=document.createRange();i.setEnd(t,n),i.setStart(t,n),e.removeAllRanges(),e.addRange(i)}else e.extend&&e.extend(t,n);r.domObserver.setCurSelection();var o=r.state;setTimeout(function(){r.state==o&&no(r)},50)}function rh(r,e,t){var n=r.state.selection;if(n instanceof it&&!n.empty||t.indexOf("s")>-1||oe.mac&&t.indexOf("m")>-1)return!1;var i=n.$from,o=n.$to;if(!i.parent.inlineContent||r.endOfTextblock(e<0?"up":"down")){var a=Cp(r.state,e);if(a&&a instanceof Qe)return fo(r,a)}if(!i.parent.inlineContent){var s=e<0?i:o,l=n instanceof No?Ie.near(s,e):Ie.findFrom(s,e);return l?fo(r,l):!1}return!1}function nh(r,e){if(!(r.state.selection instanceof it))return!0;var t=r.state.selection,n=t.$head,i=t.$anchor,o=t.empty;if(!n.sameParent(i))return!0;if(!o)return!1;if(r.endOfTextblock(e>0?"forward":"backward"))return!0;var a=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(a&&!a.isText){var s=r.state.tr;return e<0?s.delete(n.pos-a.nodeSize,n.pos):s.delete(n.pos,n.pos+a.nodeSize),r.dispatch(s),!0}return!1}function ih(r,e,t){r.domObserver.stop(),e.contentEditable=t,r.domObserver.start()}function Hx(r){if(!(!oe.safari||r.state.selection.$head.parentOffset>0)){var e=r.root.getSelection(),t=e.focusNode,n=e.focusOffset;if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){var i=t.firstChild;ih(r,i,!0),setTimeout(function(){return ih(r,i,!1)},20)}}}function jx(r){var e="";return r.ctrlKey&&(e+="c"),r.metaKey&&(e+="m"),r.altKey&&(e+="a"),r.shiftKey&&(e+="s"),e}function Wx(r,e){var t=e.keyCode,n=jx(e);return t==8||oe.mac&&t==72&&n=="c"?nh(r,-1)||bu(r):t==46||oe.mac&&t==68&&n=="c"?nh(r,1)||wu(r):t==13||t==27?!0:t==37?th(r,-1,n)||bu(r):t==39?th(r,1,n)||wu(r):t==38?rh(r,-1,n)||bu(r):t==40?Hx(r)||rh(r,1,n)||wu(r):n==(oe.mac?"m":"c")&&(t==66||t==73||t==89||t==90)}function Vx(r,e,t){var n=r.docView.parseRange(e,t),i=n.node,o=n.fromOffset,a=n.toOffset,s=n.from,l=n.to,c=r.root.getSelection(),u=null,p=c.anchorNode;if(p&&r.dom.contains(p.nodeType==1?p:p.parentNode)&&(u=[{node:p,offset:c.anchorOffset}],Ad(c)||u.push({node:c.focusNode,offset:c.focusOffset})),oe.chrome&&r.lastKeyCode===8)for(var d=a;d>o;d--){var h=i.childNodes[d-1],f=h.pmViewDesc;if(h.nodeName=="BR"&&!f){a=d;break}if(!f||f.size)break}var g=r.state.doc,m=r.someProp("domParser")||oi.fromSchema(r.state.schema),b=g.resolve(s),v=null,C=m.parse(i,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:o,to:a,preserveWhitespace:b.parent.type.whitespace=="pre"?"full":!0,editableContent:!0,findPositions:u,ruleFromNode:Yx,context:b});if(u&&u[0].pos!=null){var k=u[0].pos,_=u[1]&&u[1].pos;_==null&&(_=k),v={anchor:k+s,head:_+s}}return{doc:C,sel:v,from:s,to:l}}function Yx(r){var e=r.pmViewDesc;if(e)return e.parseRule();if(r.nodeName=="BR"&&r.parentNode){if(oe.safari&&/^(ul|ol)$/i.test(r.parentNode.nodeName)){var t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(r.parentNode.lastChild==r||oe.safari&&/^(tr|table)$/i.test(r.parentNode.nodeName))return{ignore:!0}}else if(r.nodeName=="IMG"&&r.getAttribute("mark-placeholder"))return{ignore:!0}}function qx(r,e,t,n,i){if(e<0){var o=r.lastSelectionTime>Date.now()-50?r.lastSelectionOrigin:null,a=tb(r,o);if(a&&!r.state.selection.eq(a)){var s=r.state.tr.setSelection(a);o=="pointer"?s.setMeta("pointer",!0):o=="key"&&s.scrollIntoView(),r.dispatch(s)}return}var l=r.state.doc.resolve(e),c=l.sharedDepth(t);e=l.before(c+1),t=r.state.doc.resolve(t).after(c+1);var u=r.state.selection,p=Vx(r,e,t);if(oe.chrome&&r.cursorWrapper&&p.sel&&p.sel.anchor==r.cursorWrapper.deco.from){var d=r.cursorWrapper.deco.type.toDOM.nextSibling,h=d&&d.nodeValue?d.nodeValue.length:1;p.sel={anchor:p.sel.anchor+h,head:p.sel.anchor+h}}var f=r.state.doc,g=f.slice(p.from,p.to),m,b;r.lastKeyCode===8&&Date.now()-100<r.lastKeyCodeTime?(m=r.state.selection.to,b="end"):(m=r.state.selection.from,b="start"),r.lastKeyCode=null;var v=Xx(g.content,p.doc.content,p.from,m,b);if(!v)if(n&&u instanceof it&&!u.empty&&u.$head.sameParent(u.$anchor)&&!r.composing&&!(p.sel&&p.sel.anchor!=p.sel.head))v={start:u.from,endA:u.to,endB:u.to};else if((oe.ios&&r.lastIOSEnter>Date.now()-225||oe.android)&&i.some(function(Se){return Se.nodeName=="DIV"||Se.nodeName=="P"})&&r.someProp("handleKeyDown",function(Se){return Se(r,Wo(13,"Enter"))})){r.lastIOSEnter=0;return}else{if(p.sel){var C=oh(r,r.state.doc,p.sel);C&&!C.eq(r.state.selection)&&r.dispatch(r.state.tr.setSelection(C))}return}r.domChangeCount++,r.state.selection.from<r.state.selection.to&&v.start==v.endB&&r.state.selection instanceof it&&(v.start>r.state.selection.from&&v.start<=r.state.selection.from+2?v.start=r.state.selection.from:v.endA<r.state.selection.to&&v.endA>=r.state.selection.to-2&&(v.endB+=r.state.selection.to-v.endA,v.endA=r.state.selection.to)),oe.ie&&oe.ie_version<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>p.from&&p.doc.textBetween(v.start-p.from-1,v.start-p.from+1)==" \xA0"&&(v.start--,v.endA--,v.endB--);var k=p.doc.resolveNoCache(v.start-p.from),_=p.doc.resolveNoCache(v.endB-p.from),N=k.sameParent(_)&&k.parent.inlineContent,I;if((oe.ios&&r.lastIOSEnter>Date.now()-225&&(!N||i.some(function(Se){return Se.nodeName=="DIV"||Se.nodeName=="P"}))||!N&&k.pos<p.doc.content.size&&(I=Ie.findFrom(p.doc.resolve(k.pos+1),1,!0))&&I.head==_.pos)&&r.someProp("handleKeyDown",function(Se){return Se(r,Wo(13,"Enter"))})){r.lastIOSEnter=0;return}if(r.state.selection.anchor>v.start&&Jx(f,v.start,v.endA,k,_)&&r.someProp("handleKeyDown",function(Se){return Se(r,Wo(8,"Backspace"))})){oe.android&&oe.chrome&&r.domObserver.suppressSelectionUpdates();return}oe.chrome&&oe.android&&v.toB==v.from&&(r.lastAndroidDelete=Date.now()),oe.android&&!N&&k.start()!=_.start()&&_.parentOffset==0&&k.depth==_.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==v.endA&&(v.endB-=2,_=p.doc.resolveNoCache(v.endB-p.from),setTimeout(function(){r.someProp("handleKeyDown",function(Se){return Se(r,Wo(13,"Enter"))})},20));var L=v.start,q=v.endA,A,z,H,U;if(N){if(k.pos==_.pos)oe.ie&&oe.ie_version<=11&&k.parentOffset==0&&(r.domObserver.suppressSelectionUpdates(),setTimeout(function(){return no(r)},20)),A=r.state.tr.delete(L,q),z=f.resolve(v.start).marksAcross(f.resolve(v.endA));else if(v.endA==v.endB&&(U=f.resolve(v.start))&&(H=Ux(k.parent.content.cut(k.parentOffset,_.parentOffset),U.parent.content.cut(U.parentOffset,v.endA-U.start()))))A=r.state.tr,H.type=="add"?A.addMark(L,q,H.mark):A.removeMark(L,q,H.mark);else if(k.parent.child(k.index()).isText&&k.index()==_.index()-(_.textOffset?0:1)){var ie=k.parent.textBetween(k.parentOffset,_.parentOffset);if(r.someProp("handleTextInput",function(Se){return Se(r,L,q,ie)}))return;A=r.state.tr.insertText(ie,L,q)}}if(A||(A=r.state.tr.replace(L,q,p.doc.slice(v.start-p.from,v.endB-p.from))),p.sel){var ke=oh(r,A.doc,p.sel);ke&&!(oe.chrome&&oe.android&&r.composing&&ke.empty&&(v.start!=v.endB||r.lastAndroidDelete<Date.now()-100)&&(ke.head==L||ke.head==A.mapping.map(q)-1)||oe.ie&&ke.empty&&ke.head==L)&&A.setSelection(ke)}z&&A.ensureMarks(z),r.dispatch(A.scrollIntoView())}function oh(r,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Md(r,e.resolve(t.anchor),e.resolve(t.head))}function Ux(r,e){for(var t=r.firstChild.marks,n=e.firstChild.marks,i=t,o=n,a,s,l,c=0;c<n.length;c++)i=n[c].removeFromSet(i);for(var u=0;u<t.length;u++)o=t[u].removeFromSet(o);if(i.length==1&&o.length==0)s=i[0],a="add",l=function(h){return h.mark(s.addToSet(h.marks))};else if(i.length==0&&o.length==1)s=o[0],a="remove",l=function(h){return h.mark(s.removeFromSet(h.marks))};else return null;for(var p=[],d=0;d<e.childCount;d++)p.push(l(e.child(d)));if(Q.from(p).eq(r))return{mark:s,type:a}}function Jx(r,e,t,n,i){if(!n.parent.isTextblock||t-e<=i.pos-n.pos||yu(n,!0,!1)<i.pos)return!1;var o=r.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;var a=r.resolve(yu(o,!0,!0));return!a.parent.isTextblock||a.pos>t||yu(a,!0,!1)<t?!1:n.parent.content.cut(n.parentOffset).eq(a.parent.content)}function yu(r,e,t){for(var n=r.depth,i=e?r.end():r.pos;n>0&&(e||r.indexAfter(n)==r.node(n).childCount);)n--,i++,e=!1;if(t)for(var o=r.node(n).maybeChild(r.indexAfter(n));o&&!o.isLeaf;)o=o.firstChild,i++;return i}function Xx(r,e,t,n,i){var o=r.findDiffStart(e,t);if(o==null)return null;var a=r.findDiffEnd(e,t+r.size,t+e.size),s=a.a,l=a.b;if(i=="end"){var c=Math.max(0,o-Math.min(s,l));n-=s+c-o}if(s<o&&r.size<e.size){var u=n<=o&&n>=s?o-n:0;o-=u,l=o+(l-s),s=o}else if(l<o){var p=n<=o&&n>=l?o-n:0;o-=p,s=o+(s-l),l=o}return{start:o,endA:s,endB:l}}function ob(r,e){for(var t=[],n=e.content,i=e.openStart,o=e.openEnd;i>1&&o>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,o--;var a=n.firstChild;t.push(a.type.name,a.attrs!=a.type.defaultAttrs?a.attrs:null),n=a.content}var s=r.someProp("clipboardSerializer")||Fr.fromSchema(r.state.schema),l=pb(),c=l.createElement("div");c.appendChild(s.serializeFragment(n,{document:l}));for(var u=c.firstChild,p;u&&u.nodeType==1&&(p=ub[u.nodeName.toLowerCase()]);){for(var d=p.length-1;d>=0;d--){for(var h=l.createElement(p[d]);c.firstChild;)h.appendChild(c.firstChild);c.appendChild(h),p[d]!="tbody"&&(i++,o++)}u=c.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",i+" "+o+" "+JSON.stringify(t));var f=r.someProp("clipboardTextSerializer",function(g){return g(e)})||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:f}}function ab(r,e,t,n,i){var o,a=i.parent.type.spec.code,s;if(!t&&!e)return null;var l=e&&(n||a||!t);if(l){if(r.someProp("transformPastedText",function(_){e=_(e,a||n)}),a)return e?new ve(Q.from(r.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ve.empty;var c=r.someProp("clipboardTextParser",function(_){return _(e,i,n)});if(c)s=c;else{var u=i.marks(),p=r.state,d=p.schema,h=Fr.fromSchema(d);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(function(_){var N=o.appendChild(document.createElement("p"));_&&N.appendChild(h.serializeNode(d.text(_,u)))})}}else r.someProp("transformPastedHTML",function(_){t=_(t)}),o=Zx(t),oe.webkit&&Qx(o);var f=o&&o.querySelector("[data-pm-slice]"),g=f&&/^(\d+) (\d+) (.*)/.exec(f.getAttribute("data-pm-slice"));if(!s){var m=r.someProp("clipboardParser")||r.someProp("domParser")||oi.fromSchema(r.state.schema);s=m.parseSlice(o,{preserveWhitespace:!!(l||g),context:i,ruleFromNode:function(N){if(N.nodeName=="BR"&&!N.nextSibling&&N.parentNode&&!Gx.test(N.parentNode.nodeName))return{ignore:!0}}})}if(g)s=ek(ah(s,+g[1],+g[2]),g[3]);else if(s=ve.maxOpen(Kx(s.content,i),!0),s.openStart||s.openEnd){for(var b=0,v=0,C=s.content.firstChild;b<s.openStart&&!C.type.spec.isolating;b++,C=C.firstChild);for(var k=s.content.lastChild;v<s.openEnd&&!k.type.spec.isolating;v++,k=k.lastChild);s=ah(s,b,v)}return r.someProp("transformPasted",function(_){s=_(s)}),s}var Gx=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Kx(r,e){if(r.childCount<2)return r;for(var t=function(o){var a=e.node(o),s=a.contentMatchAt(e.index(o)),l=void 0,c=[];if(r.forEach(function(u){if(!!c){var p=s.findWrapping(u.type),d;if(!p)return c=null;if(d=c.length&&l.length&&lb(p,l,u,c[c.length-1],0))c[c.length-1]=d;else{c.length&&(c[c.length-1]=cb(c[c.length-1],l.length));var h=sb(u,p);c.push(h),s=s.matchType(h.type,h.attrs),l=p}}}),c)return{v:Q.from(c)}},n=e.depth;n>=0;n--){var i=t(n);if(i)return i.v}return r}function sb(r,e,t){t===void 0&&(t=0);for(var n=e.length-1;n>=t;n--)r=e[n].create(null,Q.from(r));return r}function lb(r,e,t,n,i){if(i<r.length&&i<e.length&&r[i]==e[i]){var o=lb(r,e,t,n.lastChild,i+1);if(o)return n.copy(n.content.replaceChild(n.childCount-1,o));var a=n.contentMatchAt(n.childCount);if(a.matchType(i==r.length-1?t.type:r[i+1]))return n.copy(n.content.append(Q.from(sb(t,r,i+1))))}}function cb(r,e){if(e==0)return r;var t=r.content.replaceChild(r.childCount-1,cb(r.lastChild,e-1)),n=r.contentMatchAt(r.childCount).fillBefore(Q.empty,!0);return r.copy(t.append(n))}function Ep(r,e,t,n,i,o){var a=e<0?r.firstChild:r.lastChild,s=a.content;return i<n-1&&(s=Ep(s,e,t,n,i+1,o)),i>=t&&(s=e<0?a.contentMatchAt(0).fillBefore(s,r.childCount>1||o<=i).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(Q.empty,!0))),r.replaceChild(e<0?0:r.childCount-1,a.copy(s))}function ah(r,e,t){return e<r.openStart&&(r=new ve(Ep(r.content,-1,e,r.openStart,0,r.openEnd),e,r.openEnd)),t<r.openEnd&&(r=new ve(Ep(r.content,1,t,r.openEnd,0,0),r.openStart,t)),r}var ub={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},sh=null;function pb(){return sh||(sh=document.implementation.createHTMLDocument("title"))}function Zx(r){var e=/^(\s*<meta [^>]*>)*/.exec(r);e&&(r=r.slice(e[0].length));var t=pb().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(r),i;if((i=n&&ub[n[1].toLowerCase()])&&(r=i.map(function(a){return"<"+a+">"}).join("")+r+i.map(function(a){return"</"+a+">"}).reverse().join("")),t.innerHTML=r,i)for(var o=0;o<i.length;o++)t=t.querySelector(i[o])||t;return t}function Qx(r){for(var e=r.querySelectorAll(oe.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),t=0;t<e.length;t++){var n=e[t];n.childNodes.length==1&&n.textContent=="\xA0"&&n.parentNode&&n.parentNode.replaceChild(r.ownerDocument.createTextNode(" "),n)}}function ek(r,e){if(!r.size)return r;var t=r.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return r}for(var i=r.content,o=r.openStart,a=r.openEnd,s=n.length-2;s>=0;s-=2){var l=t.nodes[n[s]];if(!l||l.hasRequiredAttrs())break;i=Q.from(l.create(n[s+1],i)),o++,a++}return new ve(i,o,a)}var tk={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},_d=oe.ie&&oe.ie_version<=11,Nd=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Nd.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset};Nd.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var Ln=function(e,t){var n=this;this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver(function(i){for(var o=0;o<i.length;o++)n.queue.push(i[o]);oe.ie&&oe.ie_version<=11&&i.some(function(a){return a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length})?n.flushSoon():n.flush()}),this.currentSelection=new Nd,_d&&(this.onCharData=function(i){n.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Ln.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(function(){e.flushingSoon=-1,e.flush()},20))};Ln.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())};Ln.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,tk),_d&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()};Ln.prototype.stop=function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(function(){return e.flush()},20)}this.observer.disconnect()}_d&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()};Ln.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)};Ln.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)};Ln.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return e.suppressingSelectionUpdates=!1},50)};Ln.prototype.onSelectionChange=function(){if(!!Bx(this.view)){if(this.suppressingSelectionUpdates)return no(this.view);if(oe.ie&&oe.ie_version<=11&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&ys(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}};Ln.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())};Ln.prototype.ignoreSelectionChange=function(e){if(e.rangeCount==0)return!0;var t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);if(n&&n.ignoreMutation({type:"selection",target:t.nodeType==3?t.parentNode:t}))return this.setCurSelection(),!0};Ln.prototype.flush=function(){if(!(!this.view.docView||this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var t=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&Od(this.view)&&!this.ignoreSelectionChange(t),i=-1,o=-1,a=!1,s=[];if(this.view.editable)for(var l=0;l<e.length;l++){var c=this.registerMutation(e[l],s);c&&(i=i<0?c.from:Math.min(c.from,i),o=o<0?c.to:Math.max(c.to,o),c.typeOver&&(a=!0))}if(oe.gecko&&s.length>1){var u=s.filter(function(h){return h.nodeName=="BR"});if(u.length==2){var p=u[0],d=u[1];p.parentNode&&p.parentNode.parentNode==d.parentNode?d.remove():p.remove()}}(i>-1||n)&&(i>-1&&(this.view.docView.markDirty(i,o),rk(this.view)),this.handleDOMChange(i,o,a,s),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||no(this.view),this.currentSelection.set(t))}};Ln.prototype.registerMutation=function(e,t){if(t.indexOf(e.target)>-1)return null;var n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(var i=0;i<e.addedNodes.length;i++)t.push(e.addedNodes[i]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};var o=e.previousSibling,a=e.nextSibling;if(oe.ie&&oe.ie_version<=11&&e.addedNodes.length)for(var s=0;s<e.addedNodes.length;s++){var l=e.addedNodes[s],c=l.previousSibling,u=l.nextSibling;(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(o=c),(!u||Array.prototype.indexOf.call(e.addedNodes,u)<0)&&(a=u)}var p=o&&o.parentNode==e.target?In(o)+1:0,d=n.localPosFromDOM(e.target,p,-1),h=a&&a.parentNode==e.target?In(a):e.target.childNodes.length,f=n.localPosFromDOM(e.target,h,1);return{from:d,to:f}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var lh=!1;function rk(r){lh||(lh=!0,getComputedStyle(r.dom).whiteSpace=="normal"&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}var wn={},an={};function nk(r){r.shiftKey=!1,r.mouseDown=null,r.lastKeyCode=null,r.lastKeyCodeTime=0,r.lastClick={time:0,x:0,y:0,type:""},r.lastSelectionOrigin=null,r.lastSelectionTime=0,r.lastIOSEnter=0,r.lastIOSEnterFallbackTimeout=null,r.lastAndroidDelete=0,r.composing=!1,r.composingTimeout=null,r.compositionNodes=[],r.compositionEndedAt=-2e8,r.domObserver=new Ln(r,function(n,i,o,a){return qx(r,n,i,o,a)}),r.domObserver.start(),r.domChangeCount=0,r.eventHandlers=Object.create(null);var e=function(n){var i=wn[n];r.dom.addEventListener(n,r.eventHandlers[n]=function(o){ok(r,o)&&!Id(r,o)&&(r.editable||!(o.type in an))&&i(r,o)})};for(var t in wn)e(t);oe.safari&&r.dom.addEventListener("input",function(){return null}),Pd(r)}function Ao(r,e){r.lastSelectionOrigin=e,r.lastSelectionTime=Date.now()}function ik(r){r.domObserver.stop();for(var e in r.eventHandlers)r.dom.removeEventListener(e,r.eventHandlers[e]);clearTimeout(r.composingTimeout),clearTimeout(r.lastIOSEnterFallbackTimeout)}function Pd(r){r.someProp("handleDOMEvents",function(e){for(var t in e)r.eventHandlers[t]||r.dom.addEventListener(t,r.eventHandlers[t]=function(n){return Id(r,n)})})}function Id(r,e){return r.someProp("handleDOMEvents",function(t){var n=t[e.type];return n?n(r,e)||e.defaultPrevented:!1})}function ok(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var t=e.target;t!=r.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function ak(r,e){!Id(r,e)&&wn[e.type]&&(r.editable||!(e.type in an))&&wn[e.type](r,e)}an.keydown=function(r,e){if(r.shiftKey=e.keyCode==16||e.shiftKey,!fb(r,e)&&(r.lastKeyCode=e.keyCode,r.lastKeyCodeTime=Date.now(),!(oe.android&&oe.chrome&&e.keyCode==13)))if(e.keyCode!=229&&r.domObserver.forceFlush(),oe.ios&&e.keyCode==13&&!e.ctrlKey&&!e.altKey&&!e.metaKey){var t=Date.now();r.lastIOSEnter=t,r.lastIOSEnterFallbackTimeout=setTimeout(function(){r.lastIOSEnter==t&&(r.someProp("handleKeyDown",function(n){return n(r,Wo(13,"Enter"))}),r.lastIOSEnter=0)},200)}else r.someProp("handleKeyDown",function(n){return n(r,e)})||Wx(r,e)?e.preventDefault():Ao(r,"key")};an.keyup=function(r,e){e.keyCode==16&&(r.shiftKey=!1)};an.keypress=function(r,e){if(!(fb(r,e)||!e.charCode||e.ctrlKey&&!e.altKey||oe.mac&&e.metaKey)){if(r.someProp("handleKeyPress",function(i){return i(r,e)})){e.preventDefault();return}var t=r.state.selection;if(!(t instanceof it)||!t.$from.sameParent(t.$to)){var n=String.fromCharCode(e.charCode);r.someProp("handleTextInput",function(i){return i(r,t.$from.pos,t.$to.pos,n)})||r.dispatch(r.state.tr.insertText(n).scrollIntoView()),e.preventDefault()}}};function Ic(r){return{left:r.clientX,top:r.clientY}}function sk(r,e){var t=e.x-r.clientX,n=e.y-r.clientY;return t*t+n*n<100}function zd(r,e,t,n,i){if(n==-1)return!1;for(var o=r.state.doc.resolve(n),a=function(c){if(r.someProp(e,function(u){return c>o.depth?u(r,t,o.nodeAfter,o.before(c),i,!0):u(r,t,o.node(c),o.before(c),i,!1)}))return{v:!0}},s=o.depth+1;s>0;s--){var l=a(s);if(l)return l.v}return!1}function ta(r,e,t){r.focused||r.focus();var n=r.state.tr.setSelection(e);t=="pointer"&&n.setMeta("pointer",!0),r.dispatch(n)}function lk(r,e){if(e==-1)return!1;var t=r.state.doc.resolve(e),n=t.nodeAfter;return n&&n.isAtom&&Qe.isSelectable(n)?(ta(r,new Qe(t),"pointer"),!0):!1}function ck(r,e){if(e==-1)return!1;var t=r.state.selection,n,i;t instanceof Qe&&(n=t.node);for(var o=r.state.doc.resolve(e),a=o.depth+1;a>0;a--){var s=a>o.depth?o.nodeAfter:o.node(a);if(Qe.isSelectable(s)){n&&t.$from.depth>0&&a>=t.$from.depth&&o.before(t.$from.depth+1)==t.$from.pos?i=o.before(t.$from.depth):i=o.before(a);break}}return i!=null?(ta(r,Qe.create(r.state.doc,i),"pointer"),!0):!1}function uk(r,e,t,n,i){return zd(r,"handleClickOn",e,t,n)||r.someProp("handleClick",function(o){return o(r,e,n)})||(i?ck(r,t):lk(r,t))}function pk(r,e,t,n){return zd(r,"handleDoubleClickOn",e,t,n)||r.someProp("handleDoubleClick",function(i){return i(r,e,n)})}function dk(r,e,t,n){return zd(r,"handleTripleClickOn",e,t,n)||r.someProp("handleTripleClick",function(i){return i(r,e,n)})||fk(r,t,n)}function fk(r,e,t){if(t.button!=0)return!1;var n=r.state.doc;if(e==-1)return n.inlineContent?(ta(r,it.create(n,0,n.content.size),"pointer"),!0):!1;for(var i=n.resolve(e),o=i.depth+1;o>0;o--){var a=o>i.depth?i.nodeAfter:i.node(o),s=i.before(o);if(a.inlineContent)ta(r,it.create(n,s+1,s+1+a.content.size),"pointer");else if(Qe.isSelectable(a))ta(r,Qe.create(n,s),"pointer");else continue;return!0}}function Fd(r){return Il(r)}var db=oe.mac?"metaKey":"ctrlKey";wn.mousedown=function(r,e){r.shiftKey=e.shiftKey;var t=Fd(r),n=Date.now(),i="singleClick";n-r.lastClick.time<500&&sk(e,r.lastClick)&&!e[db]&&(r.lastClick.type=="singleClick"?i="doubleClick":r.lastClick.type=="doubleClick"&&(i="tripleClick")),r.lastClick={time:n,x:e.clientX,y:e.clientY,type:i};var o=r.posAtCoords(Ic(e));!o||(i=="singleClick"?(r.mouseDown&&r.mouseDown.done(),r.mouseDown=new zc(r,o,e,t)):(i=="doubleClick"?pk:dk)(r,o.pos,o.inside,e)?e.preventDefault():Ao(r,"pointer"))};var zc=function(e,t,n,i){var o=this;this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=n,this.flushed=i,this.selectNode=n[db],this.allowDefault=n.shiftKey,this.delayedSelectionSync=!1;var a,s;if(t.inside>-1)a=e.state.doc.nodeAt(t.inside),s=t.inside;else{var l=e.state.doc.resolve(t.pos);a=l.parent,s=l.depth?l.before():0}this.mightDrag=null;var c=i?null:n.target,u=c?e.docView.nearestDesc(c,!0):null;this.target=u?u.dom:null;var p=e.state,d=p.selection;(n.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||d instanceof Qe&&d.from<=s&&d.to>s)&&(this.mightDrag={node:a,pos:s,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&oe.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){o.view.mouseDown==o&&o.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ao(e,"pointer")};zc.prototype.done=function(){var e=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(function(){return no(e.view)}),this.view.mouseDown=null};zc.prototype.up=function(e){if(this.done(),!!this.view.dom.contains(e.target.nodeType==3?e.target.parentNode:e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Ic(e))),this.allowDefault||!t?Ao(this.view,"pointer"):uk(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||oe.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||oe.chrome&&!(this.view.state.selection instanceof it)&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(ta(this.view,Ie.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Ao(this.view,"pointer")}};zc.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),Ao(this.view,"pointer"),e.buttons==0&&this.done()};wn.touchdown=function(r){Fd(r),Ao(r,"pointer")};wn.contextmenu=function(r){return Fd(r)};function fb(r,e){return r.composing?!0:oe.safari&&Math.abs(e.timeStamp-r.compositionEndedAt)<500?(r.compositionEndedAt=-2e8,!0):!1}var hk=oe.android?5e3:-1;an.compositionstart=an.compositionupdate=function(r){if(!r.composing){r.domObserver.flush();var e=r.state,t=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(function(s){return s.type.spec.inclusive===!1})))r.markCursor=r.state.storedMarks||t.marks(),Il(r,!0),r.markCursor=null;else if(Il(r),oe.gecko&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length)for(var n=r.root.getSelection(),i=n.focusNode,o=n.focusOffset;i&&i.nodeType==1&&o!=0;){var a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(a.nodeType==3){n.collapse(a,a.nodeValue.length);break}else i=a,o=-1}r.composing=!0}hb(r,hk)};an.compositionend=function(r,e){r.composing&&(r.composing=!1,r.compositionEndedAt=e.timeStamp,hb(r,20))};function hb(r,e){clearTimeout(r.composingTimeout),e>-1&&(r.composingTimeout=setTimeout(function(){return Il(r)},e))}function gb(r){for(r.composing&&(r.composing=!1,r.compositionEndedAt=gk());r.compositionNodes.length>0;)r.compositionNodes.pop().markParentsDirty()}function gk(){var r=document.createEvent("Event");return r.initEvent("event",!0,!0),r.timeStamp}function Il(r,e){if(!(oe.android&&r.domObserver.flushingSoon>=0)){if(r.domObserver.forceFlush(),gb(r),e||r.docView.dirty){var t=tb(r);return t&&!t.eq(r.state.selection)?r.dispatch(r.state.tr.setSelection(t)):r.updateState(r.state),!0}return!1}}function mk(r,e){if(!!r.dom.parentNode){var t=r.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";var n=getSelection(),i=document.createRange();i.selectNodeContents(e),r.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(function(){t.parentNode&&t.parentNode.removeChild(t),r.focus()},50)}}var da=oe.ie&&oe.ie_version<15||oe.ios&&oe.webkit_version<604;wn.copy=an.cut=function(r,e){var t=r.state.selection,n=e.type=="cut";if(!t.empty){var i=da?null:e.clipboardData,o=t.content(),a=ob(r,o),s=a.dom,l=a.text;i?(e.preventDefault(),i.clearData(),i.setData("text/html",s.innerHTML),i.setData("text/plain",l)):mk(r,s),n&&r.dispatch(r.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}};function vk(r){return r.openStart==0&&r.openEnd==0&&r.content.childCount==1?r.content.firstChild:null}function bk(r,e){if(!!r.dom.parentNode){var t=r.shiftKey||r.state.selection.$from.parent.type.spec.code,n=r.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(function(){r.focus(),n.parentNode&&n.parentNode.removeChild(n),t?Dp(r,n.value,null,e):Dp(r,n.textContent,n.innerHTML,e)},50)}}function Dp(r,e,t,n){var i=ab(r,e,t,r.shiftKey,r.state.selection.$from);if(r.someProp("handlePaste",function(s){return s(r,n,i||ve.empty)}))return!0;if(!i)return!1;var o=vk(i),a=o?r.state.tr.replaceSelectionWith(o,r.shiftKey):r.state.tr.replaceSelection(i);return r.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}an.paste=function(r,e){if(!(r.composing&&!oe.android)){var t=da?null:e.clipboardData;t&&Dp(r,t.getData("text/plain"),t.getData("text/html"),e)?e.preventDefault():bk(r,e)}};var wk=function(e,t){this.slice=e,this.move=t},mb=oe.mac?"altKey":"ctrlKey";wn.dragstart=function(r,e){var t=r.mouseDown;if(t&&t.done(),!!e.dataTransfer){var n=r.state.selection,i=n.empty?null:r.posAtCoords(Ic(e));if(!(i&&i.pos>=n.from&&i.pos<=(n instanceof Qe?n.to-1:n.to))){if(t&&t.mightDrag)r.dispatch(r.state.tr.setSelection(Qe.create(r.state.doc,t.mightDrag.pos)));else if(e.target&&e.target.nodeType==1){var o=r.docView.nearestDesc(e.target,!0);o&&o.node.type.spec.draggable&&o!=r.docView&&r.dispatch(r.state.tr.setSelection(Qe.create(r.state.doc,o.posBefore)))}}var a=r.state.selection.content(),s=ob(r,a),l=s.dom,c=s.text;e.dataTransfer.clearData(),e.dataTransfer.setData(da?"Text":"text/html",l.innerHTML),e.dataTransfer.effectAllowed="copyMove",da||e.dataTransfer.setData("text/plain",c),r.dragging=new wk(a,!e[mb])}};wn.dragend=function(r){var e=r.dragging;window.setTimeout(function(){r.dragging==e&&(r.dragging=null)},50)};an.dragover=an.dragenter=function(r,e){return e.preventDefault()};an.drop=function(r,e){var t=r.dragging;if(r.dragging=null,!!e.dataTransfer){var n=r.posAtCoords(Ic(e));if(!!n){var i=r.state.doc.resolve(n.pos);if(!!i){var o=t&&t.slice;o?r.someProp("transformPasted",function(f){o=f(o)}):o=ab(r,e.dataTransfer.getData(da?"Text":"text/plain"),da?null:e.dataTransfer.getData("text/html"),!1,i);var a=t&&!e[mb];if(r.someProp("handleDrop",function(f){return f(r,e,o||ve.empty,a)})){e.preventDefault();return}if(!!o){e.preventDefault();var s=o?Dv(r.state.doc,i.pos,o):i.pos;s==null&&(s=i.pos);var l=r.state.tr;a&&l.deleteSelection();var c=l.mapping.map(s),u=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,p=l.doc;if(u?l.replaceRangeWith(c,c,o.content.firstChild):l.replaceRange(c,c,o),!l.doc.eq(p)){var d=l.doc.resolve(c);if(u&&Qe.isSelectable(o.content.firstChild)&&d.nodeAfter&&d.nodeAfter.sameMarkup(o.content.firstChild))l.setSelection(new Qe(d));else{var h=l.mapping.map(s);l.mapping.maps[l.mapping.maps.length-1].forEach(function(f,g,m,b){return h=b}),l.setSelection(Md(r,d,l.doc.resolve(h)))}r.focus(),r.dispatch(l.setMeta("uiEvent","drop"))}}}}}};wn.focus=function(r){r.focused||(r.domObserver.stop(),r.dom.classList.add("ProseMirror-focused"),r.domObserver.start(),r.focused=!0,setTimeout(function(){r.docView&&r.hasFocus()&&!r.domObserver.currentSelection.eq(r.root.getSelection())&&no(r)},20))};wn.blur=function(r,e){r.focused&&(r.domObserver.stop(),r.dom.classList.remove("ProseMirror-focused"),r.domObserver.start(),e.relatedTarget&&r.dom.contains(e.relatedTarget)&&r.domObserver.currentSelection.set({}),r.focused=!1)};wn.beforeinput=function(r,e){if(oe.chrome&&oe.android&&e.inputType=="deleteContentBackward"){r.domObserver.flushSoon();var t=r.domChangeCount;setTimeout(function(){if(r.domChangeCount==t&&(r.dom.blur(),r.focus(),!r.someProp("handleKeyDown",function(o){return o(r,Wo(8,"Backspace"))}))){var n=r.state.selection,i=n.$cursor;i&&i.pos>0&&r.dispatch(r.state.tr.delete(i.pos-1,i.pos).scrollIntoView())}},50)}};for(var ch in an)wn[ch]=an[ch];function xs(r,e){if(r==e)return!0;for(var t in r)if(r[t]!==e[t])return!1;for(var n in e)if(!(n in r))return!1;return!0}var fa=function(e,t){this.spec=t||Po,this.side=this.spec.side||0,this.toDOM=e};fa.prototype.map=function(e,t,n,i){var o=e.mapResult(t.from+i,this.side<0?-1:1),a=o.pos,s=o.deleted;return s?null:new sr(a-n,a-n,this)};fa.prototype.valid=function(){return!0};fa.prototype.eq=function(e){return this==e||e instanceof fa&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&xs(this.spec,e.spec))};fa.prototype.destroy=function(e){this.spec.destroy&&this.spec.destroy(e)};var li=function(e,t){this.spec=t||Po,this.attrs=e};li.prototype.map=function(e,t,n,i){var o=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-n,a=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-n;return o>=a?null:new sr(o,a,this)};li.prototype.valid=function(e,t){return t.from<t.to};li.prototype.eq=function(e){return this==e||e instanceof li&&xs(this.attrs,e.attrs)&&xs(this.spec,e.spec)};li.is=function(e){return e.type instanceof li};var ks=function(e,t){this.spec=t||Po,this.attrs=e};ks.prototype.map=function(e,t,n,i){var o=e.mapResult(t.from+i,1);if(o.deleted)return null;var a=e.mapResult(t.to+i,-1);return a.deleted||a.pos<=o.pos?null:new sr(o.pos-n,a.pos-n,this)};ks.prototype.valid=function(e,t){var n=e.content.findIndex(t.from),i=n.index,o=n.offset,a;return o==t.from&&!(a=e.child(i)).isText&&o+a.nodeSize==t.to};ks.prototype.eq=function(e){return this==e||e instanceof ks&&xs(this.attrs,e.attrs)&&xs(this.spec,e.spec)};var sr=function(e,t,n){this.from=e,this.to=t,this.type=n},Rd={spec:{configurable:!0},inline:{configurable:!0}};sr.prototype.copy=function(e,t){return new sr(e,t,this.type)};sr.prototype.eq=function(e,t){return t===void 0&&(t=0),this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to};sr.prototype.map=function(e,t,n){return this.type.map(e,this,t,n)};sr.widget=function(e,t,n){return new sr(e,e,new fa(t,n))};sr.inline=function(e,t,n,i){return new sr(e,t,new li(n,i))};sr.node=function(e,t,n,i){return new sr(e,t,new ks(n,i))};Rd.spec.get=function(){return this.type.spec};Rd.inline.get=function(){return this.type instanceof li};Object.defineProperties(sr.prototype,Rd);var zl=[],Po={},Et=function(e,t){this.local=e&&e.length?e:zl,this.children=t&&t.length?t:zl};Et.create=function(e,t){return t.length?Fc(t,e,0,Po):Rr};Et.prototype.find=function(e,t,n){var i=[];return this.findInner(e==null?0:e,t==null?1e9:t,i,0,n),i};Et.prototype.findInner=function(e,t,n,i,o){for(var a=0;a<this.local.length;a++){var s=this.local[a];s.from<=t&&s.to>=e&&(!o||o(s.spec))&&n.push(s.copy(s.from+i,s.to+i))}for(var l=0;l<this.children.length;l+=3)if(this.children[l]<t&&this.children[l+1]>e){var c=this.children[l]+1;this.children[l+2].findInner(e-c,t-c,n,i+c,o)}};Et.prototype.map=function(e,t,n){return this==Rr||e.maps.length==0?this:this.mapInner(e,t,0,0,n||Po)};Et.prototype.mapInner=function(e,t,n,i,o){for(var a,s=0;s<this.local.length;s++){var l=this.local[s].map(e,n,i);l&&l.type.valid(t,l)?(a||(a=[])).push(l):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?yk(this.children,a,e,t,n,i,o):a?new Et(a.sort(Io)):Rr};Et.prototype.add=function(e,t){return t.length?this==Rr?Et.create(e,t):this.addInner(e,t,0):this};Et.prototype.addInner=function(e,t,n){var i=this,o,a=0;e.forEach(function(c,u){var p=u+n,d;if(!!(d=bb(t,c,p))){for(o||(o=i.children.slice());a<o.length&&o[a]<u;)a+=3;o[a]==u?o[a+2]=o[a+2].addInner(c,d,p+1):o.splice(a,0,u,u+c.nodeSize,Fc(d,c,p+1,Po)),a+=3}});for(var s=vb(a?wb(t):t,-n),l=0;l<s.length;l++)s[l].type.valid(e,s[l])||s.splice(l--,1);return new Et(s.length?this.local.concat(s).sort(Io):this.local,o||this.children)};Et.prototype.remove=function(e){return e.length==0||this==Rr?this:this.removeInner(e,0)};Et.prototype.removeInner=function(e,t){for(var n=this.children,i=this.local,o=0;o<n.length;o+=3){for(var a=void 0,s=n[o]+t,l=n[o+1]+t,c=0,u=void 0;c<e.length;c++)(u=e[c])&&u.from>s&&u.to<l&&(e[c]=null,(a||(a=[])).push(u));if(!!a){n==this.children&&(n=this.children.slice());var p=n[o+2].removeInner(a,s+1);p!=Rr?n[o+2]=p:(n.splice(o,3),o-=3)}}if(i.length){for(var d=0,h=void 0;d<e.length;d++)if(h=e[d])for(var f=0;f<i.length;f++)i[f].eq(h,t)&&(i==this.local&&(i=this.local.slice()),i.splice(f--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new Et(i,n):Rr};Et.prototype.forChild=function(e,t){if(this==Rr)return this;if(t.isLeaf)return Et.empty;for(var n,i,o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(n=this.children[o+2]);break}for(var a=e+1,s=a+t.content.size,l=0;l<this.local.length;l++){var c=this.local[l];if(c.from<s&&c.to>a&&c.type instanceof li){var u=Math.max(a,c.from)-a,p=Math.min(s,c.to)-a;u<p&&(i||(i=[])).push(c.copy(u,p))}}if(i){var d=new Et(i.sort(Io));return n?new Kn([d,n]):d}return n||Rr};Et.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof Et)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0};Et.prototype.locals=function(e){return Ld(this.localsInner(e))};Et.prototype.localsInner=function(e){if(this==Rr)return zl;if(e.inlineContent||!this.local.some(li.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof li||t.push(this.local[n]);return t};var Rr=new Et;Et.empty=Rr;Et.removeOverlap=Ld;var Kn=function(e){this.members=e};Kn.prototype.map=function(e,t){var n=this.members.map(function(i){return i.map(e,t,Po)});return Kn.from(n)};Kn.prototype.forChild=function(e,t){if(t.isLeaf)return Et.empty;for(var n=[],i=0;i<this.members.length;i++){var o=this.members[i].forChild(e,t);o!=Rr&&(o instanceof Kn?n=n.concat(o.members):n.push(o))}return Kn.from(n)};Kn.prototype.eq=function(e){if(!(e instanceof Kn)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0};Kn.prototype.locals=function(e){for(var t,n=!0,i=0;i<this.members.length;i++){var o=this.members[i].localsInner(e);if(!!o.length)if(!t)t=o;else{n&&(t=t.slice(),n=!1);for(var a=0;a<o.length;a++)t.push(o[a])}}return t?Ld(n?t:t.sort(Io)):zl};Kn.from=function(e){switch(e.length){case 0:return Rr;case 1:return e[0];default:return new Kn(e)}};function yk(r,e,t,n,i,o,a){for(var s=r.slice(),l=function(z,H,U,ie){for(var ke=0;ke<s.length;ke+=3){var Se=s[ke+1],$=void 0;Se==-1||z>Se+o||(H>=s[ke]+o?s[ke+1]=-1:U>=i&&($=ie-U-(H-z))&&(s[ke]+=$,s[ke+1]+=$))}},c=0;c<t.maps.length;c++)t.maps[c].forEach(l);for(var u=!1,p=0;p<s.length;p+=3)if(s[p+1]==-1){var d=t.map(r[p]+o),h=d-i;if(h<0||h>=n.content.size){u=!0;continue}var f=t.map(r[p+1]+o,-1),g=f-i,m=n.content.findIndex(h),b=m.index,v=m.offset,C=n.maybeChild(b);if(C&&v==h&&v+C.nodeSize==g){var k=s[p+2].mapInner(t,C,d+1,r[p]+o+1,a);k!=Rr?(s[p]=h,s[p+1]=g,s[p+2]=k):(s[p+1]=-2,u=!0)}else u=!0}if(u){var _=xk(s,r,e||[],t,i,o,a),N=Fc(_,n,0,a);e=N.local;for(var I=0;I<s.length;I+=3)s[I+1]<0&&(s.splice(I,3),I-=3);for(var L=0,q=0;L<N.children.length;L+=3){for(var A=N.children[L];q<s.length&&s[q]<A;)q+=3;s.splice(q,0,N.children[L],N.children[L+1],N.children[L+2])}}return new Et(e&&e.sort(Io),s)}function vb(r,e){if(!e||!r.length)return r;for(var t=[],n=0;n<r.length;n++){var i=r[n];t.push(new sr(i.from+e,i.to+e,i.type))}return t}function xk(r,e,t,n,i,o,a){function s(c,u){for(var p=0;p<c.local.length;p++){var d=c.local[p].map(n,i,u);d?t.push(d):a.onRemove&&a.onRemove(c.local[p].spec)}for(var h=0;h<c.children.length;h+=3)s(c.children[h+2],c.children[h]+u+1)}for(var l=0;l<r.length;l+=3)r[l+1]==-1&&s(r[l+2],e[l]+o+1);return t}function bb(r,e,t){if(e.isLeaf)return null;for(var n=t+e.nodeSize,i=null,o=0,a=void 0;o<r.length;o++)(a=r[o])&&a.from>t&&a.to<n&&((i||(i=[])).push(a),r[o]=null);return i}function wb(r){for(var e=[],t=0;t<r.length;t++)r[t]!=null&&e.push(r[t]);return e}function Fc(r,e,t,n){var i=[],o=!1;e.forEach(function(l,c){var u=bb(r,l,c+t);if(u){o=!0;var p=Fc(u,l,t+c+1,n);p!=Rr&&i.push(c,c+l.nodeSize,p)}});for(var a=vb(o?wb(r):r,-t).sort(Io),s=0;s<a.length;s++)a[s].type.valid(e,a[s])||(n.onRemove&&n.onRemove(a[s].spec),a.splice(s--,1));return a.length||i.length?new Et(a,i):Rr}function Io(r,e){return r.from-e.from||r.to-e.to}function Ld(r){for(var e=r,t=0;t<e.length-1;t++){var n=e[t];if(n.from!=n.to)for(var i=t+1;i<e.length;i++){var o=e[i];if(o.from==n.from){o.to!=n.to&&(e==r&&(e=r.slice()),e[i]=o.copy(o.from,n.to),uh(e,i+1,o.copy(n.to,o.to)));continue}else{o.from<n.to&&(e==r&&(e=r.slice()),e[t]=n.copy(n.from,o.from),uh(e,i,n.copy(o.from,n.to)));break}}}return e}function uh(r,e,t){for(;e<r.length&&Io(t,r[e])>0;)e++;r.splice(e,0,t)}function Bd(r){var e=[];return r.someProp("decorations",function(t){var n=t(r.state);n&&n!=Rr&&e.push(n)}),r.cursorWrapper&&e.push(Et.create(r.state.doc,[r.cursorWrapper.deco])),Kn.from(e)}var ur=function(e,t){this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Sb),this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=kb(this),this.markCursor=null,this.cursorWrapper=null,xb(this),this.nodeViews=Cb(this),this.docView=Xv(this.state.doc,yb(this),Bd(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,nk(this),this.prevDirectPlugins=[],this.pluginViews=[],this.updatePluginViews()},Rc={props:{configurable:!0},root:{configurable:!0},isDestroyed:{configurable:!0}};Rc.props.get=function(){if(this._props.state!=this.state){var r=this._props;this._props={};for(var e in r)this._props[e]=r[e];this._props.state=this.state}return this._props};ur.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Pd(this),this._props=e,e.plugins&&(e.plugins.forEach(Sb),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)};ur.prototype.setProps=function(e){var t={};for(var n in this._props)t[n]=this._props[n];t.state=this.state;for(var i in e)t[i]=e[i];this.update(t)};ur.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)};ur.prototype.updateStateInner=function(e,t){var n=this,i=this.state,o=!1,a=!1;if(e.storedMarks&&this.composing&&(gb(this),a=!0),this.state=e,t){var s=Cb(this);Ck(s,this.nodeViews)&&(this.nodeViews=s,o=!0),Pd(this)}this.editable=kb(this),xb(this);var l=Bd(this),c=yb(this),u=t?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",p=o||!this.docView.matchesNode(e.doc,c,l);(p||!e.selection.eq(i.selection))&&(a=!0);var d=u=="preserve"&&a&&this.dom.style.overflowAnchor==null&&gx(this);if(a){this.domObserver.stop();var h=p&&(oe.ie||oe.chrome)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&kk(i.selection,e.selection);if(p){var f=oe.chrome?this.trackWrites=this.root.getSelection().focusNode:null;(o||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Xv(e.doc,c,l,this.dom,this)),f&&!this.trackWrites&&(h=!0)}h||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&$x(this))?no(this,h):(nb(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(i),u=="reset")this.dom.scrollTop=0;else if(u=="to selection"){var g=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",function(m){return m(n)})||(e.selection instanceof Qe?qf(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),g):qf(this,this.coordsAtPos(e.selection.head,1),g))}else d&&mx(d)};ur.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()};ur.prototype.updatePluginViews=function(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var t=0;t<this.directPlugins.length;t++){var n=this.directPlugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(var i=0;i<this.state.plugins.length;i++){var o=this.state.plugins[i];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}else for(var a=0;a<this.pluginViews.length;a++){var s=this.pluginViews[a];s.update&&s.update(this,e)}};ur.prototype.someProp=function(e,t){var n=this._props&&this._props[e],i;if(n!=null&&(i=t?t(n):n))return i;for(var o=0;o<this.directPlugins.length;o++){var a=this.directPlugins[o].props[e];if(a!=null&&(i=t?t(a):a))return i}var s=this.state.plugins;if(s)for(var l=0;l<s.length;l++){var c=s[l].props[e];if(c!=null&&(i=t?t(c):c))return i}};ur.prototype.hasFocus=function(){return this.root.activeElement==this.dom};ur.prototype.focus=function(){this.domObserver.stop(),this.editable&&vx(this.dom),no(this),this.domObserver.start()};Rc.root.get=function(){var r=this._root;if(r==null){for(var e=this.dom.parentNode;e;e=e.parentNode)if(e.nodeType==9||e.nodeType==11&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return document.getSelection()}),this._root=e}return r||document};ur.prototype.posAtCoords=function(e){return kx(this,e)};ur.prototype.coordsAtPos=function(e,t){return t===void 0&&(t=1),Yv(this,e,t)};ur.prototype.domAtPos=function(e,t){return t===void 0&&(t=0),this.docView.domFromPos(e,t)};ur.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null};ur.prototype.posAtDOM=function(e,t,n){n===void 0&&(n=-1);var i=this.docView.posFromDOM(e,t,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i};ur.prototype.endOfTextblock=function(e,t){return Ax(this,t||this.state,e)};ur.prototype.destroy=function(){!this.docView||(ik(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Bd(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)};Rc.isDestroyed.get=function(){return this.docView==null};ur.prototype.dispatchEvent=function(e){return ak(this,e)};ur.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};Object.defineProperties(ur.prototype,Rc);function yb(r){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(r.editable),e.translate="no",r.someProp("attributes",function(t){if(typeof t=="function"&&(t=t(r.state)),t)for(var n in t)n=="class"&&(e.class+=" "+t[n]),n=="style"?e.style=(e.style?e.style+";":"")+t[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(t[n]))}),[sr.node(0,r.state.doc.content.size,e)]}function xb(r){if(r.markCursor){var e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),r.cursorWrapper={dom:e,deco:sr.widget(r.state.selection.head,e,{raw:!0,marks:r.markCursor})}}else r.cursorWrapper=null}function kb(r){return!r.someProp("editable",function(e){return e(r.state)===!1})}function kk(r,e){var t=Math.min(r.$anchor.sharedDepth(r.head),e.$anchor.sharedDepth(e.head));return r.$anchor.start(t)!=e.$anchor.start(t)}function Cb(r){var e={};return r.someProp("nodeViews",function(t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])}),e}function Ck(r,e){var t=0,n=0;for(var i in r){if(r[i]!=e[i])return!0;t++}for(var o in e)n++;return t!=n}function Sb(r){if(r.spec.state||r.spec.filterTransaction||r.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Qi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Fl={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},ph=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),Sk=typeof navigator!="undefined"&&/Apple Computer/.test(navigator.vendor),Ek=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),dh=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),Dk=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Ak=ph&&(dh||+ph[1]<57)||Ek&&dh;for(var Nr=0;Nr<10;Nr++)Qi[48+Nr]=Qi[96+Nr]=String(Nr);for(var Nr=1;Nr<=24;Nr++)Qi[Nr+111]="F"+Nr;for(var Nr=65;Nr<=90;Nr++)Qi[Nr]=String.fromCharCode(Nr+32),Fl[Nr]=String.fromCharCode(Nr);for(var xu in Qi)Fl.hasOwnProperty(xu)||(Fl[xu]=Qi[xu]);function Tk(r){var e=Ak&&(r.ctrlKey||r.altKey||r.metaKey)||(Sk||Dk)&&r.shiftKey&&r.key&&r.key.length==1,t=!e&&r.key||(r.shiftKey?Fl:Qi)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}var Mk=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Ok(r){var e=r.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");for(var n,i,o,a,s=0;s<e.length-1;s++){var l=e[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))Mk?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(t="Alt-"+t),i&&(t="Ctrl-"+t),a&&(t="Meta-"+t),o&&(t="Shift-"+t),t}function _k(r){var e=Object.create(null);for(var t in r)e[Ok(t)]=r[t];return e}function ku(r,e,t){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t!==!1&&e.shiftKey&&(r="Shift-"+r),r}function Nk(r){return new Dr({props:{handleKeyDown:$d(r)}})}function $d(r){var e=_k(r);return function(t,n){var i=Tk(n),o=i.length==1&&i!=" ",a,s=e[ku(i,n,!o)];if(s&&s(t.state,t.dispatch,t))return!0;if(o&&(n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(a=Qi[n.keyCode])&&a!=i){var l=e[ku(a,n,!0)];if(l&&l(t.state,t.dispatch,t))return!0}else if(o&&n.shiftKey){var c=e[ku(i,n,!0)];if(c&&c(t.state,t.dispatch,t))return!0}return!1}}function Pk(r){return Object.prototype.toString.call(r).slice(8,-1)}function Cu(r){return Pk(r)!=="Object"?!1:r.constructor===Object&&Object.getPrototypeOf(r)===Object.prototype}function Lc(r,e){const t={...r};return Cu(r)&&Cu(e)&&Object.keys(e).forEach(n=>{Cu(e[n])?n in r?t[n]=Lc(r[n],e[n]):Object.assign(t,{[n]:e[n]}):Object.assign(t,{[n]:e[n]})}),t}function Eb(r){return typeof r=="function"}function tt(r,e=void 0,...t){return Eb(r)?e?r.bind(e)(...t):r(...t):r}function Te(r,e,t){return r.config[e]===void 0&&r.parent?Te(r.parent,e,t):typeof r.config[e]=="function"?r.config[e].bind({...t,parent:r.parent?Te(r.parent,e,t):null}):r.config[e]}class zn{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=tt(Te(this,"addOptions",{name:this.name}))),this.storage=tt(Te(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new zn(e)}configure(e={}){const t=this.extend();return t.options=Lc(this.options,e),t.storage=tt(Te(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new zn(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=tt(Te(t,"addOptions",{name:t.name})),t.storage=tt(Te(t,"addStorage",{name:t.name,options:t.options})),t}}function Db(r,e,t){const{from:n,to:i}=e,{blockSeparator:o=`

`,textSerializers:a={}}=t||{};let s="",l=!0;return r.nodesBetween(n,i,(c,u,p,d)=>{var h;const f=a==null?void 0:a[c.type.name];f?(c.isBlock&&!l&&(s+=o,l=!0),s+=f({node:c,pos:u,parent:p,index:d})):c.isText?(s+=(h=c==null?void 0:c.text)===null||h===void 0?void 0:h.slice(Math.max(n,u)-u,i-u),l=!1):c.isBlock&&!l&&(s+=o,l=!0)}),s}function Ab(r){return Object.fromEntries(Object.entries(r.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const Ik=zn.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Dr({key:new Xr("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:r}=this,{state:e,schema:t}=r,{doc:n,selection:i}=e,{ranges:o}=i,a=Math.min(...o.map(u=>u.$from.pos)),s=Math.max(...o.map(u=>u.$to.pos)),l=Ab(t);return Db(n,{from:a,to:s},{textSerializers:l})}}})]}}),zk=()=>({editor:r,view:e})=>(requestAnimationFrame(()=>{var t;r.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0);var Fk=Object.freeze({__proto__:null,blur:zk});const Rk=(r=!1)=>({commands:e})=>e.setContent("",r);var Lk=Object.freeze({__proto__:null,clearContent:Rk});const Bk=()=>({state:r,tr:e,dispatch:t})=>{const{selection:n}=e,{ranges:i}=n;return t&&i.forEach(({$from:o,$to:a})=>{r.doc.nodesBetween(o.pos,a.pos,(s,l)=>{if(s.type.isText)return;const{doc:c,mapping:u}=e,p=c.resolve(u.map(l)),d=c.resolve(u.map(l+s.nodeSize)),h=p.blockRange(d);if(!h)return;const f=Ta(h);if(s.type.isTextblock){const{defaultType:g}=p.parent.contentMatchAt(p.index());e.setNodeMarkup(h.start,g)}(f||f===0)&&e.lift(h,f)})}),!0};var $k=Object.freeze({__proto__:null,clearNodes:Bk});const Hk=r=>e=>r(e);var jk=Object.freeze({__proto__:null,command:Hk});const Wk=()=>({state:r,dispatch:e})=>K1(r,e);var Vk=Object.freeze({__proto__:null,createParagraphNear:Wk});function Sr(r,e){if(typeof r=="string"){if(!e.nodes[r])throw Error(`There is no node type named '${r}'. Maybe you forgot to add the extension?`);return e.nodes[r]}return r}const Yk=r=>({tr:e,state:t,dispatch:n})=>{const i=Sr(r,t.schema),o=e.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===i){if(n){const l=o.before(a),c=o.after(a);e.delete(l,c).scrollIntoView()}return!0}return!1};var qk=Object.freeze({__proto__:null,deleteNode:Yk});const Uk=r=>({tr:e,dispatch:t})=>{const{from:n,to:i}=r;return t&&e.delete(n,i),!0};var Jk=Object.freeze({__proto__:null,deleteRange:Uk});const Xk=()=>({state:r,dispatch:e})=>W1(r,e);var Gk=Object.freeze({__proto__:null,deleteSelection:Xk});const Kk=()=>({commands:r})=>r.keyboardShortcut("Enter");var Zk=Object.freeze({__proto__:null,enter:Kk});const Qk=()=>({state:r,dispatch:e})=>G1(r,e);var eC=Object.freeze({__proto__:null,exitCode:Qk});function io(r,e){if(typeof r=="string"){if(!e.marks[r])throw Error(`There is no mark type named '${r}'. Maybe you forgot to add the extension?`);return e.marks[r]}return r}function Hd(r){return Object.prototype.toString.call(r)==="[object RegExp]"}function Rl(r,e,t={strict:!0}){const n=Object.keys(e);return n.length?n.every(i=>t.strict?e[i]===r[i]:Hd(e[i])?e[i].test(r[i]):e[i]===r[i]):!0}function Ap(r,e,t={}){return r.find(n=>n.type===e&&Rl(n.attrs,t))}function tC(r,e,t={}){return!!Ap(r,e,t)}function jd(r,e,t={}){if(!r||!e)return;const n=r.parent.childAfter(r.parentOffset);if(!n.node)return;const i=Ap(n.node.marks,e,t);if(!i)return;let o=r.index(),a=r.start()+n.offset,s=o+1,l=a+n.node.nodeSize;for(Ap(n.node.marks,e,t);o>0&&i.isInSet(r.parent.child(o-1).marks);)o-=1,a-=r.parent.child(o).nodeSize;for(;s<r.parent.childCount&&tC(r.parent.child(s).marks,e,t);)l+=r.parent.child(s).nodeSize,s+=1;return{from:a,to:l}}const rC=(r,e={})=>({tr:t,state:n,dispatch:i})=>{const o=io(r,n.schema),{doc:a,selection:s}=t,{$from:l,from:c,to:u}=s;if(i){const p=jd(l,o,e);if(p&&p.from<=c&&p.to>=u){const d=it.create(a,p.from,p.to);t.setSelection(d)}}return!0};var nC=Object.freeze({__proto__:null,extendMarkRange:rC});const iC=r=>e=>{const t=typeof r=="function"?r(e):r;for(let n=0;n<t.length;n+=1)if(t[n](e))return!0;return!1};var oC=Object.freeze({__proto__:null,first:iC});function aC(r){var e;return((e=r.constructor)===null||e===void 0?void 0:e.toString().substring(0,5))==="class"}function sC(r){return r&&typeof r=="object"&&!Array.isArray(r)&&!aC(r)}function lC(r){return sC(r)&&r instanceof it}function Wd(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function Cs(r=0,e=0,t=0){return Math.min(Math.max(r,e),t)}function Tb(r,e=null){if(!e)return null;if(e==="start"||e===!0)return Ie.atStart(r);if(e==="end")return Ie.atEnd(r);if(e==="all")return it.create(r,0,r.content.size);const t=Ie.atStart(r).from,n=Ie.atEnd(r).to,i=Cs(e,t,n),o=Cs(e,t,n);return it.create(r,i,o)}const cC=(r=null,e)=>({editor:t,view:n,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const a=()=>{Wd()&&n.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(n.hasFocus()&&r===null||r===!1)return!0;if(o&&r===null&&!lC(t.state.selection))return a(),!0;const s=Tb(t.state.doc,r)||t.state.selection,l=t.state.selection.eq(s);return o&&(l||i.setSelection(s),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0};var uC=Object.freeze({__proto__:null,focus:cC});const pC=(r,e)=>t=>r.every((n,i)=>e(n,{...t,index:i}));var dC=Object.freeze({__proto__:null,forEach:pC});const fC=(r,e)=>({tr:t,commands:n})=>n.insertContentAt({from:t.selection.from,to:t.selection.to},r,e);var hC=Object.freeze({__proto__:null,insertContent:fC});function fh(r){const e=`<body>${r}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function Ll(r,e,t){if(t={slice:!0,parseOptions:{},...t},typeof r=="object"&&r!==null)try{return Array.isArray(r)?Q.fromArray(r.map(n=>e.nodeFromJSON(n))):e.nodeFromJSON(r)}catch(n){return console.warn("[tiptap warn]: Invalid content.","Passed value:",r,"Error:",n),Ll("",e,t)}if(typeof r=="string"){const n=oi.fromSchema(e);return t.slice?n.parseSlice(fh(r),t.parseOptions).content:n.parse(fh(r),t.parseOptions)}return Ll("",e,t)}function gC(r,e,t){const n=r.steps.length-1;if(n<e)return;const i=r.steps[n];if(!(i instanceof Ri||i instanceof bn))return;const o=r.mapping.maps[n];let a=0;o.forEach((s,l,c,u)=>{a===0&&(a=u)}),r.setSelection(Ie.near(r.doc.resolve(a),t))}const mC=r=>r.toString().startsWith("<"),vC=(r,e,t)=>({tr:n,dispatch:i,editor:o})=>{if(i){t={parseOptions:{},updateSelection:!0,...t};const a=Ll(e,o.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions}});if(a.toString()==="<>")return!0;let{from:s,to:l}=typeof r=="number"?{from:r,to:r}:r,c=!0,u=!0;if((mC(a)?a:[a]).forEach(d=>{d.check(),c=c?d.isText&&d.marks.length===0:!1,u=u?d.isBlock:!1}),s===l&&u){const{parent:d}=n.doc.resolve(s);d.isTextblock&&!d.type.spec.code&&!d.childCount&&(s-=1,l+=1)}c?n.insertText(e,s,l):n.replaceWith(s,l,a),t.updateSelection&&gC(n,n.steps.length-1,-1)}return!0};var bC=Object.freeze({__proto__:null,insertContentAt:vC});const wC=()=>({state:r,dispatch:e})=>V1(r,e);var yC=Object.freeze({__proto__:null,joinBackward:wC});const xC=()=>({state:r,dispatch:e})=>q1(r,e);var kC=Object.freeze({__proto__:null,joinForward:xC});function Mb(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function CC(r){const e=r.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let n,i,o,a;for(let s=0;s<e.length-1;s+=1){const l=e[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))Wd()||Mb()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return n&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),a&&(t=`Meta-${t}`),o&&(t=`Shift-${t}`),t}const SC=r=>({editor:e,view:t,tr:n,dispatch:i})=>{const o=CC(r).split(/-(?!$)/),a=o.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),s=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{t.someProp("handleKeyDown",c=>c(t,s))});return l==null||l.steps.forEach(c=>{const u=c.map(n.mapping);u&&i&&n.maybeStep(u)}),!0};var EC=Object.freeze({__proto__:null,keyboardShortcut:SC});function Ss(r,e,t={}){const{from:n,to:i,empty:o}=r.selection,a=e?Sr(e,r.schema):null,s=[];r.doc.nodesBetween(n,i,(p,d)=>{if(p.isText)return;const h=Math.max(n,d),f=Math.min(i,d+p.nodeSize);s.push({node:p,from:h,to:f})});const l=i-n,c=s.filter(p=>a?a.name===p.node.type.name:!0).filter(p=>Rl(p.node.attrs,t,{strict:!1}));return o?!!c.length:c.reduce((p,d)=>p+d.to-d.from,0)>=l}const DC=(r,e={})=>({state:t,dispatch:n})=>{const i=Sr(r,t.schema);return Ss(t,i,e)?J1(t,n):!1};var AC=Object.freeze({__proto__:null,lift:DC});const TC=()=>({state:r,dispatch:e})=>Z1(r,e);var MC=Object.freeze({__proto__:null,liftEmptyBlock:TC});const OC=r=>({state:e,dispatch:t})=>{const n=Sr(r,e.schema);return ax(n)(e,t)};var _C=Object.freeze({__proto__:null,liftListItem:OC});const NC=()=>({state:r,dispatch:e})=>X1(r,e);var PC=Object.freeze({__proto__:null,newlineInCode:NC});function Bc(r,e){return e.nodes[r]?"node":e.marks[r]?"mark":null}function hh(r,e){const t=typeof e=="string"?[e]:e;return Object.keys(r).reduce((n,i)=>(t.includes(i)||(n[i]=r[i]),n),{})}const IC=(r,e)=>({tr:t,state:n,dispatch:i})=>{let o=null,a=null;const s=Bc(typeof r=="string"?r:r.name,n.schema);return s?(s==="node"&&(o=Sr(r,n.schema)),s==="mark"&&(a=io(r,n.schema)),i&&t.selection.ranges.forEach(l=>{n.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{o&&o===c.type&&t.setNodeMarkup(u,void 0,hh(c.attrs,e)),a&&c.marks.length&&c.marks.forEach(p=>{a===p.type&&t.addMark(u,u+c.nodeSize,a.create(hh(p.attrs,e)))})})}),!0):!1};var zC=Object.freeze({__proto__:null,resetAttributes:IC});const FC=()=>({tr:r,dispatch:e})=>(e&&r.scrollIntoView(),!0);var RC=Object.freeze({__proto__:null,scrollIntoView:FC});const LC=()=>({tr:r,commands:e})=>e.setTextSelection({from:0,to:r.doc.content.size});var BC=Object.freeze({__proto__:null,selectAll:LC});const $C=()=>({state:r,dispatch:e})=>Y1(r,e);var HC=Object.freeze({__proto__:null,selectNodeBackward:$C});const jC=()=>({state:r,dispatch:e})=>U1(r,e);var WC=Object.freeze({__proto__:null,selectNodeForward:jC});const VC=()=>({state:r,dispatch:e})=>Q1(r,e);var YC=Object.freeze({__proto__:null,selectParentNode:VC});const qC=()=>({state:r,dispatch:e})=>rx(r,e);var UC=Object.freeze({__proto__:null,selectTextblockEnd:qC});const JC=()=>({state:r,dispatch:e})=>tx(r,e);var XC=Object.freeze({__proto__:null,selectTextblockStart:JC});function Ob(r,e,t={}){return Ll(r,e,{slice:!1,parseOptions:t})}const GC=(r,e=!1,t={})=>({tr:n,editor:i,dispatch:o})=>{const{doc:a}=n,s=Ob(r,i.schema,t),l=it.create(a,0,a.content.size);return o&&n.setSelection(l).replaceSelectionWith(s,!1).setMeta("preventUpdate",!e),!0};var KC=Object.freeze({__proto__:null,setContent:GC});function _b(r,e){const t=io(e,r.schema),{from:n,to:i,empty:o}=r.selection,a=[];o?(r.storedMarks&&a.push(...r.storedMarks),a.push(...r.selection.$head.marks())):r.doc.nodesBetween(n,i,l=>{a.push(...l.marks)});const s=a.find(l=>l.type.name===t.name);return s?{...s.attrs}:{}}const ZC=(r,e={})=>({tr:t,state:n,dispatch:i})=>{const{selection:o}=t,{empty:a,ranges:s}=o,l=io(r,n.schema);if(i)if(a){const c=_b(n,l);t.addStoredMark(l.create({...c,...e}))}else s.forEach(c=>{const u=c.$from.pos,p=c.$to.pos;n.doc.nodesBetween(u,p,(d,h)=>{const f=Math.max(h,u),g=Math.min(h+d.nodeSize,p);d.marks.find(b=>b.type===l)?d.marks.forEach(b=>{l===b.type&&t.addMark(f,g,l.create({...b.attrs,...e}))}):t.addMark(f,g,l.create(e))})});return!0};var QC=Object.freeze({__proto__:null,setMark:ZC});const eS=(r,e)=>({tr:t})=>(t.setMeta(r,e),!0);var tS=Object.freeze({__proto__:null,setMeta:eS});const rS=(r,e={})=>({state:t,dispatch:n,chain:i})=>{const o=Sr(r,t.schema);return o.isTextblock?i().command(({commands:a})=>jf(o,e)(t)?!0:a.clearNodes()).command(({state:a})=>jf(o,e)(a,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)};var nS=Object.freeze({__proto__:null,setNode:rS});const iS=r=>({tr:e,dispatch:t})=>{if(t){const{doc:n}=e,i=Ie.atStart(n).from,o=Ie.atEnd(n).to,a=Cs(r,i,o),s=Qe.create(n,a);e.setSelection(s)}return!0};var oS=Object.freeze({__proto__:null,setNodeSelection:iS});const aS=r=>({tr:e,dispatch:t})=>{if(t){const{doc:n}=e,{from:i,to:o}=typeof r=="number"?{from:r,to:r}:r,a=0,s=e.doc.content.size,l=Cs(i,a,s),c=Cs(o,a,s),u=it.create(n,l,c);e.setSelection(u)}return!0};var sS=Object.freeze({__proto__:null,setTextSelection:aS});const lS=r=>({state:e,dispatch:t})=>{const n=Sr(r,e.schema);return cx(n)(e,t)};var cS=Object.freeze({__proto__:null,sinkListItem:lS});function ml(r,e,t){return Object.fromEntries(Object.entries(t).filter(([n])=>{const i=r.find(o=>o.type===e&&o.name===n);return i?i.attribute.keepOnSplit:!1}))}function uS(r){for(let e=0;e<r.edgeCount;e+=1){const{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function gh(r,e){const t=r.storedMarks||r.selection.$to.parentOffset&&r.selection.$from.marks();if(t){const n=t.filter(i=>e==null?void 0:e.includes(i.type.name));r.tr.ensureMarks(n)}}const pS=({keepMarks:r=!0}={})=>({tr:e,state:t,dispatch:n,editor:i})=>{const{selection:o,doc:a}=e,{$from:s,$to:l}=o,c=i.extensionManager.attributes,u=ml(c,s.node().type.name,s.node().attrs);if(o instanceof Qe&&o.node.isBlock)return!s.parentOffset||!Qo(a,s.pos)?!1:(n&&(r&&gh(t,i.extensionManager.splittableMarks),e.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;if(n){const p=l.parentOffset===l.parent.content.size;o instanceof it&&e.deleteSelection();const d=s.depth===0?void 0:uS(s.node(-1).contentMatchAt(s.indexAfter(-1)));let h=p&&d?[{type:d,attrs:u}]:void 0,f=Qo(e.doc,e.mapping.map(s.pos),1,h);if(!h&&!f&&Qo(e.doc,e.mapping.map(s.pos),1,d?[{type:d}]:void 0)&&(f=!0,h=d?[{type:d,attrs:u}]:void 0),f&&(e.split(e.mapping.map(s.pos),1,h),d&&!p&&!s.parentOffset&&s.parent.type!==d)){const g=e.mapping.map(s.before()),m=e.doc.resolve(g);s.node(-1).canReplaceWith(m.index(),m.index()+1,d)&&e.setNodeMarkup(e.mapping.map(s.before()),d)}r&&gh(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return!0};var dS=Object.freeze({__proto__:null,splitBlock:pS});const fS=r=>({tr:e,state:t,dispatch:n,editor:i})=>{var o;const a=Sr(r,t.schema),{$from:s,$to:l}=t.selection,c=t.selection.node;if(c&&c.isBlock||s.depth<2||!s.sameParent(l))return!1;const u=s.node(-1);if(u.type!==a)return!1;const p=i.extensionManager.attributes;if(s.parent.content.size===0&&s.node(-1).childCount===s.indexAfter(-1)){if(s.depth===2||s.node(-3).type!==a||s.index(-2)!==s.node(-2).childCount-1)return!1;if(n){let m=Q.empty;const b=s.index(-1)?1:s.index(-2)?2:3;for(let I=s.depth-b;I>=s.depth-3;I-=1)m=Q.from(s.node(I).copy(m));const v=s.indexAfter(-1)<s.node(-2).childCount?1:s.indexAfter(-2)<s.node(-3).childCount?2:3,C=ml(p,s.node().type.name,s.node().attrs),k=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(C))||void 0;m=m.append(Q.from(a.createAndFill(null,k)||void 0));const _=s.before(s.depth-(b-1));e.replace(_,s.after(-v),new ve(m,4-b,0));let N=-1;e.doc.nodesBetween(_,e.doc.content.size,(I,L)=>{if(N>-1)return!1;I.isTextblock&&I.content.size===0&&(N=L+1)}),N>-1&&e.setSelection(it.near(e.doc.resolve(N))),e.scrollIntoView()}return!0}const d=l.pos===s.end()?u.contentMatchAt(0).defaultType:null,h=ml(p,u.type.name,u.attrs),f=ml(p,s.node().type.name,s.node().attrs);e.delete(s.pos,l.pos);const g=d?[{type:a,attrs:h},{type:d,attrs:f}]:[{type:a,attrs:h}];return Qo(e.doc,s.pos,2)?(n&&e.split(s.pos,2,g).scrollIntoView(),!0):!1};var hS=Object.freeze({__proto__:null,splitListItem:fS});function Nb(r,e){for(let t=r.depth;t>0;t-=1){const n=r.node(t);if(e(n))return{pos:t>0?r.before(t):0,start:r.start(t),depth:t,node:n}}}function Vd(r){return e=>Nb(e.$from,r)}function $c(r){const e=r.filter(i=>i.type==="extension"),t=r.filter(i=>i.type==="node"),n=r.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:n}}function mh(r,e){const{nodeExtensions:t}=$c(e),n=t.find(a=>a.name===r);if(!n)return!1;const i={name:n.name,options:n.options,storage:n.storage},o=tt(Te(n,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}const vh=(r,e)=>{const t=Vd(a=>a.type===e)(r.selection);if(!t)return!0;const n=r.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(n===void 0)return!0;const i=r.doc.nodeAt(n);return t.node.type===(i==null?void 0:i.type)&&Ls(r.doc,t.pos)&&r.join(t.pos),!0},bh=(r,e)=>{const t=Vd(a=>a.type===e)(r.selection);if(!t)return!0;const n=r.doc.resolve(t.start).after(t.depth);if(n===void 0)return!0;const i=r.doc.nodeAt(n);return t.node.type===(i==null?void 0:i.type)&&Ls(r.doc,n)&&r.join(n),!0},gS=(r,e)=>({editor:t,tr:n,state:i,dispatch:o,chain:a,commands:s,can:l})=>{const{extensions:c}=t.extensionManager,u=Sr(r,i.schema),p=Sr(e,i.schema),{selection:d}=i,{$from:h,$to:f}=d,g=h.blockRange(f);if(!g)return!1;const m=Vd(b=>mh(b.type.name,c))(d);if(g.depth>=1&&m&&g.depth-m.depth<=1){if(m.node.type===u)return s.liftListItem(p);if(mh(m.node.type.name,c)&&u.validContent(m.node.content)&&o)return a().command(()=>(n.setNodeMarkup(m.pos,u),!0)).command(()=>vh(n,u)).command(()=>bh(n,u)).run()}return a().command(()=>l().wrapInList(u)?!0:s.clearNodes()).wrapInList(u).command(()=>vh(n,u)).command(()=>bh(n,u)).run()};var mS=Object.freeze({__proto__:null,toggleList:gS});function Tp(r,e,t={}){const{empty:n,ranges:i}=r.selection,o=e?io(e,r.schema):null;if(n)return!!(r.storedMarks||r.selection.$from.marks()).filter(p=>o?o.name===p.type.name:!0).find(p=>Rl(p.attrs,t,{strict:!1}));let a=0;const s=[];if(i.forEach(({$from:p,$to:d})=>{const h=p.pos,f=d.pos;r.doc.nodesBetween(h,f,(g,m)=>{if(!g.isText&&!g.marks.length)return;const b=Math.max(h,m),v=Math.min(f,m+g.nodeSize);a+=v-b,s.push(...g.marks.map(k=>({mark:k,from:b,to:v})))})}),a===0)return!1;const l=s.filter(p=>o?o.name===p.mark.type.name:!0).filter(p=>Rl(p.mark.attrs,t,{strict:!1})).reduce((p,d)=>p+d.to-d.from,0),c=s.filter(p=>o?p.mark.type!==o&&p.mark.type.excludes(o):!0).reduce((p,d)=>p+d.to-d.from,0);return(l>0?l+c:l)>=a}const vS=(r,e={},t={})=>({state:n,commands:i})=>{const{extendEmptyMarkRange:o=!1}=t,a=io(r,n.schema);return Tp(n,a,e)?i.unsetMark(a,{extendEmptyMarkRange:o}):i.setMark(a,e)};var bS=Object.freeze({__proto__:null,toggleMark:vS});const wS=(r,e,t={})=>({state:n,commands:i})=>{const o=Sr(r,n.schema),a=Sr(e,n.schema);return Ss(n,o,t)?i.setNode(a):i.setNode(o,t)};var yS=Object.freeze({__proto__:null,toggleNode:wS});const xS=(r,e={})=>({state:t,commands:n})=>{const i=Sr(r,t.schema);return Ss(t,i,e)?n.lift(i):n.wrapIn(i,e)};var kS=Object.freeze({__proto__:null,toggleWrap:xS});const CS=()=>({state:r,dispatch:e})=>{const t=r.plugins;for(let n=0;n<t.length;n+=1){const i=t[n];let o;if(i.spec.isInputRules&&(o=i.getState(r))){if(e){const a=r.tr,s=o.transform;for(let l=s.steps.length-1;l>=0;l-=1)a.step(s.steps[l].invert(s.docs[l]));if(o.text){const l=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,r.schema.text(o.text,l))}else a.delete(o.from,o.to)}return!0}}return!1};var SS=Object.freeze({__proto__:null,undoInputRule:CS});const ES=()=>({tr:r,dispatch:e})=>{const{selection:t}=r,{empty:n,ranges:i}=t;return n||e&&i.forEach(o=>{r.removeMark(o.$from.pos,o.$to.pos)}),!0};var DS=Object.freeze({__proto__:null,unsetAllMarks:ES});const AS=(r,e={})=>({tr:t,state:n,dispatch:i})=>{var o;const{extendEmptyMarkRange:a=!1}=e,{selection:s}=t,l=io(r,n.schema),{$from:c,empty:u,ranges:p}=s;if(!i)return!0;if(u&&a){let{from:d,to:h}=s;const f=(o=c.marks().find(m=>m.type===l))===null||o===void 0?void 0:o.attrs,g=jd(c,l,f);g&&(d=g.from,h=g.to),t.removeMark(d,h,l)}else p.forEach(d=>{t.removeMark(d.$from.pos,d.$to.pos,l)});return t.removeStoredMark(l),!0};var TS=Object.freeze({__proto__:null,unsetMark:AS});const MS=(r,e={})=>({tr:t,state:n,dispatch:i})=>{let o=null,a=null;const s=Bc(typeof r=="string"?r:r.name,n.schema);return s?(s==="node"&&(o=Sr(r,n.schema)),s==="mark"&&(a=io(r,n.schema)),i&&t.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;n.doc.nodesBetween(c,u,(p,d)=>{o&&o===p.type&&t.setNodeMarkup(d,void 0,{...p.attrs,...e}),a&&p.marks.length&&p.marks.forEach(h=>{if(a===h.type){const f=Math.max(d,c),g=Math.min(d+p.nodeSize,u);t.addMark(f,g,a.create({...h.attrs,...e}))}})})}),!0):!1};var OS=Object.freeze({__proto__:null,updateAttributes:MS});const _S=(r,e={})=>({state:t,dispatch:n})=>{const i=Sr(r,t.schema);return nx(i,e)(t,n)};var NS=Object.freeze({__proto__:null,wrapIn:_S});const PS=(r,e={})=>({state:t,dispatch:n})=>{const i=Sr(r,t.schema);return ix(i,e)(t,n)};var IS=Object.freeze({__proto__:null,wrapInList:PS});const zS=zn.create({name:"commands",addCommands(){return{...Fk,...Lk,...$k,...jk,...Vk,...qk,...Jk,...Gk,...Zk,...eC,...nC,...oC,...uC,...dC,...hC,...bC,...yC,...kC,...EC,...AC,...MC,..._C,...PC,...zC,...RC,...BC,...HC,...WC,...YC,...UC,...XC,...KC,...QC,...tS,...nS,...oS,...sS,...cS,...dS,...hS,...mS,...bS,...yS,...kS,...SS,...DS,...TS,...OS,...NS,...IS}}}),FS=zn.create({name:"editable",addProseMirrorPlugins(){return[new Dr({key:new Xr("editable"),props:{editable:()=>this.editor.options.editable}})]}}),RS=zn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:r}=this;return[new Dr({key:new Xr("focusEvents"),props:{handleDOMEvents:{focus:(e,t)=>{r.isFocused=!0;const n=r.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,t)=>{r.isFocused=!1;const n=r.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}});function Hc(r){const{state:e,transaction:t}=r;let{selection:n}=t,{doc:i}=t,{storedMarks:o}=t;return{...e,schema:e.schema,plugins:e.plugins,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return n},get doc(){return i},get tr(){return n=t.selection,i=t.doc,o=t.storedMarks,t}}}class jc{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:i}=t,{tr:o}=n,a=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([s,l])=>[s,(...u)=>{const p=l(...u)(a);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:i,state:o}=this,{view:a}=i,s=[],l=!!e,c=e||o.tr,u=()=>(!l&&t&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(c),s.every(d=>d===!0)),p={...Object.fromEntries(Object.entries(n).map(([d,h])=>[d,(...g)=>{const m=this.buildProps(c,t),b=h(...g)(m);return s.push(b),p}])),run:u};return p}createCan(e){const{rawCommands:t,state:n}=this,i=void 0,o=e||n.tr,a=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...u)=>c(...u)({...a,dispatch:i})])),chain:()=>this.createChain(o,i)}}buildProps(e,t=!0){const{rawCommands:n,editor:i,state:o}=this,{view:a}=i;o.storedMarks&&e.setStoredMarks(o.storedMarks);const s={tr:e,editor:i,view:a,state:Hc({state:o,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)(s)]))}};return s}}const LS=zn.create({name:"keymap",addKeyboardShortcuts(){const r=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:s})=>{const{selection:l,doc:c}=s,{empty:u,$anchor:p}=l,{pos:d,parent:h}=p,f=Ie.atStart(c).from===d;return!u||!f||!h.type.isTextblock||h.textContent.length?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.joinForward(),()=>a.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:r,"Mod-Backspace":r,"Shift-Backspace":r,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...n,Home:()=>this.editor.commands.selectTextblockStart(),End:()=>this.editor.commands.selectTextblockEnd()},o={...n,"Ctrl-h":r,"Alt-Backspace":r,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Wd()||Mb()?o:i},addProseMirrorPlugins(){return[new Dr({key:new Xr("clearDocument"),appendTransaction:(r,e,t)=>{if(!(r.some(f=>f.docChanged)&&!e.doc.eq(t.doc)))return;const{empty:i,from:o,to:a}=e.selection,s=Ie.atStart(e.doc).from,l=Ie.atEnd(e.doc).to,c=o===s&&a===l,u=t.doc.textBetween(0,t.doc.content.size," "," ").length===0;if(i||!c||!u)return;const p=t.tr,d=Hc({state:t,transaction:p}),{commands:h}=new jc({editor:this.editor,state:d});if(h.clearNodes(),!!p.steps.length)return p}})]}}),BS=zn.create({name:"tabindex",addProseMirrorPlugins(){return[new Dr({key:new Xr("tabindex"),props:{attributes:{tabindex:"0"}}})]}});var $S=Object.freeze({__proto__:null,ClipboardTextSerializer:Ik,Commands:zS,Editable:FS,FocusEvents:RS,Keymap:LS,Tabindex:BS});function HS(r,e){const t=Sr(e,r.schema),{from:n,to:i}=r.selection,o=[];r.doc.nodesBetween(n,i,s=>{o.push(s)});const a=o.reverse().find(s=>s.type.name===t.name);return a?{...a.attrs}:{}}function Pb(r,e){const t=Bc(typeof e=="string"?e:e.name,r.schema);return t==="node"?HS(r,e):t==="mark"?_b(r,e):{}}function jS(r,e,t={}){if(!e)return Ss(r,null,t)||Tp(r,null,t);const n=Bc(e,r.schema);return n==="node"?Ss(r,e,t):n==="mark"?Tp(r,e,t):!1}function WS(r,e){const t=Fr.fromSchema(e).serializeFragment(r),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}function VS(r,e){const t={from:0,to:r.content.size};return Db(r,t,e)}function YS(r){var e;const t=(e=r.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),n=r.toJSON();return JSON.stringify(t)===JSON.stringify(n)}function qS(r){const e=document.querySelector("style[data-tiptap-style]");if(e!==null)return e;const t=document.createElement("style");return t.setAttribute("data-tiptap-style",""),t.innerHTML=r,document.getElementsByTagName("head")[0].appendChild(t),t}class Wc{constructor(e){this.find=e.find,this.handler=e.handler}}const US=(r,e)=>{if(Hd(e))return e.exec(r);const t=e(r);if(!t)return null;const n=[];return n.push(t.text),n.index=t.index,n.input=r,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(t.replaceWith)),n};function Su(r){var e;const{editor:t,from:n,to:i,text:o,rules:a,plugin:s}=r,{view:l}=t;if(l.composing)return!1;const c=l.state.doc.resolve(n);if(c.parent.type.spec.code||!!(!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(h=>h.type.spec.code)))return!1;let u=!1;const p=500,d=c.parent.textBetween(Math.max(0,c.parentOffset-p),c.parentOffset,void 0," ")+o;return a.forEach(h=>{if(u)return;const f=US(d,h.find);if(!f)return;const g=l.state.tr,m=Hc({state:l.state,transaction:g}),b={from:n-(f[0].length-o.length),to:i},{commands:v,chain:C,can:k}=new jc({editor:t,state:m});h.handler({state:m,range:b,match:f,commands:v,chain:C,can:k})===null||!g.steps.length||(g.setMeta(s,{transform:g,from:n,to:i,text:o}),l.dispatch(g),u=!0)}),u}function JS(r){const{editor:e,rules:t}=r,n=new Dr({state:{init(){return null},apply(i,o){const a=i.getMeta(this);return a||(i.selectionSet||i.docChanged?null:o)}},props:{handleTextInput(i,o,a,s){return Su({editor:e,from:o,to:a,text:s,rules:t,plugin:n})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Su({editor:e,from:o.pos,to:o.pos,text:"",rules:t,plugin:n})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?Su({editor:e,from:a.pos,to:a.pos,text:`
`,rules:t,plugin:n}):!1}},isInputRules:!0});return n}function XS(r){return typeof r=="number"}class GS{constructor(e){this.find=e.find,this.handler=e.handler}}const KS=(r,e)=>{if(Hd(e))return[...r.matchAll(e)];const t=e(r);return t?t.map(n=>{const i=[];return i.push(n.text),i.index=n.index,i.input=r,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(n.replaceWith)),i}):[]};function ZS(r){const{editor:e,state:t,from:n,to:i,rule:o}=r,{commands:a,chain:s,can:l}=new jc({editor:e,state:t}),c=[];return t.doc.nodesBetween(n,i,(p,d)=>{if(!p.isTextblock||p.type.spec.code)return;const h=Math.max(n,d),f=Math.min(i,d+p.content.size),g=p.textBetween(h-d,f-d,void 0,"\uFFFC");KS(g,o.find).forEach(b=>{if(b.index===void 0)return;const v=h+b.index+1,C=v+b[0].length,k={from:t.tr.mapping.map(v),to:t.tr.mapping.map(C)},_=o.handler({state:t,range:k,match:b,commands:a,chain:s,can:l});c.push(_)})}),c.every(p=>p!==null)}function QS(r){const{editor:e,rules:t}=r;let n=null,i=!1,o=!1;return t.map(s=>new Dr({view(l){const c=u=>{var p;n=!((p=l.dom.parentElement)===null||p===void 0)&&p.contains(u.target)?l.dom.parentElement:null};return window.addEventListener("dragstart",c),{destroy(){window.removeEventListener("dragstart",c)}}},props:{handleDOMEvents:{drop:l=>(o=n===l.dom.parentElement,!1),paste:(l,c)=>{var u;const p=(u=c.clipboardData)===null||u===void 0?void 0:u.getData("text/html");return i=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(l,c,u)=>{const p=l[0],d=p.getMeta("uiEvent")==="paste"&&!i,h=p.getMeta("uiEvent")==="drop"&&!o;if(!d&&!h)return;const f=c.doc.content.findDiffStart(u.doc.content),g=c.doc.content.findDiffEnd(u.doc.content);if(!XS(f)||!g||f===g.b)return;const m=u.tr,b=Hc({state:u,transaction:m});if(!(!ZS({editor:e,state:b,from:Math.max(f-1,0),to:g.b,rule:s})||!m.steps.length))return m}}))}function Ib(r){const e=[],{nodeExtensions:t,markExtensions:n}=$c(r),i=[...t,...n],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0};return r.forEach(a=>{const s={name:a.name,options:a.options,storage:a.storage},l=Te(a,"addGlobalAttributes",s);if(!l)return;l().forEach(u=>{u.types.forEach(p=>{Object.entries(u.attributes).forEach(([d,h])=>{e.push({type:p,name:d,attribute:{...o,...h}})})})})}),i.forEach(a=>{const s={name:a.name,options:a.options,storage:a.storage},l=Te(a,"addAttributes",s);if(!l)return;const c=l();Object.entries(c).forEach(([u,p])=>{e.push({type:a.name,name:u,attribute:{...o,...p}})})}),e}function lr(...r){return r.filter(e=>!!e).reduce((e,t)=>{const n={...e};return Object.entries(t).forEach(([i,o])=>{if(!n[i]){n[i]=o;return}i==="class"?n[i]=[n[i],o].join(" "):i==="style"?n[i]=[n[i],o].join("; "):n[i]=o}),n},{})}function Mp(r,e){return e.filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(r.attrs)||{}:{[t.name]:r.attrs[t.name]}).reduce((t,n)=>lr(t,n),{})}function eE(r={}){return Object.keys(r).length===0&&r.constructor===Object}function tE(r){return typeof r!="string"?r:r.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(r):r==="true"?!0:r==="false"?!1:r}function wh(r,e){return r.style?r:{...r,getAttrs:t=>{const n=r.getAttrs?r.getAttrs(t):r.attrs;if(n===!1)return!1;const i=e.reduce((o,a)=>{const s=a.attribute.parseHTML?a.attribute.parseHTML(t):tE(t.getAttribute(a.name));return s==null?o:{...o,[a.name]:s}},{});return{...n,...i}}}}function yh(r){return Object.fromEntries(Object.entries(r).filter(([e,t])=>e==="attrs"&&eE(t)?!1:t!=null))}function rE(r){var e;const t=Ib(r),{nodeExtensions:n,markExtensions:i}=$c(r),o=(e=n.find(l=>Te(l,"topNode")))===null||e===void 0?void 0:e.name,a=Object.fromEntries(n.map(l=>{const c=t.filter(m=>m.type===l.name),u={name:l.name,options:l.options,storage:l.storage},p=r.reduce((m,b)=>{const v=Te(b,"extendNodeSchema",u);return{...m,...v?v(l):{}}},{}),d=yh({...p,content:tt(Te(l,"content",u)),marks:tt(Te(l,"marks",u)),group:tt(Te(l,"group",u)),inline:tt(Te(l,"inline",u)),atom:tt(Te(l,"atom",u)),selectable:tt(Te(l,"selectable",u)),draggable:tt(Te(l,"draggable",u)),code:tt(Te(l,"code",u)),defining:tt(Te(l,"defining",u)),isolating:tt(Te(l,"isolating",u)),attrs:Object.fromEntries(c.map(m=>{var b;return[m.name,{default:(b=m==null?void 0:m.attribute)===null||b===void 0?void 0:b.default}]}))}),h=tt(Te(l,"parseHTML",u));h&&(d.parseDOM=h.map(m=>wh(m,c)));const f=Te(l,"renderHTML",u);f&&(d.toDOM=m=>f({node:m,HTMLAttributes:Mp(m,c)}));const g=Te(l,"renderText",u);return g&&(d.toText=g),[l.name,d]})),s=Object.fromEntries(i.map(l=>{const c=t.filter(g=>g.type===l.name),u={name:l.name,options:l.options,storage:l.storage},p=r.reduce((g,m)=>{const b=Te(m,"extendMarkSchema",u);return{...g,...b?b(l):{}}},{}),d=yh({...p,inclusive:tt(Te(l,"inclusive",u)),excludes:tt(Te(l,"excludes",u)),group:tt(Te(l,"group",u)),spanning:tt(Te(l,"spanning",u)),code:tt(Te(l,"code",u)),attrs:Object.fromEntries(c.map(g=>{var m;return[g.name,{default:(m=g==null?void 0:g.attribute)===null||m===void 0?void 0:m.default}]}))}),h=tt(Te(l,"parseHTML",u));h&&(d.parseDOM=h.map(g=>wh(g,c)));const f=Te(l,"renderHTML",u);return f&&(d.toDOM=g=>f({mark:g,HTMLAttributes:Mp(g,c)})),[l.name,d]}));return new _o({topNode:o,nodes:a,marks:s})}function Eu(r,e){return e.nodes[r]||e.marks[r]||null}function xh(r,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===r.name):e}function nE(r){const e=r.filter((t,n)=>r.indexOf(t)!==n);return[...new Set(e)]}class Vo{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Vo.resolve(e),this.schema=rE(this.extensions),this.extensions.forEach(n=>{var i;this.editor.extensionStorage[n.name]=n.storage;const o={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Eu(n.name,this.schema)};n.type==="mark"&&((i=tt(Te(n,"keepOnSplit",o)))!==null&&i!==void 0?i:!0)&&this.splittableMarks.push(n.name);const a=Te(n,"onBeforeCreate",o);a&&this.editor.on("beforeCreate",a);const s=Te(n,"onCreate",o);s&&this.editor.on("create",s);const l=Te(n,"onUpdate",o);l&&this.editor.on("update",l);const c=Te(n,"onSelectionUpdate",o);c&&this.editor.on("selectionUpdate",c);const u=Te(n,"onTransaction",o);u&&this.editor.on("transaction",u);const p=Te(n,"onFocus",o);p&&this.editor.on("focus",p);const d=Te(n,"onBlur",o);d&&this.editor.on("blur",d);const h=Te(n,"onDestroy",o);h&&this.editor.on("destroy",h)})}static resolve(e){const t=Vo.sort(Vo.flatten(e)),n=nE(t.map(i=>i.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},i=Te(t,"addExtensions",n);return i?[t,...this.flatten(i())]:t}).flat(10)}static sort(e){return e.sort((n,i)=>{const o=Te(n,"priority")||100,a=Te(i,"priority")||100;return o>a?-1:o<a?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Eu(t.name,this.schema)},i=Te(t,"addCommands",n);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,t=Vo.sort([...this.extensions].reverse()),n=[],i=[],o=t.map(a=>{const s={name:a.name,options:a.options,storage:a.storage,editor:e,type:Eu(a.name,this.schema)},l=[],c=Te(a,"addKeyboardShortcuts",s);if(c){const h=Object.fromEntries(Object.entries(c()).map(([g,m])=>[g,()=>m({editor:e})])),f=Nk(h);l.push(f)}const u=Te(a,"addInputRules",s);xh(a,e.options.enableInputRules)&&u&&n.push(...u());const p=Te(a,"addPasteRules",s);xh(a,e.options.enablePasteRules)&&p&&i.push(...p());const d=Te(a,"addProseMirrorPlugins",s);if(d){const h=d();l.push(...h)}return l}).flat();return[JS({editor:e,rules:n}),...QS({editor:e,rules:i}),...o]}get attributes(){return Ib(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=$c(this.extensions);return Object.fromEntries(t.filter(n=>!!Te(n,"addNodeView")).map(n=>{const i=this.attributes.filter(l=>l.type===n.name),o={name:n.name,options:n.options,storage:n.storage,editor:e,type:Sr(n.name,this.schema)},a=Te(n,"addNodeView",o);if(!a)return[];const s=(l,c,u,p)=>{const d=Mp(l,i);return a()({editor:e,node:l,getPos:u,decorations:p,HTMLAttributes:d,extension:n})};return[n.name,s]}))}}class iE{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(i=>i.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(i=>i!==t):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}const oE=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;class aE extends iE{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=qS(oE))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e){this.setOptions({editable:e})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const n=Eb(t)?t(e,this.state.plugins):[...this.state.plugins,e],i=this.state.reconfigure({plugins:n});this.view.updateState(i)}unregisterPlugin(e){if(this.isDestroyed)return;const t=typeof e=="string"?`${e}$`:e.key,n=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(t))});this.view.updateState(n)}createExtensionManager(){const t=[...this.options.enableCoreExtensions?Object.values($S):[],...this.options.extensions].filter(n=>["extension","node","mark"].includes(n==null?void 0:n.type));this.extensionManager=new Vo(t,this)}createCommandManager(){this.commandManager=new jc({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=Ob(this.options.content,this.schema,this.options.parseOptions),t=Tb(e,this.options.autofocus);this.view=new ur(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:qr.create({doc:e,selection:t})});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(a=>{var s;return(s=this.capturedTransaction)===null||s===void 0?void 0:s.step(a)});return}const t=this.state.apply(e),n=!this.state.selection.eq(t.selection);this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return Pb(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,i=typeof e=="string"?t:e;return jS(this.state,n,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return WS(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return VS(this.state.doc,{blockSeparator:t,textSerializers:{...n,...Ab(this.schema)}})}get isEmpty(){return YS(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}}class Er{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=tt(Te(this,"addOptions",{name:this.name}))),this.storage=tt(Te(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Er(e)}configure(e={}){const t=this.extend();return t.options=Lc(this.options,e),t.storage=tt(Te(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new Er(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=tt(Te(t,"addOptions",{name:t.name})),t.storage=tt(Te(t,"addStorage",{name:t.name,options:t.options})),t}}class eo{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=tt(Te(this,"addOptions",{name:this.name}))),this.storage=tt(Te(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new eo(e)}configure(e={}){const t=this.extend();return t.options=Lc(this.options,e),t.storage=tt(Te(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new eo(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=tt(Te(t,"addOptions",{name:t.name})),t.storage=tt(Te(t,"addStorage",{name:t.name,options:t.options})),t}}function sE(r){return new Wc({find:r.find,handler:({state:e,range:t,match:n})=>{const i=tt(r.getAttributes,void 0,n)||{},{tr:o}=e,a=t.from;let s=t.to;if(n[1]){const l=n[0].lastIndexOf(n[1]);let c=a+l;c>s?c=s:s=c+n[1].length;const u=n[0][n[0].length-1];o.insertText(u,a+n[0].length-1),o.replaceWith(c,s,r.type.create(i))}else n[0]&&o.replaceWith(a,s,r.type.create(i))}})}function Bl(r,e,t){const n=[];return r===e?t.resolve(r).marks().forEach(i=>{const o=t.resolve(r-1),a=jd(o,i.type);!a||n.push({mark:i,...a})}):t.nodesBetween(r,e,(i,o)=>{n.push(...i.marks.map(a=>({from:o,to:o+i.nodeSize,mark:a})))}),n}function ha(r){return new Wc({find:r.find,handler:({state:e,range:t,match:n})=>{const i=tt(r.getAttributes,void 0,n);if(i===!1||i===null)return null;const{tr:o}=e,a=n[n.length-1],s=n[0];let l=t.to;if(a){const c=s.search(/\S/),u=t.from+s.indexOf(a),p=u+a.length;if(Bl(t.from,t.to,e.doc).filter(h=>h.mark.type.excluded.find(g=>g===r.type&&g!==h.mark.type)).filter(h=>h.to>u).length)return null;p<t.to&&o.delete(p,t.to),u>t.from&&o.delete(t.from+c,u),l=t.from+c+a.length,o.addMark(t.from+c,l,r.type.create(i||{})),o.removeStoredMark(r.type)}}})}function Op(r){return new Wc({find:r.find,handler:({state:e,range:t,match:n})=>{const i=e.doc.resolve(t.from),o=tt(r.getAttributes,void 0,n)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),r.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,r.type,o)}})}function Yd(r){return new Wc({find:r.find,handler:({state:e,range:t,match:n})=>{const i=tt(r.getAttributes,void 0,n)||{},o=e.tr.delete(t.from,t.to),s=o.doc.resolve(t.from).blockRange(),l=s&&yd(s,r.type,i);if(!l)return null;o.wrap(s,l);const c=o.doc.resolve(t.from-1).nodeBefore;c&&c.type===r.type&&Ls(o.doc,t.from-1)&&(!r.joinPredicate||r.joinPredicate(n,c))&&o.join(t.from-1)}})}function To(r){return new GS({find:r.find,handler:({state:e,range:t,match:n})=>{const i=tt(r.getAttributes,void 0,n);if(i===!1||i===null)return null;const{tr:o}=e,a=n[n.length-1],s=n[0];let l=t.to;if(a){const c=s.search(/\S/),u=t.from+s.indexOf(a),p=u+a.length;if(Bl(t.from,t.to,e.doc).filter(h=>h.mark.type.excluded.find(g=>g===r.type&&g!==h.mark.type)).filter(h=>h.to>u).length)return null;p<t.to&&o.delete(p,t.to),u>t.from&&o.delete(t.from+c,u),l=t.from+c+a.length,o.addMark(t.from+c,l,r.type.create(i||{})),o.removeStoredMark(r.type)}}})}function lE(r,e){const t=new Yt(r);return e.forEach(n=>{n.steps.forEach(i=>{t.step(i)})}),t}function cE(r,e,t){const n=[];return r.nodesBetween(e.from,e.to,(i,o)=>{t(i)&&n.push({node:i,pos:o})}),n}function uE(r,e=JSON.stringify){const t={};return r.filter(n=>{const i=e(n);return Object.prototype.hasOwnProperty.call(t,i)?!1:t[i]=!0})}function pE(r){const e=uE(r);return e.length===1?e:e.filter((t,n)=>!e.filter((o,a)=>a!==n).some(o=>t.oldRange.from>=o.oldRange.from&&t.oldRange.to<=o.oldRange.to&&t.newRange.from>=o.newRange.from&&t.newRange.to<=o.newRange.to))}function dE(r){const{mapping:e,steps:t}=r,n=[];return e.maps.forEach((i,o)=>{const a=[];if(i.ranges.length)i.forEach((s,l)=>{a.push({from:s,to:l})});else{const{from:s,to:l}=t[o];if(s===void 0||l===void 0)return;a.push({from:s,to:l})}a.forEach(({from:s,to:l})=>{const c=e.slice(o).map(s,-1),u=e.slice(o).map(l),p=e.invert().map(c,-1),d=e.invert().map(u);n.push({oldRange:{from:p,to:d},newRange:{from:c,to:u}})})}),pE(n)}const fE=/^\s*>\s$/,hE=Er.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:r}){return["blockquote",lr(this.options.HTMLAttributes,r),0]},addCommands(){return{setBlockquote:()=>({commands:r})=>r.wrapIn(this.name),toggleBlockquote:()=>({commands:r})=>r.toggleWrap(this.name),unsetBlockquote:()=>({commands:r})=>r.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Yd({find:fE,type:this.type})]}}),gE=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,mE=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,vE=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,bE=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,wE=eo.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:r=>r.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:r=>/^(bold(er)?|[5-9]\d{2,})$/.test(r)&&null}]},renderHTML({HTMLAttributes:r}){return["strong",lr(this.options.HTMLAttributes,r),0]},addCommands(){return{setBold:()=>({commands:r})=>r.setMark(this.name),toggleBold:()=>({commands:r})=>r.toggleMark(this.name),unsetBold:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ha({find:gE,type:this.type}),ha({find:vE,type:this.type})]},addPasteRules(){return[To({find:mE,type:this.type}),To({find:bE,type:this.type})]}}),yE=/^\s*([-+*])\s$/,xE=Er.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:r}){return["ul",lr(this.options.HTMLAttributes,r),0]},addCommands(){return{toggleBulletList:()=>({commands:r})=>r.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[Yd({find:yE,type:this.type})]}}),kE=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,CE=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,SE=eo.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:r}){return["code",lr(this.options.HTMLAttributes,r),0]},addCommands(){return{setCode:()=>({commands:r})=>r.setMark(this.name),toggleCode:()=>({commands:r})=>r.toggleMark(this.name),unsetCode:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ha({find:kE,type:this.type})]},addPasteRules(){return[To({find:CE,type:this.type})]}}),EE=/^```([a-z]+)?[\s\n]$/,DE=/^~~~([a-z]+)?[\s\n]$/,AE=Er.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:r=>{var e;const{languageClassPrefix:t}=this.options,o=[...((e=r.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(a=>a.startsWith(t)).map(a=>a.replace(t,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:r,HTMLAttributes:e}){return["pre",lr(this.options.HTMLAttributes,e),["code",{class:r.attrs.language?this.options.languageClassPrefix+r.attrs.language:null},0]]},addCommands(){return{setCodeBlock:r=>({commands:e})=>e.setNode(this.name,r),toggleCodeBlock:r=>({commands:e})=>e.toggleNode(this.name,"paragraph",r)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:r,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!r||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:r})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=r,{selection:t}=e,{$from:n,empty:i}=t;if(!i||n.parent.type!==this.type)return!1;const o=n.parentOffset===n.parent.nodeSize-2,a=n.parent.textContent.endsWith(`

`);return!o||!a?!1:r.chain().command(({tr:s})=>(s.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:r})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=r,{selection:t,doc:n}=e,{$from:i,empty:o}=t;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const s=i.after();return s===void 0||n.nodeAt(s)?!1:r.commands.exitCode()}}},addInputRules(){return[Op({find:EE,type:this.type,getAttributes:r=>({language:r[1]})}),Op({find:DE,type:this.type,getAttributes:r=>({language:r[1]})})]},addProseMirrorPlugins(){return[new Dr({key:new Xr("codeBlockVSCodeHandler"),props:{handlePaste:(r,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),i=n?JSON.parse(n):void 0,o=i==null?void 0:i.mode;if(!t||!o)return!1;const{tr:a}=r.state;return a.replaceSelectionWith(this.type.create({language:o})),a.setSelection(it.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.insertText(t.replace(/\r\n?/g,`
`)),a.setMeta("paste",!0),r.dispatch(a),!0}}})]}}),TE=Er.create({name:"doc",topNode:!0,content:"block+"});function ME(r){return r===void 0&&(r={}),new Dr({view:function(t){return new Si(t,r)}})}var Si=function(e,t){var n=this;this.editorView=e,this.width=t.width||1,this.color=t.color||"black",this.class=t.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map(function(i){var o=function(a){return n[i](a)};return e.dom.addEventListener(i,o),{name:i,handler:o}})};Si.prototype.destroy=function(){var e=this;this.handlers.forEach(function(t){var n=t.name,i=t.handler;return e.editorView.dom.removeEventListener(n,i)})};Si.prototype.update=function(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())};Si.prototype.setCursor=function(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())};Si.prototype.updateOverlay=function(){var e=this.editorView.state.doc.resolve(this.cursorPos),t;if(!e.parent.inlineContent){var n=e.nodeBefore,i=e.nodeAfter;if(n||i){var o=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),a=n?o.bottom:o.top;n&&i&&(a=(a+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),t={left:o.left,right:o.right,top:a-this.width/2,bottom:a+this.width/2}}}if(!t){var s=this.editorView.coordsAtPos(this.cursorPos);t={left:s.left-this.width/2,right:s.left+this.width/2,top:s.top,bottom:s.bottom}}var l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);var c,u;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,u=-pageYOffset;else{var p=l.getBoundingClientRect();c=p.left-l.scrollLeft,u=p.top-l.scrollTop}this.element.style.left=t.left-c+"px",this.element.style.top=t.top-u+"px",this.element.style.width=t.right-t.left+"px",this.element.style.height=t.bottom-t.top+"px"};Si.prototype.scheduleRemoval=function(e){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){return t.setCursor(null)},e)};Si.prototype.dragover=function(e){if(!!this.editorView.editable){var t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=n&&n.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,t):i;if(t&&!o){var a=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(a=Dv(this.editorView.state.doc,a,this.editorView.dragging.slice),a==null))return this.setCursor(null);this.setCursor(a),this.scheduleRemoval(5e3)}}};Si.prototype.dragend=function(){this.scheduleRemoval(20)};Si.prototype.drop=function(){this.scheduleRemoval(20)};Si.prototype.dragleave=function(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)};const OE=zn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:null}},addProseMirrorPlugins(){return[ME(this.options)]}});var ci=function(r){function e(t){r.call(this,t,t)}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.map=function(n,i){var o=n.resolve(i.map(this.head));return e.valid(o)?new e(o):r.near(o)},e.prototype.content=function(){return ve.empty},e.prototype.eq=function(n){return n instanceof e&&n.head==this.head},e.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},e.fromJSON=function(n,i){if(typeof i.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new e(n.resolve(i.pos))},e.prototype.getBookmark=function(){return new $l(this.anchor)},e.valid=function(n){var i=n.parent;if(i.isTextblock||!_E(n)||!NE(n))return!1;var o=i.type.spec.allowGapCursor;if(o!=null)return o;var a=i.contentMatchAt(n.index()).defaultType;return a&&a.isTextblock},e.findFrom=function(n,i,o){e:for(;;){if(!o&&e.valid(n))return n;for(var a=n.pos,s=null,l=n.depth;;l--){var c=n.node(l);if(i>0?n.indexAfter(l)<c.childCount:n.index(l)>0){s=c.child(i>0?n.indexAfter(l):n.index(l)-1);break}else if(l==0)return null;a+=i;var u=n.doc.resolve(a);if(e.valid(u))return u}for(;;){var p=i>0?s.firstChild:s.lastChild;if(!p){if(s.isAtom&&!s.isText&&!Qe.isSelectable(s)){n=n.doc.resolve(a+s.nodeSize*i),o=!1;continue e}break}s=p,a+=i;var d=n.doc.resolve(a);if(e.valid(d))return d}return null}},e}(Ie);ci.prototype.visible=!1;Ie.jsonID("gapcursor",ci);var $l=function(e){this.pos=e};$l.prototype.map=function(e){return new $l(e.map(this.pos))};$l.prototype.resolve=function(e){var t=e.resolve(this.pos);return ci.valid(t)?new ci(t):Ie.near(t)};function _E(r){for(var e=r.depth;e>=0;e--){var t=r.index(e),n=r.node(e);if(t==0){if(n.type.spec.isolating)return!0;continue}for(var i=n.child(t-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function NE(r){for(var e=r.depth;e>=0;e--){var t=r.indexAfter(e),n=r.node(e);if(t==n.childCount){if(n.type.spec.isolating)return!0;continue}for(var i=n.child(t);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}var PE=function(){return new Dr({props:{decorations:FE,createSelectionBetween:function(e,t,n){if(t.pos==n.pos&&ci.valid(n))return new ci(n)},handleClick:zE,handleKeyDown:IE}})},IE=$d({ArrowLeft:Zs("horiz",-1),ArrowRight:Zs("horiz",1),ArrowUp:Zs("vert",-1),ArrowDown:Zs("vert",1)});function Zs(r,e){var t=r=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,i,o){var a=n.selection,s=e>0?a.$to:a.$from,l=a.empty;if(a instanceof it){if(!o.endOfTextblock(t)||s.depth==0)return!1;l=!1,s=n.doc.resolve(e>0?s.after():s.before())}var c=ci.findFrom(s,e,l);return c?(i&&i(n.tr.setSelection(new ci(c))),!0):!1}}function zE(r,e,t){if(!r.editable)return!1;var n=r.state.doc.resolve(e);if(!ci.valid(n))return!1;var i=r.posAtCoords({left:t.clientX,top:t.clientY}),o=i.inside;return o>-1&&Qe.isSelectable(r.state.doc.nodeAt(o))?!1:(r.dispatch(r.state.tr.setSelection(new ci(n))),!0)}function FE(r){if(!(r.selection instanceof ci))return null;var e=document.createElement("div");return e.className="ProseMirror-gapcursor",Et.create(r.doc,[sr.widget(r.selection.head,e,{key:"gapcursor"})])}const RE=zn.create({name:"gapCursor",addProseMirrorPlugins(){return[PE()]},extendNodeSchema(r){var e;const t={name:r.name,options:r.options,storage:r.storage};return{allowGapCursor:(e=tt(Te(r,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),LE=Er.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:r}){return["br",lr(this.options.HTMLAttributes,r)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:r,chain:e,state:t,editor:n})=>r.first([()=>r.exitCode(),()=>r.command(()=>{const{selection:i,storedMarks:o}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:s}=n.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&a){const p=l.filter(d=>s.includes(d.type.name));c.ensureMarks(p)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),BE=Er.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(r=>({tag:`h${r}`,attrs:{level:r}}))},renderHTML({node:r,HTMLAttributes:e}){return[`h${this.options.levels.includes(r.attrs.level)?r.attrs.level:this.options.levels[0]}`,lr(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:r=>({commands:e})=>this.options.levels.includes(r.level)?e.setNode(this.name,r):!1,toggleHeading:r=>({commands:e})=>this.options.levels.includes(r.level)?e.toggleNode(this.name,"paragraph",r):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((r,e)=>({...r,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(r=>Op({find:new RegExp(`^(#{1,${r}})\\s$`),type:this.type,getAttributes:{level:r}}))}});var Hl=200,Ir=function(){};Ir.prototype.append=function(e){return e.length?(e=Ir.from(e),!this.length&&e||e.length<Hl&&this.leafAppend(e)||this.length<Hl&&e.leafPrepend(this)||this.appendInner(e)):this};Ir.prototype.prepend=function(e){return e.length?Ir.from(e).append(this):this};Ir.prototype.appendInner=function(e){return new $E(this,e)};Ir.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Ir.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Ir.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ir.prototype.forEach=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)};Ir.prototype.map=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(o,a){return i.push(e(o,a))},t,n),i};Ir.from=function(e){return e instanceof Ir?e:e&&e.length?new zb(e):Ir.empty};var zb=function(r){function e(n){r.call(this),this.values=n}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,a,s){for(var l=o;l<a;l++)if(i(this.values[l],s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,a,s){for(var l=o-1;l>=a;l--)if(i(this.values[l],s+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Hl)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Hl)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(Ir);Ir.empty=new zb([]);var $E=function(r){function e(t,n){r.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,i,o,a){var s=this.left.length;if(i<s&&this.left.forEachInner(n,i,Math.min(o,s),a)===!1||o>s&&this.right.forEachInner(n,Math.max(i-s,0),Math.min(this.length,o)-s,a+s)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,o,a){var s=this.left.length;if(i>s&&this.right.forEachInvertedInner(n,i-s,Math.max(o,s)-s,a+s)===!1||o<s&&this.left.forEachInvertedInner(n,Math.min(i,s),o,a)===!1)return!1},e.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(n,i):n>=o?this.right.slice(n-o,i-o):this.left.slice(n,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(Ir),Fb=Ir,HE=500,Lr=function(e,t){this.items=e,this.eventCount=t};Lr.prototype.popEvent=function(e,t){var n=this;if(this.eventCount==0)return null;for(var i=this.items.length;;i--){var o=this.items.get(i-1);if(o.selection){--i;break}}var a,s;t&&(a=this.remapping(i,this.items.length),s=a.maps.length);var l=e.tr,c,u,p=[],d=[];return this.items.forEach(function(h,f){if(!h.step){a||(a=n.remapping(i,f+1),s=a.maps.length),s--,d.push(h);return}if(a){d.push(new yi(h.map));var g=h.step.map(a.slice(s)),m;g&&l.maybeStep(g).doc&&(m=l.mapping.maps[l.mapping.maps.length-1],p.push(new yi(m,null,null,p.length+d.length))),s--,m&&a.appendMap(m,s)}else l.maybeStep(h.step);if(h.selection)return c=a?h.selection.map(a.slice(s)):h.selection,u=new Lr(n.items.slice(0,i).append(d.reverse().concat(p)),n.eventCount-1),!1},this.items.length,0),{remaining:u,transform:l,selection:c}};Lr.prototype.addTransform=function(e,t,n,i){for(var o=[],a=this.eventCount,s=this.items,l=!i&&s.length?s.get(s.length-1):null,c=0;c<e.steps.length;c++){var u=e.steps[c].invert(e.docs[c]),p=new yi(e.mapping.maps[c],u,t),d=void 0;(d=l&&l.merge(p))&&(p=d,c?o.pop():s=s.slice(0,s.length-1)),o.push(p),t&&(a++,t=null),i||(l=p)}var h=a-n.depth;return h>WE&&(s=jE(s,h),a-=h),new Lr(s.append(o),a)};Lr.prototype.remapping=function(e,t){var n=new Yr;return this.items.forEach(function(i,o){var a=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:null;n.appendMap(i.map,a)},e,t),n};Lr.prototype.addMaps=function(e){return this.eventCount==0?this:new Lr(this.items.append(e.map(function(t){return new yi(t)})),this.eventCount)};Lr.prototype.rebased=function(e,t){if(!this.eventCount)return this;var n=[],i=Math.max(0,this.items.length-t),o=e.mapping,a=e.steps.length,s=this.eventCount;this.items.forEach(function(h){h.selection&&s--},i);var l=t;this.items.forEach(function(h){var f=o.getMirror(--l);if(f!=null){a=Math.min(a,f);var g=o.maps[f];if(h.step){var m=e.steps[f].invert(e.docs[f]),b=h.selection&&h.selection.map(o.slice(l+1,f));b&&s++,n.push(new yi(g,m,b))}else n.push(new yi(g))}},i);for(var c=[],u=t;u<a;u++)c.push(new yi(o.maps[u]));var p=this.items.slice(0,i).append(c).append(n),d=new Lr(p,s);return d.emptyItemCount()>HE&&(d=d.compress(this.items.length-n.length)),d};Lr.prototype.emptyItemCount=function(){var e=0;return this.items.forEach(function(t){t.step||e++}),e};Lr.prototype.compress=function(e){e===void 0&&(e=this.items.length);var t=this.remapping(0,e),n=t.maps.length,i=[],o=0;return this.items.forEach(function(a,s){if(s>=e)i.push(a),a.selection&&o++;else if(a.step){var l=a.step.map(t.slice(n)),c=l&&l.getMap();if(n--,c&&t.appendMap(c,n),l){var u=a.selection&&a.selection.map(t.slice(n));u&&o++;var p=new yi(c.invert(),l,u),d,h=i.length-1;(d=i.length&&i[h].merge(p))?i[h]=d:i.push(p)}}else a.map&&n--},this.items.length,0),new Lr(Fb.from(i.reverse()),o)};Lr.empty=new Lr(Fb.empty,0);function jE(r,e){var t;return r.forEach(function(n,i){if(n.selection&&e--==0)return t=i,!1}),r.slice(t)}var yi=function(e,t,n,i){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=i};yi.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var t=e.step.merge(this.step);if(t)return new yi(t.getMap().invert(),t,this.selection)}};var Wi=function(e,t,n,i){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=i},WE=20;function VE(r,e,t,n){var i=t.getMeta(Ji),o;if(i)return i.historyState;t.getMeta(qE)&&(r=new Wi(r.done,r.undone,null,0));var a=t.getMeta("appendedTransaction");if(t.steps.length==0)return r;if(a&&a.getMeta(Ji))return a.getMeta(Ji).redo?new Wi(r.done.addTransform(t,null,n,vl(e)),r.undone,kh(t.mapping.maps[t.steps.length-1]),r.prevTime):new Wi(r.done,r.undone.addTransform(t,null,n,vl(e)),null,r.prevTime);if(t.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){var s=r.prevTime==0||!a&&(r.prevTime<(t.time||0)-n.newGroupDelay||!YE(t,r.prevRanges)),l=a?Du(r.prevRanges,t.mapping):kh(t.mapping.maps[t.steps.length-1]);return new Wi(r.done.addTransform(t,s?e.selection.getBookmark():null,n,vl(e)),Lr.empty,l,t.time)}else return(o=t.getMeta("rebased"))?new Wi(r.done.rebased(t,o),r.undone.rebased(t,o),Du(r.prevRanges,t.mapping),r.prevTime):new Wi(r.done.addMaps(t.mapping.maps),r.undone.addMaps(t.mapping.maps),Du(r.prevRanges,t.mapping),r.prevTime)}function YE(r,e){if(!e)return!1;if(!r.docChanged)return!0;var t=!1;return r.mapping.maps[0].forEach(function(n,i){for(var o=0;o<e.length;o+=2)n<=e[o+1]&&i>=e[o]&&(t=!0)}),t}function kh(r){var e=[];return r.forEach(function(t,n,i,o){return e.push(i,o)}),e}function Du(r,e){if(!r)return null;for(var t=[],n=0;n<r.length;n+=2){var i=e.map(r[n],1),o=e.map(r[n+1],-1);i<=o&&t.push(i,o)}return t}function Rb(r,e,t,n){var i=vl(e),o=Ji.get(e).spec.config,a=(n?r.undone:r.done).popEvent(e,i);if(!!a){var s=a.selection.resolve(a.transform.doc),l=(n?r.done:r.undone).addTransform(a.transform,e.selection.getBookmark(),o,i),c=new Wi(n?l:a.remaining,n?a.remaining:l,null,0);t(a.transform.setSelection(s).setMeta(Ji,{redo:n,historyState:c}).scrollIntoView())}}var Au=!1,Ch=null;function vl(r){var e=r.plugins;if(Ch!=e){Au=!1,Ch=e;for(var t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Au=!0;break}}return Au}var Ji=new Xr("history"),qE=new Xr("closeHistory");function UE(r){return r={depth:r&&r.depth||100,newGroupDelay:r&&r.newGroupDelay||500},new Dr({key:Ji,state:{init:function(){return new Wi(Lr.empty,Lr.empty,null,0)},apply:function(t,n,i){return VE(n,i,t,r)}},config:r,props:{handleDOMEvents:{beforeinput:function(t,n){var i=n.inputType=="historyUndo"?Lb(t.state,t.dispatch):n.inputType=="historyRedo"?Bb(t.state,t.dispatch):!1;return i&&n.preventDefault(),i}}}})}function Lb(r,e){var t=Ji.getState(r);return!t||t.done.eventCount==0?!1:(e&&Rb(t,r,e,!1),!0)}function Bb(r,e){var t=Ji.getState(r);return!t||t.undone.eventCount==0?!1:(e&&Rb(t,r,e,!0),!0)}const JE=zn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:r,dispatch:e})=>Lb(r,e),redo:()=>({state:r,dispatch:e})=>Bb(r,e)}},addProseMirrorPlugins(){return[UE(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-\u044F":()=>this.editor.commands.undo(),"Shift-Mod-\u044F":()=>this.editor.commands.redo()}}}),XE=Er.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:r}){return["hr",lr(this.options.HTMLAttributes,r)]},addCommands(){return{setHorizontalRule:()=>({chain:r})=>r().insertContent({type:this.name}).command(({tr:e,dispatch:t})=>{var n;if(t){const{$to:i}=e.selection,o=i.end();if(i.nodeAfter)e.setSelection(it.create(e.doc,i.pos));else{const a=(n=i.parent.type.contentMatch.defaultType)===null||n===void 0?void 0:n.create();a&&(e.insert(o,a),e.setSelection(it.create(e.doc,o)))}e.scrollIntoView()}return!0}).run()}},addInputRules(){return[sE({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),GE=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,KE=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,ZE=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,QE=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,e2=eo.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:r=>r.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:r}){return["em",lr(this.options.HTMLAttributes,r),0]},addCommands(){return{setItalic:()=>({commands:r})=>r.setMark(this.name),toggleItalic:()=>({commands:r})=>r.toggleMark(this.name),unsetItalic:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ha({find:GE,type:this.type}),ha({find:ZE,type:this.type})]},addPasteRules(){return[To({find:KE,type:this.type}),To({find:QE,type:this.type})]}}),t2=Er.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:r}){return["li",lr(this.options.HTMLAttributes,r),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),r2=/^(\d+)\.\s$/,n2=Er.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:r=>r.hasAttribute("start")?parseInt(r.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:r}){const{start:e,...t}=r;return e===1?["ol",lr(this.options.HTMLAttributes,t),0]:["ol",lr(this.options.HTMLAttributes,r),0]},addCommands(){return{toggleOrderedList:()=>({commands:r})=>r.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[Yd({find:r2,type:this.type,getAttributes:r=>({start:+r[1]}),joinPredicate:(r,e)=>e.childCount+e.attrs.start===+r[1]})]}}),i2=Er.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:r}){return["p",lr(this.options.HTMLAttributes,r),0]},addCommands(){return{setParagraph:()=>({commands:r})=>r.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),o2=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,a2=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,s2=eo.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:r=>r.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:r}){return["s",lr(this.options.HTMLAttributes,r),0]},addCommands(){return{setStrike:()=>({commands:r})=>r.setMark(this.name),toggleStrike:()=>({commands:r})=>r.toggleMark(this.name),unsetStrike:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ha({find:o2,type:this.type})]},addPasteRules(){return[To({find:a2,type:this.type})]}}),l2=Er.create({name:"text",group:"inline"}),c2=zn.create({name:"starterKit",addExtensions(){var r,e,t,n,i,o,a,s,l,c,u,p,d,h,f,g,m,b;const v=[];return this.options.blockquote!==!1&&v.push(hE.configure((r=this.options)===null||r===void 0?void 0:r.blockquote)),this.options.bold!==!1&&v.push(wE.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&v.push(xE.configure((t=this.options)===null||t===void 0?void 0:t.bulletList)),this.options.code!==!1&&v.push(SE.configure((n=this.options)===null||n===void 0?void 0:n.code)),this.options.codeBlock!==!1&&v.push(AE.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&v.push(TE.configure((o=this.options)===null||o===void 0?void 0:o.document)),this.options.dropcursor!==!1&&v.push(OE.configure((a=this.options)===null||a===void 0?void 0:a.dropcursor)),this.options.gapcursor!==!1&&v.push(RE.configure((s=this.options)===null||s===void 0?void 0:s.gapcursor)),this.options.hardBreak!==!1&&v.push(LE.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&v.push(BE.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&v.push(JE.configure((u=this.options)===null||u===void 0?void 0:u.history)),this.options.horizontalRule!==!1&&v.push(XE.configure((p=this.options)===null||p===void 0?void 0:p.horizontalRule)),this.options.italic!==!1&&v.push(e2.configure((d=this.options)===null||d===void 0?void 0:d.italic)),this.options.listItem!==!1&&v.push(t2.configure((h=this.options)===null||h===void 0?void 0:h.listItem)),this.options.orderedList!==!1&&v.push(n2.configure((f=this.options)===null||f===void 0?void 0:f.orderedList)),this.options.paragraph!==!1&&v.push(i2.configure((g=this.options)===null||g===void 0?void 0:g.paragraph)),this.options.strike!==!1&&v.push(s2.configure((m=this.options)===null||m===void 0?void 0:m.strike)),this.options.text!==!1&&v.push(l2.configure((b=this.options)===null||b===void 0?void 0:b.text)),v}});/*!
 * vanilla-picker v2.12.1
 * https://vanilla-picker.js.org
 *
 * Copyright 2017-2021 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)
 * Released under the ISC license.
 */var qd=function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")},Ud=function(){function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),Qs=function(){function r(e,t){var n=[],i=!0,o=!1,a=void 0;try{for(var s=e[Symbol.iterator](),l;!(i=(l=s.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(c){o=!0,a=c}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();String.prototype.startsWith=String.prototype.startsWith||function(r){return this.indexOf(r)===0};String.prototype.padStart=String.prototype.padStart||function(r,e){for(var t=this;t.length<r;)t=e+t;return t};var u2={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function Sh(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=e>0?r.toFixed(e).replace(/0+$/,"").replace(/\.$/,""):r.toString();return t||"0"}var p2=function(){function r(e,t,n,i){qd(this,r);var o=this;function a(l){if(l.startsWith("hsl")){var c=l.match(/([\-\d\.e]+)/g).map(Number),u=Qs(c,4),p=u[0],d=u[1],h=u[2],f=u[3];f===void 0&&(f=1),p/=360,d/=100,h/=100,o.hsla=[p,d,h,f]}else if(l.startsWith("rgb")){var g=l.match(/([\-\d\.e]+)/g).map(Number),m=Qs(g,4),b=m[0],v=m[1],C=m[2],k=m[3];k===void 0&&(k=1),o.rgba=[b,v,C,k]}else l.startsWith("#")?o.rgba=r.hexToRgb(l):o.rgba=r.nameToRgb(l)||r.hexToRgb(l)}if(e!==void 0)if(Array.isArray(e))this.rgba=e;else if(n===void 0){var s=e&&""+e;s&&a(s.toLowerCase())}else this.rgba=[e,t,n,i===void 0?1:i]}return Ud(r,[{key:"printRGB",value:function(t){var n=t?this.rgba:this.rgba.slice(0,3),i=n.map(function(o,a){return Sh(o,a===3?3:0)});return t?"rgba("+i+")":"rgb("+i+")"}},{key:"printHSL",value:function(t){var n=[360,100,100,1],i=["","%","%",""],o=t?this.hsla:this.hsla.slice(0,3),a=o.map(function(s,l){return Sh(s*n[l],l===3?3:1)+i[l]});return t?"hsla("+a+")":"hsl("+a+")"}},{key:"printHex",value:function(t){var n=this.hex;return t?n:n.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=r.hslToRgb(this._hsla)},set:function(t){t.length===3&&(t[3]=1),this._rgba=t,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=r.rgbToHsl(this._rgba)},set:function(t){t.length===3&&(t[3]=1),this._hsla=t,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){var t=this.rgba,n=t.map(function(i,o){return o<3?i.toString(16):Math.round(i*255).toString(16)});return"#"+n.map(function(i){return i.padStart(2,"0")}).join("")},set:function(t){this.rgba=r.hexToRgb(t)}}],[{key:"hexToRgb",value:function(t){var n=(t.startsWith("#")?t.slice(1):t).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!n.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+t);var i=n.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(o){return parseInt(o,16)});return i[3]=i[3]/255,i}},{key:"nameToRgb",value:function(t){var n=t.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),i=u2[n];return i===void 0?i:r.hexToRgb(i.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(t){var n=Qs(t,4),i=n[0],o=n[1],a=n[2],s=n[3];i/=255,o/=255,a/=255;var l=Math.max(i,o,a),c=Math.min(i,o,a),u=void 0,p=void 0,d=(l+c)/2;if(l===c)u=p=0;else{var h=l-c;switch(p=d>.5?h/(2-l-c):h/(l+c),l){case i:u=(o-a)/h+(o<a?6:0);break;case o:u=(a-i)/h+2;break;case a:u=(i-o)/h+4;break}u/=6}return[u,p,d,s]}},{key:"hslToRgb",value:function(t){var n=Qs(t,4),i=n[0],o=n[1],a=n[2],s=n[3],l=void 0,c=void 0,u=void 0;if(o===0)l=c=u=a;else{var p=function(m,b,v){return v<0&&(v+=1),v>1&&(v-=1),v<.16666666666666666?m+(b-m)*6*v:v<.5?b:v<.6666666666666666?m+(b-m)*(.6666666666666666-v)*6:m},d=a<.5?a*(1+o):a+o-a*o,h=2*a-d;l=p(h,d,i+1/3),c=p(h,d,i),u=p(h,d,i-1/3)}var f=[l*255,c*255,u*255].map(Math.round);return f[3]=s,f}}]),r}(),d2=function(){function r(){qd(this,r),this._events=[]}return Ud(r,[{key:"add",value:function(t,n,i){t.addEventListener(n,i,!1),this._events.push({target:t,type:n,handler:i})}},{key:"remove",value:function(t,n,i){this._events=this._events.filter(function(o){var a=!0;return t&&t!==o.target&&(a=!1),n&&n!==o.type&&(a=!1),i&&i!==o.handler&&(a=!1),a&&r._doRemove(o.target,o.type,o.handler),!a})}},{key:"destroy",value:function(){this._events.forEach(function(t){return r._doRemove(t.target,t.type,t.handler)}),this._events=[]}}],[{key:"_doRemove",value:function(t,n,i){t.removeEventListener(n,i,!1)}}]),r}();function f2(r){var e=document.createElement("div");return e.innerHTML=r,e.firstElementChild}function Tu(r,e,t){var n=!1;function i(l,c,u){return Math.max(c,Math.min(l,u))}function o(l,c,u){if(u&&(n=!0),!!n){l.preventDefault();var p=e.getBoundingClientRect(),d=p.width,h=p.height,f=c.clientX,g=c.clientY,m=i(f-p.left,0,d),b=i(g-p.top,0,h);t(m/d,b/h)}}function a(l,c){var u=l.buttons===void 0?l.which:l.buttons;u===1?o(l,l,c):n=!1}function s(l,c){l.touches.length===1?o(l,l.touches[0],c):n=!1}r.add(e,"mousedown",function(l){a(l,!0)}),r.add(e,"touchstart",function(l){s(l,!0)}),r.add(window,"mousemove",a),r.add(e,"touchmove",s),r.add(window,"mouseup",function(l){n=!1}),r.add(e,"touchend",function(l){n=!1}),r.add(e,"touchcancel",function(l){n=!1})}var h2=`linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,
                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em`,g2=360,$b="keydown",el="mousedown",Mu="focusin";function gi(r,e){return(e||document).querySelector(r)}function Hb(r){r.preventDefault(),r.stopPropagation()}function Ou(r,e,t,n,i){r.add(e,$b,function(o){t.indexOf(o.key)>=0&&(i&&Hb(o),n(o))})}var jb=function(){function r(e){qd(this,r),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new d2,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(e)}return Ud(r,[{key:"setOptions",value:function(t){var n=this;if(!t)return;var i=this.settings;function o(c,u,p){for(var d in c)p&&p.indexOf(d)>=0||(u[d]=c[d])}if(t instanceof HTMLElement)i.parent=t;else{i.parent&&t.parent&&i.parent!==t.parent&&(this._events.remove(i.parent),this._popupInited=!1),o(t,i),t.onChange&&(this.onChange=t.onChange),t.onDone&&(this.onDone=t.onDone),t.onOpen&&(this.onOpen=t.onOpen),t.onClose&&(this.onClose=t.onClose);var a=t.color||t.colour;a&&this._setColor(a)}var s=i.parent;if(s&&i.popup&&!this._popupInited){var l=function(u){return n.openHandler(u)};this._events.add(s,"click",l),Ou(this._events,s,[" ","Spacebar","Enter"],l),this._popupInited=!0}else t.parent&&!i.popup&&this.show()}},{key:"openHandler",value:function(t){if(this.show()){t&&t.preventDefault(),this.settings.parent.style.pointerEvents="none";var n=t&&t.type===$b?this._domEdit:this.domElement;setTimeout(function(){return n.focus()},100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(t){var n=t&&t.type,i=!1;if(!t)i=!0;else if(n===el||n===Mu){var o=(this.__containedEvent||0)+100;t.timeStamp>o&&(i=!0)}else Hb(t),i=!0;i&&this.hide()&&(this.settings.parent.style.pointerEvents="",n!==el&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(t,n){this.closeHandler(),this.setOptions(t),n&&this.openHandler()}},{key:"setColor",value:function(t,n){this._setColor(t,{silent:n})}},{key:"_setColor",value:function(t,n){if(typeof t=="string"&&(t=t.trim()),!!t){n=n||{};var i=void 0;try{i=new p2(t)}catch(a){if(n.failSilently)return;throw a}if(!this.settings.alpha){var o=i.hsla;o[3]=1,i.hsla=o}this.colour=this.color=i,this._setHSLA(null,null,null,null,n)}}},{key:"setColour",value:function(t,n){this.setColor(t,n)}},{key:"show",value:function(){var t=this.settings.parent;if(!t)return!1;if(this.domElement){var n=this._toggleDOM(!0);return this._setPosition(),n}var i=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',o=f2(i);return this.domElement=o,this._domH=gi(".picker_hue",o),this._domSL=gi(".picker_sl",o),this._domA=gi(".picker_alpha",o),this._domEdit=gi(".picker_editor input",o),this._domSample=gi(".picker_sample",o),this._domOkay=gi(".picker_done button",o),this._domCancel=gi(".picker_cancel button",o),o.classList.add("layout_"+this.settings.layout),this.settings.alpha||o.classList.add("no_alpha"),this.settings.editor||o.classList.add("no_editor"),this.settings.cancelButton||o.classList.add("no_cancel"),this._ifPopup(function(){return o.classList.add("popup")}),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var t=this,n=this,i=this.domElement,o=this._events;function a(c,u,p){o.add(c,u,p)}a(i,"click",function(c){return c.preventDefault()}),Tu(o,this._domH,function(c,u){return n._setHSLA(c)}),Tu(o,this._domSL,function(c,u){return n._setHSLA(null,c,1-u)}),this.settings.alpha&&Tu(o,this._domA,function(c,u){return n._setHSLA(null,null,null,1-u)});var s=this._domEdit;a(s,"input",function(c){n._setColor(this.value,{fromEditor:!0,failSilently:!0})}),a(s,"focus",function(c){var u=this;u.selectionStart===u.selectionEnd&&u.select()}),this._ifPopup(function(){var c=function(d){return t.closeHandler(d)};a(window,el,c),a(window,Mu,c),Ou(o,i,["Esc","Escape"],c);var u=function(d){t.__containedEvent=d.timeStamp};a(i,el,u),a(i,Mu,u),a(t._domCancel,"click",c)});var l=function(u){t._ifPopup(function(){return t.closeHandler(u)}),t.onDone&&t.onDone(t.colour)};a(this._domOkay,"click",l),Ou(o,i,["Enter"],l)}},{key:"_setPosition",value:function(){var t=this.settings.parent,n=this.domElement;t!==n.parentNode&&t.appendChild(n),this._ifPopup(function(i){getComputedStyle(t).position==="static"&&(t.style.position="relative");var o=i===!0?"popup_right":"popup_"+i;["popup_top","popup_bottom","popup_left","popup_right"].forEach(function(a){a===o?n.classList.add(a):n.classList.remove(a)}),n.classList.add(o)})}},{key:"_setHSLA",value:function(t,n,i,o,a){a=a||{};var s=this.colour,l=s.hsla;[t,n,i,o].forEach(function(c,u){(c||c===0)&&(l[u]=c)}),s.hsla=l,this._updateUI(a),this.onChange&&!a.silent&&this.onChange(s)}},{key:"_updateUI",value:function(t){if(!this.domElement)return;t=t||{};var n=this.colour,i=n.hsla,o="hsl("+i[0]*g2+", 100%, 50%)",a=n.hslString,s=n.hslaString,l=this._domH,c=this._domSL,u=this._domA,p=gi(".picker_selector",l),d=gi(".picker_selector",c),h=gi(".picker_selector",u);function f(N,I,L){I.style.left=L*100+"%"}function g(N,I,L){I.style.top=L*100+"%"}f(l,p,i[0]),this._domSL.style.backgroundColor=this._domH.style.color=o,f(c,d,i[1]),g(c,d,1-i[2]),c.style.color=a,g(u,h,1-i[3]);var m=a,b=m.replace("hsl","hsla").replace(")",", 0)"),v="linear-gradient("+[m,b]+")";if(this._domA.style.background=v+", "+h2,!t.fromEditor){var C=this.settings.editorFormat,k=this.settings.alpha,_=void 0;switch(C){case"rgb":_=n.printRGB(k);break;case"hsl":_=n.printHSL(k);break;default:_=n.printHex(k)}this._domEdit.value=_}this._domSample.style.color=s}},{key:"_ifPopup",value:function(t,n){this.settings.parent&&this.settings.popup?t&&t(this.settings.popup):n&&n()}},{key:"_toggleDOM",value:function(t){var n=this.domElement;if(!n)return!1;var i=t?"":"none",o=n.style.display!==i;return o&&(n.style.display=i),o}}]),r}();{var _u=document.createElement("style");_u.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}',document.documentElement.firstElementChild.appendChild(_u),jb.StyleElement=_u}var _p,Np;if(typeof WeakMap!="undefined"){var Eh=new WeakMap;_p=function(r){return Eh.get(r)},Np=function(r,e){return Eh.set(r,e),e}}else{var Ba=[],m2=10,tl=0;_p=function(r){for(var e=0;e<Ba.length;e+=2)if(Ba[e]==r)return Ba[e+1]},Np=function(r,e){return tl==m2&&(tl=0),Ba[tl++]=r,Ba[tl++]=e}}var ga=function(e,t,n,i){this.left=e,this.top=t,this.right=n,this.bottom=i},At=function(e,t,n,i){this.width=e,this.height=t,this.map=n,this.problems=i};At.prototype.findCell=function(e){for(var t=0;t<this.map.length;t++){var n=this.map[t];if(n==e){for(var i=t%this.width,o=t/this.width|0,a=i+1,s=o+1,l=1;a<this.width&&this.map[t+l]==n;l++)a++;for(var c=1;s<this.height&&this.map[t+this.width*c]==n;c++)s++;return new ga(i,o,a,s)}}throw new RangeError("No cell with offset "+e+" found")};At.prototype.colCount=function(e){for(var t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError("No cell with offset "+e+" found")};At.prototype.nextCell=function(e,t,n){var i=this.findCell(e),o=i.left,a=i.right,s=i.top,l=i.bottom;return t=="horiz"?(n<0?o==0:a==this.width)?null:this.map[s*this.width+(n<0?o-1:a)]:(n<0?s==0:l==this.height)?null:this.map[o+this.width*(n<0?s-1:l)]};At.prototype.rectBetween=function(e,t){var n=this.findCell(e),i=n.left,o=n.right,a=n.top,s=n.bottom,l=this.findCell(t),c=l.left,u=l.right,p=l.top,d=l.bottom;return new ga(Math.min(i,c),Math.min(a,p),Math.max(o,u),Math.max(s,d))};At.prototype.cellsInRect=function(e){for(var t=[],n={},i=e.top;i<e.bottom;i++)for(var o=e.left;o<e.right;o++){var a=i*this.width+o,s=this.map[a];n[s]||(n[s]=!0,(o!=e.left||!o||this.map[a-1]!=s)&&(i!=e.top||!i||this.map[a-this.width]!=s)&&t.push(s))}return t};At.prototype.positionAt=function(e,t,n){for(var i=0,o=0;;i++){var a=o+n.child(i).nodeSize;if(i==e){for(var s=t+e*this.width,l=(e+1)*this.width;s<l&&this.map[s]<o;)s++;return s==l?a-1:this.map[s]}o=a}};At.get=function(e){return _p(e)||Np(e,v2(e))};function v2(r){if(r.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+r.type.name);for(var e=b2(r),t=r.childCount,n=[],i=0,o=null,a=[],s=0,l=e*t;s<l;s++)n[s]=0;for(var c=0,u=0;c<t;c++){var p=r.child(c);u++;for(var d=0;;d++){for(;i<n.length&&n[i]!=0;)i++;if(d==p.childCount)break;for(var h=p.child(d),f=h.attrs,g=f.colspan,m=f.rowspan,b=f.colwidth,v=0;v<m;v++){if(v+c>=t){(o||(o=[])).push({type:"overlong_rowspan",pos:u,n:m-v});break}for(var C=i+v*e,k=0;k<g;k++){n[C+k]==0?n[C+k]=u:(o||(o=[])).push({type:"collision",row:c,pos:u,n:g-k});var _=b&&b[k];if(_){var N=(C+k)%e*2,I=a[N];I==null||I!=_&&a[N+1]==1?(a[N]=_,a[N+1]=1):I==_&&a[N+1]++}}}i+=g,u+=h.nodeSize}for(var L=(c+1)*e,q=0;i<L;)n[i++]==0&&q++;q&&(o||(o=[])).push({type:"missing",row:c,n:q}),u++}for(var A=new At(e,t,n,o),z=!1,H=0;!z&&H<a.length;H+=2)a[H]!=null&&a[H+1]<t&&(z=!0);return z&&w2(A,a,r),A}function b2(r){for(var e=-1,t=!1,n=0;n<r.childCount;n++){var i=r.child(n),o=0;if(t)for(var a=0;a<n;a++)for(var s=r.child(a),l=0;l<s.childCount;l++){var c=s.child(l);a+c.attrs.rowspan>n&&(o+=c.attrs.colspan)}for(var u=0;u<i.childCount;u++){var p=i.child(u);o+=p.attrs.colspan,p.attrs.rowspan>1&&(t=!0)}e==-1?e=o:e!=o&&(e=Math.max(e,o))}return e}function w2(r,e,t){r.problems||(r.problems=[]);for(var n=0,i={};n<r.map.length;n++){var o=r.map[n];if(!i[o]){i[o]=!0;for(var a=t.nodeAt(o),s=null,l=0;l<a.attrs.colspan;l++){var c=(n+l)%r.width,u=e[c*2];u!=null&&(!a.attrs.colwidth||a.attrs.colwidth[l]!=u)&&((s||(s=y2(a.attrs)))[l]=u)}s&&r.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:s})}}}function y2(r){if(r.colwidth)return r.colwidth.slice();for(var e=[],t=0;t<r.colspan;t++)e.push(0);return e}function Ur(r){var e=r.cached.tableNodeTypes;if(!e){e=r.cached.tableNodeTypes={};for(var t in r.nodes){var n=r.nodes[t],i=n.spec.tableRole;i&&(e[i]=n)}}return e}var Yi=new Xr("selectingCells");function Ma(r){for(var e=r.depth-1;e>0;e--)if(r.node(e).type.spec.tableRole=="row")return r.node(0).resolve(r.before(e+1));return null}function x2(r){for(var e=r.depth;e>0;e--){var t=r.node(e).type.spec.tableRole;if(t==="cell"||t==="header_cell")return r.node(e)}return null}function pi(r){for(var e=r.selection.$head,t=e.depth;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return!0;return!1}function Vc(r){var e=r.selection;return e.$anchorCell?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:e.node&&e.node.type.spec.tableRole=="cell"?e.$anchor:Ma(e.$head)||k2(e.$head)}function k2(r){for(var e=r.nodeAfter,t=r.pos;e;e=e.firstChild,t++){var n=e.type.spec.tableRole;if(n=="cell"||n=="header_cell")return r.doc.resolve(t)}for(var i=r.nodeBefore,o=r.pos;i;i=i.lastChild,o--){var a=i.type.spec.tableRole;if(a=="cell"||a=="header_cell")return r.doc.resolve(o-i.nodeSize)}}function Pp(r){return r.parent.type.spec.tableRole=="row"&&r.nodeAfter}function C2(r){return r.node(0).resolve(r.pos+r.nodeAfter.nodeSize)}function Jd(r,e){return r.depth==e.depth&&r.pos>=e.start(-1)&&r.pos<=e.end(-1)}function Wb(r,e,t){var n=r.start(-1),i=At.get(r.node(-1)),o=i.nextCell(r.pos-n,e,t);return o==null?null:r.node(0).resolve(n+o)}function Cr(r,e,t){var n={};for(var i in r)n[i]=r[i];return n[e]=t,n}function Mo(r,e,t){t===void 0&&(t=1);var n=Cr(r,"colspan",r.colspan-t);return n.colwidth&&(n.colwidth=n.colwidth.slice(),n.colwidth.splice(e,t),n.colwidth.some(function(i){return i>0})||(n.colwidth=null)),n}function Vb(r,e,t){t===void 0&&(t=1);var n=Cr(r,"colspan",r.colspan+t);if(n.colwidth){n.colwidth=n.colwidth.slice();for(var i=0;i<t;i++)n.colwidth.splice(e,0,0)}return n}function S2(r,e,t){for(var n=Ur(e.type.schema).header_cell,i=0;i<r.height;i++)if(e.nodeAt(r.map[t+i*r.width]).type!=n)return!1;return!0}var zt=function(r){function e(t,n){n===void 0&&(n=t);var i=t.node(-1),o=At.get(i),a=t.start(-1),s=o.rectBetween(t.pos-a,n.pos-a),l=t.node(0),c=o.cellsInRect(s).filter(function(p){return p!=n.pos-a});c.unshift(n.pos-a);var u=c.map(function(p){var d=i.nodeAt(p),h=p+a+1;return new Nv(l.resolve(h),l.resolve(h+d.content.size))});r.call(this,u[0].$from,u[0].$to,u),this.$anchorCell=t,this.$headCell=n}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.map=function(n,i){var o=n.resolve(i.map(this.$anchorCell.pos)),a=n.resolve(i.map(this.$headCell.pos));if(Pp(o)&&Pp(a)&&Jd(o,a)){var s=this.$anchorCell.node(-1)!=o.node(-1);return s&&this.isRowSelection()?e.rowSelection(o,a):s&&this.isColSelection()?e.colSelection(o,a):new e(o,a)}return it.between(o,a)},e.prototype.content=function(){for(var n=this.$anchorCell.node(-1),i=At.get(n),o=this.$anchorCell.start(-1),a=i.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o),s={},l=[],c=a.top;c<a.bottom;c++){for(var u=[],p=c*i.width+a.left,d=a.left;d<a.right;d++,p++){var h=i.map[p];if(!s[h]){s[h]=!0;var f=i.findCell(h),g=n.nodeAt(h),m=a.left-f.left,b=f.right-a.right;if(m>0||b>0){var v=g.attrs;m>0&&(v=Mo(v,0,m)),b>0&&(v=Mo(v,v.colspan-b,b)),f.left<a.left?g=g.type.createAndFill(v):g=g.type.create(v,g.content)}if(f.top<a.top||f.bottom>a.bottom){var C=Cr(g.attrs,"rowspan",Math.min(f.bottom,a.bottom)-Math.max(f.top,a.top));f.top<a.top?g=g.type.createAndFill(C):g=g.type.create(C,g.content)}u.push(g)}}l.push(n.child(c).copy(Q.from(u)))}var k=this.isColSelection()&&this.isRowSelection()?n:l;return new ve(Q.from(k),1,1)},e.prototype.replace=function(n,i){i===void 0&&(i=ve.empty);for(var o=n.steps.length,a=this.ranges,s=0;s<a.length;s++){var l=a[s],c=l.$from,u=l.$to,p=n.mapping.slice(o);n.replace(p.map(c.pos),p.map(u.pos),s?ve.empty:i)}var d=r.findFrom(n.doc.resolve(n.mapping.slice(o).map(this.to)),-1);d&&n.setSelection(d)},e.prototype.replaceWith=function(n,i){this.replace(n,new ve(Q.from(i),0,0))},e.prototype.forEachCell=function(n){for(var i=this.$anchorCell.node(-1),o=At.get(i),a=this.$anchorCell.start(-1),s=o.cellsInRect(o.rectBetween(this.$anchorCell.pos-a,this.$headCell.pos-a)),l=0;l<s.length;l++)n(i.nodeAt(s[l]),a+s[l])},e.prototype.isColSelection=function(){var n=this.$anchorCell.index(-1),i=this.$headCell.index(-1);if(Math.min(n,i)>0)return!1;var o=n+this.$anchorCell.nodeAfter.attrs.rowspan,a=i+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(o,a)==this.$headCell.node(-1).childCount},e.colSelection=function(n,i){i===void 0&&(i=n);var o=At.get(n.node(-1)),a=n.start(-1),s=o.findCell(n.pos-a),l=o.findCell(i.pos-a),c=n.node(0);return s.top<=l.top?(s.top>0&&(n=c.resolve(a+o.map[s.left])),l.bottom<o.height&&(i=c.resolve(a+o.map[o.width*(o.height-1)+l.right-1]))):(l.top>0&&(i=c.resolve(a+o.map[l.left])),s.bottom<o.height&&(n=c.resolve(a+o.map[o.width*(o.height-1)+s.right-1]))),new e(n,i)},e.prototype.isRowSelection=function(){var n=At.get(this.$anchorCell.node(-1)),i=this.$anchorCell.start(-1),o=n.colCount(this.$anchorCell.pos-i),a=n.colCount(this.$headCell.pos-i);if(Math.min(o,a)>0)return!1;var s=o+this.$anchorCell.nodeAfter.attrs.colspan,l=a+this.$headCell.nodeAfter.attrs.colspan;return Math.max(s,l)==n.width},e.prototype.eq=function(n){return n instanceof e&&n.$anchorCell.pos==this.$anchorCell.pos&&n.$headCell.pos==this.$headCell.pos},e.rowSelection=function(n,i){i===void 0&&(i=n);var o=At.get(n.node(-1)),a=n.start(-1),s=o.findCell(n.pos-a),l=o.findCell(i.pos-a),c=n.node(0);return s.left<=l.left?(s.left>0&&(n=c.resolve(a+o.map[s.top*o.width])),l.right<o.width&&(i=c.resolve(a+o.map[o.width*(l.top+1)-1]))):(l.left>0&&(i=c.resolve(a+o.map[l.top*o.width])),s.right<o.width&&(n=c.resolve(a+o.map[o.width*(s.top+1)-1]))),new e(n,i)},e.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},e.fromJSON=function(n,i){return new e(n.resolve(i.anchor),n.resolve(i.head))},e.create=function(n,i,o){return o===void 0&&(o=i),new e(n.resolve(i),n.resolve(o))},e.prototype.getBookmark=function(){return new jl(this.$anchorCell.pos,this.$headCell.pos)},e}(Ie);zt.prototype.visible=!1;Ie.jsonID("cell",zt);var jl=function(e,t){this.anchor=e,this.head=t};jl.prototype.map=function(e){return new jl(e.map(this.anchor),e.map(this.head))};jl.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=e.resolve(this.head);return t.parent.type.spec.tableRole=="row"&&n.parent.type.spec.tableRole=="row"&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&Jd(t,n)?new zt(t,n):Ie.near(n,1)};function E2(r){if(!(r.selection instanceof zt))return null;var e=[];return r.selection.forEachCell(function(t,n){e.push(sr.node(n,n+t.nodeSize,{class:"selectedCell"}))}),Et.create(r.doc,e)}function D2(r){var e=r.$from,t=r.$to;if(e.pos==t.pos||e.pos<e.pos-6)return!1;for(var n=e.pos,i=t.pos,o=e.depth;o>=0&&!(e.after(o+1)<e.end(o));o--,n++);for(var a=t.depth;a>=0&&!(t.before(a+1)>t.start(a));a--,i--);return n==i&&/row|table/.test(e.node(o).type.spec.tableRole)}function A2(r){for(var e=r.$from,t=r.$to,n,i,o=e.depth;o>0;o--){var a=e.node(o);if(a.type.spec.tableRole==="cell"||a.type.spec.tableRole==="header_cell"){n=a;break}}for(var s=t.depth;s>0;s--){var l=t.node(s);if(l.type.spec.tableRole==="cell"||l.type.spec.tableRole==="header_cell"){i=l;break}}return n!==i&&t.parentOffset===0}function T2(r,e,t){var n=(e||r).selection,i=(e||r).doc,o,a;if(n instanceof Qe&&(a=n.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")o=zt.create(i,n.from);else if(a=="row"){var s=i.resolve(n.from+1);o=zt.rowSelection(s,s)}else if(!t){var l=At.get(n.node),c=n.from+1,u=c+l.map[l.width*l.height-1];o=zt.create(i,c+1,u)}}else n instanceof it&&D2(n)?o=it.create(i,n.from):n instanceof it&&A2(n)&&(o=it.create(i,n.$from.start(),n.$from.end()));return o&&(e||(e=r.tr)).setSelection(o),e}function M2(r){if(!r.size)return null;for(var e=r.content,t=r.openStart,n=r.openEnd;e.childCount==1&&(t>0&&n>0||e.firstChild.type.spec.tableRole=="table");)t--,n--,e=e.firstChild.content;var i=e.firstChild,o=i.type.spec.tableRole,a=i.type.schema,s=[];if(o=="row")for(var l=0;l<e.childCount;l++){var c=e.child(l).content,u=l?0:Math.max(0,t-1),p=l<e.childCount-1?0:Math.max(0,n-1);(u||p)&&(c=Ip(Ur(a).row,new ve(c,u,p)).content),s.push(c)}else if(o=="cell"||o=="header_cell")s.push(t||n?Ip(Ur(a).row,new ve(e,t,n)).content:e);else return null;return O2(a,s)}function O2(r,e){for(var t=[],n=0;n<e.length;n++)for(var i=e[n],o=i.childCount-1;o>=0;o--)for(var a=i.child(o).attrs,s=a.rowspan,l=a.colspan,c=n;c<n+s;c++)t[c]=(t[c]||0)+l;for(var u=0,p=0;p<t.length;p++)u=Math.max(u,t[p]);for(var d=0;d<t.length;d++)if(d>=e.length&&e.push(Q.empty),t[d]<u){for(var h=Ur(r).cell.createAndFill(),f=[],g=t[d];g<u;g++)f.push(h);e[d]=e[d].append(Q.from(f))}return{height:e.length,width:u,rows:e}}function Ip(r,e){var t=r.createAndFill(),n=new Yt(t).replace(0,t.content.size,e);return n.doc}function _2(r,e,t){var n=r.width,i=r.height,o=r.rows;if(n!=e){for(var a=[],s=[],l=0;l<o.length;l++){for(var c=o[l],u=[],p=a[l]||0,d=0;p<e;d++){var h=c.child(d%c.childCount);p+h.attrs.colspan>e&&(h=h.type.create(Mo(h.attrs,h.attrs.colspan,p+h.attrs.colspan-e),h.content)),u.push(h),p+=h.attrs.colspan;for(var f=1;f<h.attrs.rowspan;f++)a[l+f]=(a[l+f]||0)+h.attrs.colspan}s.push(Q.from(u))}o=s,n=e}if(i!=t){for(var g=[],m=0,b=0;m<t;m++,b++){for(var v=[],C=o[b%i],k=0;k<C.childCount;k++){var _=C.child(k);m+_.attrs.rowspan>t&&(_=_.type.create(Cr(_.attrs,"rowspan",Math.max(1,t-_.attrs.rowspan)),_.content)),v.push(_)}g.push(Q.from(v))}o=g,i=t}return{width:n,height:i,rows:o}}function N2(r,e,t,n,i,o,a){var s=r.doc.type.schema,l=Ur(s),c,u;if(i>e.width)for(var p=0,d=0;p<e.height;p++){var h=t.child(p);d+=h.nodeSize;var f=[],g=void 0;h.lastChild==null||h.lastChild.type==l.cell?g=c||(c=l.cell.createAndFill()):g=u||(u=l.header_cell.createAndFill());for(var m=e.width;m<i;m++)f.push(g);r.insert(r.mapping.slice(a).map(d-1+n),f)}if(o>e.height){for(var b=[],v=0,C=(e.height-1)*e.width;v<Math.max(e.width,i);v++){var k=v>=e.width?!1:t.nodeAt(e.map[C+v]).type==l.header_cell;b.push(k?u||(u=l.header_cell.createAndFill()):c||(c=l.cell.createAndFill()))}for(var _=l.row.create(null,Q.from(b)),N=[],I=e.height;I<o;I++)N.push(_);r.insert(r.mapping.slice(a).map(n+t.nodeSize-2),N)}return!!(c||u)}function Dh(r,e,t,n,i,o,a,s){if(a==0||a==e.height)return!1;for(var l=!1,c=i;c<o;c++){var u=a*e.width+c,p=e.map[u];if(e.map[u-e.width]==p){l=!0;var d=t.nodeAt(p),h=e.findCell(p),f=h.top,g=h.left;r.setNodeMarkup(r.mapping.slice(s).map(p+n),null,Cr(d.attrs,"rowspan",a-f)),r.insert(r.mapping.slice(s).map(e.positionAt(a,g,t)),d.type.createAndFill(Cr(d.attrs,"rowspan",f+d.attrs.rowspan-a))),c+=d.attrs.colspan-1}}return l}function Ah(r,e,t,n,i,o,a,s){if(a==0||a==e.width)return!1;for(var l=!1,c=i;c<o;c++){var u=c*e.width+a,p=e.map[u];if(e.map[u-1]==p){l=!0;var d=t.nodeAt(p),h=e.colCount(p),f=r.mapping.slice(s).map(p+n);r.setNodeMarkup(f,null,Mo(d.attrs,a-h,d.attrs.colspan-(a-h))),r.insert(f+d.nodeSize,d.type.createAndFill(Mo(d.attrs,0,a-h))),c+=d.attrs.rowspan-1}}return l}function Th(r,e,t,n,i){var o=t?r.doc.nodeAt(t-1):r.doc,a=At.get(o),s=n.top,l=n.left,c=l+i.width,u=s+i.height,p=r.tr,d=0;function h(){o=t?p.doc.nodeAt(t-1):p.doc,a=At.get(o),d=p.mapping.maps.length}N2(p,a,o,t,c,u,d)&&h(),Dh(p,a,o,t,l,c,s,d)&&h(),Dh(p,a,o,t,l,c,u,d)&&h(),Ah(p,a,o,t,s,u,l,d)&&h(),Ah(p,a,o,t,s,u,c,d)&&h();for(var f=s;f<u;f++){var g=a.positionAt(f,l,o),m=a.positionAt(f,c,o);p.replace(p.mapping.slice(d).map(g+t),p.mapping.slice(d).map(m+t),new ve(i.rows[f-s],0,0))}h(),p.setSelection(new zt(p.doc.resolve(t+a.positionAt(s,l,o)),p.doc.resolve(t+a.positionAt(u-1,c-1,o)))),e(p)}var P2=$d({ArrowLeft:rl("horiz",-1),ArrowRight:rl("horiz",1),ArrowUp:rl("vert",-1),ArrowDown:rl("vert",1),"Shift-ArrowLeft":nl("horiz",-1),"Shift-ArrowRight":nl("horiz",1),"Shift-ArrowUp":nl("vert",-1),"Shift-ArrowDown":nl("vert",1),Backspace:il,"Mod-Backspace":il,Delete:il,"Mod-Delete":il});function bl(r,e,t){return t.eq(r.selection)?!1:(e&&e(r.tr.setSelection(t).scrollIntoView()),!0)}function rl(r,e){return function(t,n,i){var o=t.selection;if(o instanceof zt)return bl(t,n,Ie.near(o.$headCell,e));if(r!="horiz"&&!o.empty)return!1;var a=Yb(i,r,e);if(a==null)return!1;if(r=="horiz")return bl(t,n,Ie.near(t.doc.resolve(o.head+e),e));var s=t.doc.resolve(a),l=Wb(s,r,e),c;return l?c=Ie.near(l,1):e<0?c=Ie.near(t.doc.resolve(s.before(-1)),-1):c=Ie.near(t.doc.resolve(s.after(-1)),1),bl(t,n,c)}}function nl(r,e){return function(t,n,i){var o=t.selection;if(!(o instanceof zt)){var a=Yb(i,r,e);if(a==null)return!1;o=new zt(t.doc.resolve(a))}var s=Wb(o.$headCell,r,e);return s?bl(t,n,new zt(o.$anchorCell,s)):!1}}function il(r,e){var t=r.selection;if(!(t instanceof zt))return!1;if(e){var n=r.tr,i=Ur(r.schema).cell.createAndFill().content;t.forEachCell(function(o,a){o.content.eq(i)||n.replace(n.mapping.map(a+1),n.mapping.map(a+o.nodeSize-1),new ve(i,0,0))}),n.docChanged&&e(n)}return!0}function I2(r,e){var t=r.state.doc,n=Ma(t.resolve(e));return n?(r.dispatch(r.state.tr.setSelection(new zt(n))),!0):!1}function z2(r,e,t){if(!pi(r.state))return!1;var n=M2(t),i=r.state.selection;if(i instanceof zt){n||(n={width:1,height:1,rows:[Q.from(Ip(Ur(r.state.schema).cell,t))]});var o=i.$anchorCell.node(-1),a=i.$anchorCell.start(-1),s=At.get(o).rectBetween(i.$anchorCell.pos-a,i.$headCell.pos-a);return n=_2(n,s.right-s.left,s.bottom-s.top),Th(r.state,r.dispatch,a,s,n),!0}else if(n){var l=Vc(r.state),c=l.start(-1);return Th(r.state,r.dispatch,c,At.get(l.node(-1)).findCell(l.pos-c),n),!0}else return!1}function F2(r,e){if(e.ctrlKey||e.metaKey)return;var t=Mh(r,e.target),n;if(e.shiftKey&&r.state.selection instanceof zt)i(r.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&t&&(n=Ma(r.state.selection.$anchor))!=null&&Nu(r,e).pos!=n.pos)i(n,e),e.preventDefault();else if(!t)return;function i(s,l){var c=Nu(r,l),u=Yi.getState(r.state)==null;if(!c||!Jd(s,c))if(u)c=s;else return;var p=new zt(s,c);if(u||!r.state.selection.eq(p)){var d=r.state.tr.setSelection(p);u&&d.setMeta(Yi,s.pos),r.dispatch(d)}}function o(){r.root.removeEventListener("mouseup",o),r.root.removeEventListener("dragstart",o),r.root.removeEventListener("mousemove",a),Yi.getState(r.state)!=null&&r.dispatch(r.state.tr.setMeta(Yi,-1))}function a(s){var l=Yi.getState(r.state),c;if(l!=null)c=r.state.doc.resolve(l);else if(Mh(r,s.target)!=t&&(c=Nu(r,e),!c))return o();c&&i(c,s)}r.root.addEventListener("mouseup",o),r.root.addEventListener("dragstart",o),r.root.addEventListener("mousemove",a)}function Yb(r,e,t){if(!(r.state.selection instanceof it))return null;for(var n=r.state.selection,i=n.$head,o=i.depth-1;o>=0;o--){var a=i.node(o),s=t<0?i.index(o):i.indexAfter(o);if(s!=(t<0?0:a.childCount))return null;if(a.type.spec.tableRole=="cell"||a.type.spec.tableRole=="header_cell"){var l=i.before(o),c=e=="vert"?t>0?"down":"up":t>0?"right":"left";return r.endOfTextblock(c)?l:null}}return null}function Mh(r,e){for(;e&&e!=r.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e}function Nu(r,e){var t=r.posAtCoords({left:e.clientX,top:e.clientY});return t&&t?Ma(r.state.doc.resolve(t.pos)):null}var R2=new Xr("fix-tables");function qb(r,e,t,n){var i=r.childCount,o=e.childCount;e:for(var a=0,s=0;a<o;a++){for(var l=e.child(a),c=s,u=Math.min(i,a+3);c<u;c++)if(r.child(c)==l){s=c+1,t+=l.nodeSize;continue e}n(l,t),s<i&&r.child(s).sameMarkup(l)?qb(r.child(s),l,t+1,n):l.nodesBetween(0,l.content.size,n,t+1),t+=l.nodeSize}}function Ub(r,e){var t,n=function(i,o){i.type.spec.tableRole=="table"&&(t=L2(r,i,o,t))};return e?e.doc!=r.doc&&qb(e.doc,r.doc,0,n):r.doc.descendants(n),t}function L2(r,e,t,n){var i=At.get(e);if(!i.problems)return n;n||(n=r.tr);for(var o=[],a=0;a<i.height;a++)o.push(0);for(var s=0;s<i.problems.length;s++){var l=i.problems[s];if(l.type=="collision"){for(var c=e.nodeAt(l.pos),u=0;u<c.attrs.rowspan;u++)o[l.row+u]+=l.n;n.setNodeMarkup(n.mapping.map(t+1+l.pos),null,Mo(c.attrs,c.attrs.colspan-l.n,l.n))}else if(l.type=="missing")o[l.row]+=l.n;else if(l.type=="overlong_rowspan"){var p=e.nodeAt(l.pos);n.setNodeMarkup(n.mapping.map(t+1+l.pos),null,Cr(p.attrs,"rowspan",p.attrs.rowspan-l.n))}else if(l.type=="colwidth mismatch"){var d=e.nodeAt(l.pos);n.setNodeMarkup(n.mapping.map(t+1+l.pos),null,Cr(d.attrs,"colwidth",l.colwidth))}}for(var h,f,g=0;g<o.length;g++)o[g]&&(h==null&&(h=g),f=g);for(var m=0,b=t+1;m<i.height;m++){var v=e.child(m),C=b+v.nodeSize,k=o[m];if(k>0){var _="cell";v.firstChild&&(_=v.firstChild.type.spec.tableRole);for(var N=[],I=0;I<k;I++)N.push(Ur(r.schema)[_].createAndFill());var L=(m==0||h==m-1)&&f==m?b+1:C-1;n.insert(n.mapping.map(L),N)}b=C}return n.setMeta(R2,{fixTables:!0})}function Ei(r){var e=r.selection,t=Vc(r),n=t.node(-1),i=t.start(-1),o=At.get(n),a;return e instanceof zt?a=o.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):a=o.findCell(t.pos-i),a.tableStart=i,a.map=o,a.table=n,a}function Jb(r,e,t){var n=e.map,i=e.tableStart,o=e.table,a=t>0?-1:0;S2(n,o,t+a)&&(a=t==0||t==n.width?null:0);for(var s=0;s<n.height;s++){var l=s*n.width+t;if(t>0&&t<n.width&&n.map[l-1]==n.map[l]){var c=n.map[l],u=o.nodeAt(c);r.setNodeMarkup(r.mapping.map(i+c),null,Vb(u.attrs,t-n.colCount(c))),s+=u.attrs.rowspan-1}else{var p=a==null?Ur(o.type.schema).cell:o.nodeAt(n.map[l+a]).type,d=n.positionAt(s,t,o);r.insert(r.mapping.map(i+d),p.createAndFill())}}return r}function B2(r,e){if(!pi(r))return!1;if(e){var t=Ei(r);e(Jb(r.tr,t,t.left))}return!0}function $2(r,e){if(!pi(r))return!1;if(e){var t=Ei(r);e(Jb(r.tr,t,t.right))}return!0}function H2(r,e,t){for(var n=e.map,i=e.table,o=e.tableStart,a=r.mapping.maps.length,s=0;s<n.height;){var l=s*n.width+t,c=n.map[l],u=i.nodeAt(c);if(t>0&&n.map[l-1]==c||t<n.width-1&&n.map[l+1]==c)r.setNodeMarkup(r.mapping.slice(a).map(o+c),null,Mo(u.attrs,t-n.colCount(c)));else{var p=r.mapping.slice(a).map(o+c);r.delete(p,p+u.nodeSize)}s+=u.attrs.rowspan}}function j2(r,e){if(!pi(r))return!1;if(e){var t=Ei(r),n=r.tr;if(t.left==0&&t.right==t.map.width)return!1;for(var i=t.right-1;H2(n,t,i),i!=t.left;i--)t.table=t.tableStart?n.doc.nodeAt(t.tableStart-1):n.doc,t.map=At.get(t.table);e(n)}return!0}function W2(r,e,t){for(var n=Ur(e.type.schema).header_cell,i=0;i<r.width;i++)if(e.nodeAt(r.map[i+t*r.width]).type!=n)return!1;return!0}function Xb(r,e,t){for(var n=e.map,i=e.tableStart,o=e.table,a=i,s=0;s<t;s++)a+=o.child(s).nodeSize;var l=[],c=t>0?-1:0;W2(n,o,t+c)&&(c=t==0||t==n.height?null:0);for(var u=0,p=n.width*t;u<n.width;u++,p++)if(t>0&&t<n.height&&n.map[p]==n.map[p-n.width]){var d=n.map[p],h=o.nodeAt(d).attrs;r.setNodeMarkup(i+d,null,Cr(h,"rowspan",h.rowspan+1)),u+=h.colspan-1}else{var f=c==null?Ur(o.type.schema).cell:o.nodeAt(n.map[p+c*n.width]).type;l.push(f.createAndFill())}return r.insert(a,Ur(o.type.schema).row.create(null,l)),r}function V2(r,e){if(!pi(r))return!1;if(e){var t=Ei(r);e(Xb(r.tr,t,t.top))}return!0}function Y2(r,e){if(!pi(r))return!1;if(e){var t=Ei(r);e(Xb(r.tr,t,t.bottom))}return!0}function q2(r,e,t){for(var n=e.map,i=e.table,o=e.tableStart,a=0,s=0;s<t;s++)a+=i.child(s).nodeSize;var l=a+i.child(t).nodeSize,c=r.mapping.maps.length;r.delete(a+o,l+o);for(var u=0,p=t*n.width;u<n.width;u++,p++){var d=n.map[p];if(t>0&&d==n.map[p-n.width]){var h=i.nodeAt(d).attrs;r.setNodeMarkup(r.mapping.slice(c).map(d+o),null,Cr(h,"rowspan",h.rowspan-1)),u+=h.colspan-1}else if(t<n.width&&d==n.map[p+n.width]){var f=i.nodeAt(d),g=f.type.create(Cr(f.attrs,"rowspan",f.attrs.rowspan-1),f.content),m=n.positionAt(t+1,u,i);r.insert(r.mapping.slice(c).map(o+m),g),u+=f.attrs.colspan-1}}}function U2(r,e){if(!pi(r))return!1;if(e){var t=Ei(r),n=r.tr;if(t.top==0&&t.bottom==t.map.height)return!1;for(var i=t.bottom-1;q2(n,t,i),i!=t.top;i--)t.table=t.tableStart?n.doc.nodeAt(t.tableStart-1):n.doc,t.map=At.get(t.table);e(n)}return!0}function Oh(r){var e=r.content;return e.childCount==1&&e.firstChild.isTextblock&&e.firstChild.childCount==0}function J2(r,e){for(var t=r.width,n=r.height,i=r.map,o=e.top*t+e.left,a=o,s=(e.bottom-1)*t+e.left,l=o+(e.right-e.left-1),c=e.top;c<e.bottom;c++){if(e.left>0&&i[a]==i[a-1]||e.right<t&&i[l]==i[l+1])return!0;a+=t,l+=t}for(var u=e.left;u<e.right;u++){if(e.top>0&&i[o]==i[o-t]||e.bottom<n&&i[s]==i[s+t])return!0;o++,s++}return!1}function _h(r,e){var t=r.selection;if(!(t instanceof zt)||t.$anchorCell.pos==t.$headCell.pos)return!1;var n=Ei(r),i=n.map;if(J2(i,n))return!1;if(e){for(var o=r.tr,a={},s=Q.empty,l,c,u=n.top;u<n.bottom;u++)for(var p=n.left;p<n.right;p++){var d=i.map[u*i.width+p],h=n.table.nodeAt(d);if(!a[d])if(a[d]=!0,l==null)l=d,c=h;else{Oh(h)||(s=s.append(h.content));var f=o.mapping.map(d+n.tableStart);o.delete(f,f+h.nodeSize)}}if(o.setNodeMarkup(l+n.tableStart,null,Cr(Vb(c.attrs,c.attrs.colspan,n.right-n.left-c.attrs.colspan),"rowspan",n.bottom-n.top)),s.size){var g=l+1+c.content.size,m=Oh(c)?l+1:g;o.replaceWith(m+n.tableStart,g+n.tableStart,s)}o.setSelection(new zt(o.doc.resolve(l+n.tableStart))),e(o)}return!0}function Nh(r,e){var t=Ur(r.schema);return X2(function(n){var i=n.node;return t[i.type.spec.tableRole]})(r,e)}function X2(r){return function(e,t){var n=e.selection,i,o;if(n instanceof zt){if(n.$anchorCell.pos!=n.$headCell.pos)return!1;i=n.$anchorCell.nodeAfter,o=n.$anchorCell.pos}else{if(i=x2(n.$from),!i)return!1;o=Ma(n.$from).pos}if(i.attrs.colspan==1&&i.attrs.rowspan==1)return!1;if(t){var a=i.attrs,s=[],l=a.colwidth;a.rowspan>1&&(a=Cr(a,"rowspan",1)),a.colspan>1&&(a=Cr(a,"colspan",1));for(var c=Ei(e),u=e.tr,p=0;p<c.right-c.left;p++)s.push(l?Cr(a,"colwidth",l&&l[p]?[l[p]]:null):a);for(var d,h=c.top;h<c.bottom;h++){var f=c.map.positionAt(h,c.left,c.table);h==c.top&&(f+=i.nodeSize);for(var g=c.left,m=0;g<c.right;g++,m++)g==c.left&&h==c.top||u.insert(d=u.mapping.map(f+c.tableStart,1),r({node:i,row:h,col:g}).createAndFill(s[m]))}u.setNodeMarkup(o,r({node:i,row:c.top,col:c.left}),s[0]),n instanceof zt&&u.setSelection(new zt(u.doc.resolve(n.$anchorCell.pos),d&&u.doc.resolve(d))),t(u)}return!0}}function G2(r,e){return function(t,n){if(!pi(t))return!1;var i=Vc(t);if(i.nodeAfter.attrs[r]===e)return!1;if(n){var o=t.tr;t.selection instanceof zt?t.selection.forEachCell(function(a,s){a.attrs[r]!==e&&o.setNodeMarkup(s,null,Cr(a.attrs,r,e))}):o.setNodeMarkup(i.pos,null,Cr(i.nodeAfter.attrs,r,e)),n(o)}return!0}}function K2(r){return function(e,t){if(!pi(e))return!1;if(t){for(var n=Ur(e.schema),i=Ei(e),o=e.tr,a=i.map.cellsInRect(r=="column"?new ga(i.left,0,i.right,i.map.height):r=="row"?new ga(0,i.top,i.map.width,i.bottom):i),s=a.map(function(u){return i.table.nodeAt(u)}),l=0;l<a.length;l++)s[l].type==n.header_cell&&o.setNodeMarkup(i.tableStart+a[l],n.cell,s[l].attrs);if(o.steps.length==0)for(var c=0;c<a.length;c++)o.setNodeMarkup(i.tableStart+a[c],n.header_cell,s[c].attrs);t(o)}return!0}}function Ph(r,e,t){for(var n=e.map.cellsInRect({left:0,top:0,right:r=="row"?e.map.width:1,bottom:r=="column"?e.map.height:1}),i=0;i<n.length;i++){var o=e.table.nodeAt(n[i]);if(o&&o.type!==t.header_cell)return!1}return!0}function Es(r,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?K2(r):function(t,n){if(!pi(t))return!1;if(n){var i=Ur(t.schema),o=Ei(t),a=t.tr,s=Ph("row",o,i),l=Ph("column",o,i),c=r==="column"?s:r==="row"?l:!1,u=c?1:0,p=r=="column"?new ga(0,u,1,o.map.height):r=="row"?new ga(u,0,o.map.width,1):o,d=r=="column"?l?i.cell:i.header_cell:r=="row"?s?i.cell:i.header_cell:i.cell;o.map.cellsInRect(p).forEach(function(h){var f=h+o.tableStart,g=a.doc.nodeAt(f);g&&a.setNodeMarkup(f,d,g.attrs)}),n(a)}return!0}}Es("row",{useDeprecatedLogic:!0});Es("column",{useDeprecatedLogic:!0});var Z2=Es("cell",{useDeprecatedLogic:!0});function Q2(r,e){if(e<0){var t=r.nodeBefore;if(t)return r.pos-t.nodeSize;for(var n=r.index(-1)-1,i=r.before();n>=0;n--){var o=r.node(-1).child(n);if(o.childCount)return i-1-o.lastChild.nodeSize;i-=o.nodeSize}}else{if(r.index()<r.parent.childCount-1)return r.pos+r.nodeAfter.nodeSize;for(var a=r.node(-1),s=r.indexAfter(-1),l=r.after();s<a.childCount;s++){var c=a.child(s);if(c.childCount)return l+1;l+=c.nodeSize}}}function Ih(r){return function(e,t){if(!pi(e))return!1;var n=Q2(Vc(e),r);if(n!=null){if(t){var i=e.doc.resolve(n);t(e.tr.setSelection(it.between(i,C2(i))).scrollIntoView())}return!0}}}function eD(r,e){for(var t=r.selection.$anchor,n=t.depth;n>0;n--){var i=t.node(n);if(i.type.spec.tableRole=="table")return e&&e(r.tr.delete(t.before(n),t.after(n)).scrollIntoView()),!0}return!1}var Xd=function(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Gd(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};Xd.prototype.update=function(e){return e.type!=this.node.type?!1:(this.node=e,Gd(e,this.colgroup,this.table,this.cellMinWidth),!0)};Xd.prototype.ignoreMutation=function(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))};function Gd(r,e,t,n,i,o){for(var a=0,s=!0,l=e.firstChild,c=r.firstChild,u=0,p=0;u<c.childCount;u++)for(var d=c.child(u).attrs,h=d.colspan,f=d.colwidth,g=0;g<h;g++,p++){var m=i==p?o:f&&f[g],b=m?m+"px":"";a+=m||n,m||(s=!1),l?(l.style.width!=b&&(l.style.width=b),l=l.nextSibling):e.appendChild(document.createElement("col")).style.width=b}for(;l;){var v=l.nextSibling;l.parentNode.removeChild(l),l=v}s?(t.style.width=a+"px",t.style.minWidth=""):(t.style.width="",t.style.minWidth=a+"px")}var Xn=new Xr("tableColumnResizing");function tD(r){r===void 0&&(r={});var e=r.handleWidth;e===void 0&&(e=5);var t=r.cellMinWidth;t===void 0&&(t=25);var n=r.View;n===void 0&&(n=Xd);var i=r.lastColumnResizable;i===void 0&&(i=!0);var o=new Dr({key:Xn,state:{init:function(s,l){return this.spec.props.nodeViews[Ur(l.schema).table.name]=function(c,u){return new n(c,t,u)},new qa(-1,!1)},apply:function(s,l){return l.apply(s)}},props:{attributes:function(s){var l=Xn.getState(s);return l.activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(s,l){rD(s,l,e,t,i)},mouseleave:function(s){nD(s)},mousedown:function(s,l){iD(s,l,t)}},decorations:function(s){var l=Xn.getState(s);if(l.activeHandle>-1)return uD(s,l.activeHandle)},nodeViews:{}}});return o}var qa=function(e,t){this.activeHandle=e,this.dragging=t};qa.prototype.apply=function(e){var t=this,n=e.getMeta(Xn);if(n&&n.setHandle!=null)return new qa(n.setHandle,null);if(n&&n.setDragging!==void 0)return new qa(t.activeHandle,n.setDragging);if(t.activeHandle>-1&&e.docChanged){var i=e.mapping.map(t.activeHandle,-1);Pp(e.doc.resolve(i))||(i=null),t=new qa(i,t.dragging)}return t};function rD(r,e,t,n,i){var o=Xn.getState(r.state);if(!o.dragging){var a=aD(e.target),s=-1;if(a){var l=a.getBoundingClientRect(),c=l.left,u=l.right;e.clientX-c<=t?s=zh(r,e,"left"):u-e.clientX<=t&&(s=zh(r,e,"right"))}if(s!=o.activeHandle){if(!i&&s!==-1){var p=r.state.doc.resolve(s),d=p.node(-1),h=At.get(d),f=p.start(-1),g=h.colCount(p.pos-f)+p.nodeAfter.attrs.colspan-1;if(g==h.width-1)return}Gb(r,s)}}}function nD(r){var e=Xn.getState(r.state);e.activeHandle>-1&&!e.dragging&&Gb(r,-1)}function iD(r,e,t){var n=Xn.getState(r.state);if(n.activeHandle==-1||n.dragging)return!1;var i=r.state.doc.nodeAt(n.activeHandle),o=oD(r,n.activeHandle,i.attrs);r.dispatch(r.state.tr.setMeta(Xn,{setDragging:{startX:e.clientX,startWidth:o}}));function a(l){window.removeEventListener("mouseup",a),window.removeEventListener("mousemove",s);var c=Xn.getState(r.state);c.dragging&&(sD(r,c.activeHandle,Fh(c.dragging,l,t)),r.dispatch(r.state.tr.setMeta(Xn,{setDragging:null})))}function s(l){if(!l.which)return a(l);var c=Xn.getState(r.state),u=Fh(c.dragging,l,t);lD(r,c.activeHandle,u,t)}return window.addEventListener("mouseup",a),window.addEventListener("mousemove",s),e.preventDefault(),!0}function oD(r,e,t){var n=t.colspan,i=t.colwidth,o=i&&i[i.length-1];if(o)return o;var a=r.domAtPos(e),s=a.node.childNodes[a.offset],l=s.offsetWidth,c=n;if(i)for(var u=0;u<n;u++)i[u]&&(l-=i[u],c--);return l/c}function aD(r){for(;r&&r.nodeName!="TD"&&r.nodeName!="TH";)r=r.classList.contains("ProseMirror")?null:r.parentNode;return r}function zh(r,e,t){var n=r.posAtCoords({left:e.clientX,top:e.clientY});if(!n)return-1;var i=n.pos,o=Ma(r.state.doc.resolve(i));if(!o)return-1;if(t=="right")return o.pos;var a=At.get(o.node(-1)),s=o.start(-1),l=a.map.indexOf(o.pos-s);return l%a.width==0?-1:s+a.map[l-1]}function Fh(r,e,t){var n=e.clientX-r.startX;return Math.max(t,r.startWidth+n)}function Gb(r,e){r.dispatch(r.state.tr.setMeta(Xn,{setHandle:e}))}function sD(r,e,t){for(var n=r.state.doc.resolve(e),i=n.node(-1),o=At.get(i),a=n.start(-1),s=o.colCount(n.pos-a)+n.nodeAfter.attrs.colspan-1,l=r.state.tr,c=0;c<o.height;c++){var u=c*o.width+s;if(!(c&&o.map[u]==o.map[u-o.width])){var p=o.map[u],d=i.nodeAt(p),h=d.attrs,f=h.colspan==1?0:s-o.colCount(p);if(!(h.colwidth&&h.colwidth[f]==t)){var g=h.colwidth?h.colwidth.slice():cD(h.colspan);g[f]=t,l.setNodeMarkup(a+p,null,Cr(h,"colwidth",g))}}}l.docChanged&&r.dispatch(l)}function lD(r,e,t,n){for(var i=r.state.doc.resolve(e),o=i.node(-1),a=i.start(-1),s=At.get(o).colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1,l=r.domAtPos(i.start(-1)).node;l.nodeName!="TABLE";)l=l.parentNode;Gd(o,l.firstChild,l,n,s,t)}function cD(r){for(var e=[],t=0;t<r;t++)e.push(0);return e}function uD(r,e){for(var t=[],n=r.doc.resolve(e),i=n.node(-1),o=At.get(i),a=n.start(-1),s=o.colCount(n.pos-a)+n.nodeAfter.attrs.colspan,l=0;l<o.height;l++){var c=s+l*o.width-1;if((s==o.width||o.map[c]!=o.map[c+1])&&(l==0||o.map[c-1]!=o.map[c-1-o.width])){var u=o.map[c],p=a+u+i.nodeAt(u).nodeSize-1,d=document.createElement("div");d.className="column-resize-handle",t.push(sr.widget(p,d))}}return Et.create(r.doc,t)}function pD(r){r===void 0&&(r={});var e=r.allowTableNodeSelection;return e===void 0&&(e=!1),new Dr({key:Yi,state:{init:function(){return null},apply:function(n,i){var o=n.getMeta(Yi);if(o!=null)return o==-1?null:o;if(i==null||!n.docChanged)return i;var a=n.mapping.mapResult(i),s=a.deleted,l=a.pos;return s?null:l}},props:{decorations:E2,handleDOMEvents:{mousedown:F2},createSelectionBetween:function(n){if(Yi.getState(n.state)!=null)return n.state.selection},handleTripleClick:I2,handleKeyDown:P2,handlePaste:z2},appendTransaction:function(n,i,o){return T2(o,Ub(o,i),e)}})}function Kb(r,e,t){for(var n=0;;n++){if(n==r.childCount||n==e.childCount)return r.childCount==e.childCount?null:t;var i=r.child(n),o=e.child(n);if(i==o){t+=i.nodeSize;continue}if(!i.sameMarkup(o))return t;if(i.isText&&i.text!=o.text){for(var a=0;i.text[a]==o.text[a];a++)t++;return t}if(i.content.size||o.content.size){var s=Kb(i.content,o.content,t+1);if(s!=null)return s}t+=i.nodeSize}}function Zb(r,e,t,n){for(var i=r.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:t,b:n};var a=r.child(--i),s=e.child(--o),l=a.nodeSize;if(a==s){t-=l,n-=l;continue}if(!a.sameMarkup(s))return{a:t,b:n};if(a.isText&&a.text!=s.text){for(var c=0,u=Math.min(a.text.length,s.text.length);c<u&&a.text[a.text.length-c-1]==s.text[s.text.length-c-1];)c++,t--,n--;return{a:t,b:n}}if(a.content.size||s.content.size){var p=Zb(a.content,s.content,t-1,n-1);if(p)return p}t-=l,n-=l}}var be=function(e,t){if(this.content=e,this.size=t||0,t==null)for(var n=0;n<e.length;n++)this.size+=e[n].nodeSize},Yc={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};be.prototype.nodesBetween=function(e,t,n,i,o){i===void 0&&(i=0);for(var a=0,s=0;s<t;a++){var l=this.content[a],c=s+l.nodeSize;if(c>e&&n(l,i+s,o,a)!==!1&&l.content.size){var u=s+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,t-u),n,i+u)}s=c}};be.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)};be.prototype.textBetween=function(e,t,n,i){var o="",a=!0;return this.nodesBetween(e,t,function(s,l){s.isText?(o+=s.text.slice(Math.max(e,l)-l,t-l),a=!n):s.isLeaf&&i?(o+=typeof i=="function"?i(s):i,a=!n):!a&&s.isBlock&&(o+=n,a=!0)},0),o};be.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var t=this.lastChild,n=e.firstChild,i=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(i[i.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new be(i,this.size+e.size)};be.prototype.cut=function(e,t){if(t==null&&(t=this.size),e==0&&t==this.size)return this;var n=[],i=0;if(t>e)for(var o=0,a=0;a<t;o++){var s=this.content[o],l=a+s.nodeSize;l>e&&((a<e||l>t)&&(s.isText?s=s.cut(Math.max(0,e-a),Math.min(s.text.length,t-a)):s=s.cut(Math.max(0,e-a-1),Math.min(s.content.size,t-a-1))),n.push(s),i+=s.nodeSize),a=l}return new be(n,i)};be.prototype.cutByIndex=function(e,t){return e==t?be.empty:e==0&&t==this.content.length?this:new be(this.content.slice(e,t))};be.prototype.replaceChild=function(e,t){var n=this.content[e];if(n==t)return this;var i=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return i[e]=t,new be(i,o)};be.prototype.addToStart=function(e){return new be([e].concat(this.content),this.size+e.nodeSize)};be.prototype.addToEnd=function(e){return new be(this.content.concat(e),this.size+e.nodeSize)};be.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0};Yc.firstChild.get=function(){return this.content.length?this.content[0]:null};Yc.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null};Yc.childCount.get=function(){return this.content.length};be.prototype.child=function(e){var t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t};be.prototype.maybeChild=function(e){return this.content[e]};be.prototype.forEach=function(e){for(var t=0,n=0;t<this.content.length;t++){var i=this.content[t];e(i,n,t),n+=i.nodeSize}};be.prototype.findDiffStart=function(e,t){return t===void 0&&(t=0),Kb(this,e,t)};be.prototype.findDiffEnd=function(e,t,n){return t===void 0&&(t=this.size),n===void 0&&(n=e.size),Zb(this,e,t,n)};be.prototype.findIndex=function(e,t){if(t===void 0&&(t=-1),e==0)return ol(0,e);if(e==this.size)return ol(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var n=0,i=0;;n++){var o=this.child(n),a=i+o.nodeSize;if(a>=e)return a==e||t>0?ol(n+1,a):ol(n,i);i=a}};be.prototype.toString=function(){return"<"+this.toStringInner()+">"};be.prototype.toStringInner=function(){return this.content.join(", ")};be.prototype.toJSON=function(){return this.content.length?this.content.map(function(e){return e.toJSON()}):null};be.fromJSON=function(e,t){if(!t)return be.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new be(t.map(e.nodeFromJSON))};be.fromArray=function(e){if(!e.length)return be.empty;for(var t,n=0,i=0;i<e.length;i++){var o=e[i];n+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(t||(t=e.slice(0,i)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new be(t||e,n)};be.from=function(e){if(!e)return be.empty;if(e instanceof be)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new be([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))};Object.defineProperties(be.prototype,Yc);var Pu={index:0,offset:0};function ol(r,e){return Pu.index=r,Pu.offset=e,Pu}be.empty=new be([],0);function Wl(r,e){if(r===e)return!0;if(!(r&&typeof r=="object")||!(e&&typeof e=="object"))return!1;var t=Array.isArray(r);if(Array.isArray(e)!=t)return!1;if(t){if(r.length!=e.length)return!1;for(var n=0;n<r.length;n++)if(!Wl(r[n],e[n]))return!1}else{for(var i in r)if(!(i in e)||!Wl(r[i],e[i]))return!1;for(var o in e)if(!(o in r))return!1}return!0}var gt=function(e,t){this.type=e,this.attrs=t};gt.prototype.addToSet=function(e){for(var t,n=!1,i=0;i<e.length;i++){var o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t};gt.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e};gt.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1};gt.prototype.eq=function(e){return this==e||this.type==e.type&&Wl(this.attrs,e.attrs)};gt.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e};gt.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");var n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type "+t.type+" in this schema");return n.create(t.attrs)};gt.sameSet=function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0};gt.setFrom=function(e){if(!e||e.length==0)return gt.none;if(e instanceof gt)return[e];var t=e.slice();return t.sort(function(n,i){return n.type.rank-i.type.rank}),t};gt.none=[];function ki(r){var e=Error.call(this,r);return e.__proto__=ki.prototype,e}ki.prototype=Object.create(Error.prototype);ki.prototype.constructor=ki;ki.prototype.name="ReplaceError";var ze=function(e,t,n){this.content=e,this.openStart=t,this.openEnd=n},Qb={size:{configurable:!0}};Qb.size.get=function(){return this.content.size-this.openStart-this.openEnd};ze.prototype.insertAt=function(e,t){var n=tw(this.content,e+this.openStart,t,null);return n&&new ze(n,this.openStart,this.openEnd)};ze.prototype.removeBetween=function(e,t){return new ze(ew(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)};ze.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd};ze.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"};ze.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e};ze.fromJSON=function(e,t){if(!t)return ze.empty;var n=t.openStart||0,i=t.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ze(be.fromJSON(e,t.content),n,i)};ze.maxOpen=function(e,t){t===void 0&&(t=!0);for(var n=0,i=0,o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)n++;for(var a=e.lastChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.lastChild)i++;return new ze(e,n,i)};Object.defineProperties(ze.prototype,Qb);function ew(r,e,t){var n=r.findIndex(e),i=n.index,o=n.offset,a=r.maybeChild(i),s=r.findIndex(t),l=s.index,c=s.offset;if(o==e||a.isText){if(c!=t&&!r.child(l).isText)throw new RangeError("Removing non-flat range");return r.cut(0,e).append(r.cut(t))}if(i!=l)throw new RangeError("Removing non-flat range");return r.replaceChild(i,a.copy(ew(a.content,e-o-1,t-o-1)))}function tw(r,e,t,n){var i=r.findIndex(e),o=i.index,a=i.offset,s=r.maybeChild(o);if(a==e||s.isText)return n&&!n.canReplace(o,o,t)?null:r.cut(0,e).append(t).append(r.cut(e));var l=tw(s.content,e-a-1,t);return l&&r.replaceChild(o,s.copy(l))}ze.empty=new ze(be.empty,0,0);function dD(r,e,t){if(t.openStart>r.depth)throw new ki("Inserted content deeper than insertion position");if(r.depth-t.openStart!=e.depth-t.openEnd)throw new ki("Inconsistent open depths");return rw(r,e,t,0)}function rw(r,e,t,n){var i=r.index(n),o=r.node(n);if(i==e.index(n)&&n<r.depth-t.openStart){var a=rw(r,e,t,n+1);return o.copy(o.content.replaceChild(i,a))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&r.depth==n&&e.depth==n){var s=r.parent,l=s.content;return So(s,l.cut(0,r.parentOffset).append(t.content).append(l.cut(e.parentOffset)))}else{var c=fD(t,r),u=c.start,p=c.end;return So(o,iw(r,u,p,e,n))}else return So(o,Vl(r,e,n))}function nw(r,e){if(!e.type.compatibleContent(r.type))throw new ki("Cannot join "+e.type.name+" onto "+r.type.name)}function zp(r,e,t){var n=r.node(t);return nw(n,e.node(t)),n}function Co(r,e){var t=e.length-1;t>=0&&r.isText&&r.sameMarkup(e[t])?e[t]=r.withText(e[t].text+r.text):e.push(r)}function as(r,e,t,n){var i=(e||r).node(t),o=0,a=e?e.index(t):i.childCount;r&&(o=r.index(t),r.depth>t?o++:r.textOffset&&(Co(r.nodeAfter,n),o++));for(var s=o;s<a;s++)Co(i.child(s),n);e&&e.depth==t&&e.textOffset&&Co(e.nodeBefore,n)}function So(r,e){if(!r.type.validContent(e))throw new ki("Invalid content for node "+r.type.name);return r.copy(e)}function iw(r,e,t,n,i){var o=r.depth>i&&zp(r,e,i+1),a=n.depth>i&&zp(t,n,i+1),s=[];return as(null,r,i,s),o&&a&&e.index(i)==t.index(i)?(nw(o,a),Co(So(o,iw(r,e,t,n,i+1)),s)):(o&&Co(So(o,Vl(r,e,i+1)),s),as(e,t,i,s),a&&Co(So(a,Vl(t,n,i+1)),s)),as(n,null,i,s),new be(s)}function Vl(r,e,t){var n=[];if(as(null,r,t,n),r.depth>t){var i=zp(r,e,t+1);Co(So(i,Vl(r,e,t+1)),n)}return as(e,null,t,n),new be(n)}function fD(r,e){for(var t=e.depth-r.openStart,n=e.node(t),i=n.copy(r.content),o=t-1;o>=0;o--)i=e.node(o).copy(be.from(i));return{start:i.resolveNoCache(r.openStart+t),end:i.resolveNoCache(i.content.size-r.openEnd-t)}}var Wt=function(e,t,n){this.pos=e,this.path=t,this.depth=t.length/3-1,this.parentOffset=n},Oa={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};Wt.prototype.resolveDepth=function(e){return e==null?this.depth:e<0?this.depth+e:e};Oa.parent.get=function(){return this.node(this.depth)};Oa.doc.get=function(){return this.node(0)};Wt.prototype.node=function(e){return this.path[this.resolveDepth(e)*3]};Wt.prototype.index=function(e){return this.path[this.resolveDepth(e)*3+1]};Wt.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)};Wt.prototype.start=function(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1};Wt.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size};Wt.prototype.before=function(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]};Wt.prototype.after=function(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize};Oa.textOffset.get=function(){return this.pos-this.path[this.path.length-1]};Oa.nodeAfter.get=function(){var r=this.parent,e=this.index(this.depth);if(e==r.childCount)return null;var t=this.pos-this.path[this.path.length-1],n=r.child(e);return t?r.child(e).cut(t):n};Oa.nodeBefore.get=function(){var r=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(r).cut(0,e):r==0?null:this.parent.child(r-1)};Wt.prototype.posAtIndex=function(e,t){t=this.resolveDepth(t);for(var n=this.path[t*3],i=t==0?0:this.path[t*3-1]+1,o=0;o<e;o++)i+=n.child(o).nodeSize;return i};Wt.prototype.marks=function(){var e=this.parent,t=this.index();if(e.content.size==0)return gt.none;if(this.textOffset)return e.child(t).marks;var n=e.maybeChild(t-1),i=e.maybeChild(t);if(!n){var o=n;n=i,i=o}for(var a=n.marks,s=0;s<a.length;s++)a[s].type.spec.inclusive===!1&&(!i||!a[s].isInSet(i.marks))&&(a=a[s--].removeFromSet(a));return a};Wt.prototype.marksAcross=function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var n=t.marks,i=e.parent.maybeChild(e.index()),o=0;o<n.length;o++)n[o].type.spec.inclusive===!1&&(!i||!n[o].isInSet(i.marks))&&(n=n[o--].removeFromSet(n));return n};Wt.prototype.sharedDepth=function(e){for(var t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0};Wt.prototype.blockRange=function(e,t){if(e===void 0&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new ow(this,e,n)};Wt.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset};Wt.prototype.max=function(e){return e.pos>this.pos?e:this};Wt.prototype.min=function(e){return e.pos<this.pos?e:this};Wt.prototype.toString=function(){for(var e="",t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset};Wt.resolve=function(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");for(var n=[],i=0,o=t,a=e;;){var s=a.content.findIndex(o),l=s.index,c=s.offset,u=o-c;if(n.push(a,l,i+c),!u||(a=a.child(l),a.isText))break;o=u-1,i+=c+1}return new Wt(t,n,o)};Wt.resolveCached=function(e,t){for(var n=0;n<Iu.length;n++){var i=Iu[n];if(i.pos==t&&i.doc==e)return i}var o=Iu[zu]=Wt.resolve(e,t);return zu=(zu+1)%hD,o};Object.defineProperties(Wt.prototype,Oa);var Iu=[],zu=0,hD=12,ow=function(e,t,n){this.$from=e,this.$to=t,this.depth=n},_a={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};_a.start.get=function(){return this.$from.before(this.depth+1)};_a.end.get=function(){return this.$to.after(this.depth+1)};_a.parent.get=function(){return this.$from.node(this.depth)};_a.startIndex.get=function(){return this.$from.index(this.depth)};_a.endIndex.get=function(){return this.$to.indexAfter(this.depth)};Object.defineProperties(ow.prototype,_a);var gD=Object.create(null),mt=function(e,t,n,i){this.type=e,this.attrs=t,this.content=n||be.empty,this.marks=i||gt.none},Bn={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};Bn.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size};Bn.childCount.get=function(){return this.content.childCount};mt.prototype.child=function(e){return this.content.child(e)};mt.prototype.maybeChild=function(e){return this.content.maybeChild(e)};mt.prototype.forEach=function(e){this.content.forEach(e)};mt.prototype.nodesBetween=function(e,t,n,i){i===void 0&&(i=0),this.content.nodesBetween(e,t,n,i,this)};mt.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)};Bn.textContent.get=function(){return this.textBetween(0,this.content.size,"")};mt.prototype.textBetween=function(e,t,n,i){return this.content.textBetween(e,t,n,i)};Bn.firstChild.get=function(){return this.content.firstChild};Bn.lastChild.get=function(){return this.content.lastChild};mt.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)};mt.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)};mt.prototype.hasMarkup=function(e,t,n){return this.type==e&&Wl(this.attrs,t||e.defaultAttrs||gD)&&gt.sameSet(this.marks,n||gt.none)};mt.prototype.copy=function(e){return e===void 0&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)};mt.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)};mt.prototype.cut=function(e,t){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))};mt.prototype.slice=function(e,t,n){if(t===void 0&&(t=this.content.size),n===void 0&&(n=!1),e==t)return ze.empty;var i=this.resolve(e),o=this.resolve(t),a=n?0:i.sharedDepth(t),s=i.start(a),l=i.node(a),c=l.content.cut(i.pos-s,o.pos-s);return new ze(c,i.depth-a,o.depth-a)};mt.prototype.replace=function(e,t,n){return dD(this.resolve(e),this.resolve(t),n)};mt.prototype.nodeAt=function(e){for(var t=this;;){var n=t.content.findIndex(e),i=n.index,o=n.offset;if(t=t.maybeChild(i),!t)return null;if(o==e||t.isText)return t;e-=o+1}};mt.prototype.childAfter=function(e){var t=this.content.findIndex(e),n=t.index,i=t.offset;return{node:this.content.maybeChild(n),index:n,offset:i}};mt.prototype.childBefore=function(e){if(e==0)return{node:null,index:0,offset:0};var t=this.content.findIndex(e),n=t.index,i=t.offset;if(i<e)return{node:this.content.child(n),index:n,offset:i};var o=this.content.child(n-1);return{node:o,index:n-1,offset:i-o.nodeSize}};mt.prototype.resolve=function(e){return Wt.resolveCached(this,e)};mt.prototype.resolveNoCache=function(e){return Wt.resolve(this,e)};mt.prototype.rangeHasMark=function(e,t,n){var i=!1;return t>e&&this.nodesBetween(e,t,function(o){return n.isInSet(o.marks)&&(i=!0),!i}),i};Bn.isBlock.get=function(){return this.type.isBlock};Bn.isTextblock.get=function(){return this.type.isTextblock};Bn.inlineContent.get=function(){return this.type.inlineContent};Bn.isInline.get=function(){return this.type.isInline};Bn.isText.get=function(){return this.type.isText};Bn.isLeaf.get=function(){return this.type.isLeaf};Bn.isAtom.get=function(){return this.type.isAtom};mt.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),mD(this.marks,e)};mt.prototype.contentMatchAt=function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t};mt.prototype.canReplace=function(e,t,n,i,o){n===void 0&&(n=be.empty),i===void 0&&(i=0),o===void 0&&(o=n.childCount);var a=this.contentMatchAt(e).matchFragment(n,i,o),s=a&&a.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(var l=i;l<o;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0};mt.prototype.canReplaceWith=function(e,t,n,i){if(i&&!this.type.allowsMarks(i))return!1;var o=this.contentMatchAt(e).matchType(n),a=o&&o.matchFragment(this.content,t);return a?a.validEnd:!1};mt.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)};mt.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var e=gt.none,t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!gt.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map(function(n){return n.type.name}));this.content.forEach(function(n){return n.check()})};mt.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(function(n){return n.toJSON()})),e};mt.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}var i=be.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,i,n)};Object.defineProperties(mt.prototype,Bn);function mD(r,e){for(var t=r.length-1;t>=0;t--)e=r[t].type.name+"("+e+")";return e}var sn=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]},qc={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};sn.parse=function(e,t){var n=new Uc(e,t);if(n.next==null)return sn.empty;var i=sw(n);n.next&&n.err("Unexpected trailing text");var o=CD(kD(i));return SD(o,n),o};sn.prototype.matchType=function(e){for(var t=0;t<this.next.length;t+=2)if(this.next[t]==e)return this.next[t+1];return null};sn.prototype.matchFragment=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=e.childCount);for(var i=this,o=t;i&&o<n;o++)i=i.matchType(e.child(o).type);return i};qc.inlineContent.get=function(){var r=this.next[0];return r?r.isInline:!1};qc.defaultType.get=function(){for(var r=0;r<this.next.length;r+=2){var e=this.next[r];if(!(e.isText||e.hasRequiredAttrs()))return e}};sn.prototype.compatible=function(e){for(var t=0;t<this.next.length;t+=2)for(var n=0;n<e.next.length;n+=2)if(this.next[t]==e.next[n])return!0;return!1};sn.prototype.fillBefore=function(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=0);var i=[this];function o(a,s){var l=a.matchFragment(e,n);if(l&&(!t||l.validEnd))return be.from(s.map(function(h){return h.createAndFill()}));for(var c=0;c<a.next.length;c+=2){var u=a.next[c],p=a.next[c+1];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(p)==-1){i.push(p);var d=o(p,s.concat(u));if(d)return d}}}return o(this,[])};sn.prototype.findWrapping=function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var n=this.computeWrapping(e);return this.wrapCache.push(e,n),n};sn.prototype.computeWrapping=function(e){for(var t=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var i=n.shift(),o=i.match;if(o.matchType(e)){for(var a=[],s=i;s.type;s=s.via)a.push(s.type);return a.reverse()}for(var l=0;l<o.next.length;l+=2){var c=o.next[l];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in t)&&(!i.type||o.next[l+1].validEnd)&&(n.push({match:c.contentMatch,type:c,via:i}),t[c.name]=!0)}}};qc.edgeCount.get=function(){return this.next.length>>1};sn.prototype.edge=function(e){var t=e<<1;if(t>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return{type:this.next[t],next:this.next[t+1]}};sn.prototype.toString=function(){var e=[];function t(n){e.push(n);for(var i=1;i<n.next.length;i+=2)e.indexOf(n.next[i])==-1&&t(n.next[i])}return t(this),e.map(function(n,i){for(var o=i+(n.validEnd?"*":" ")+" ",a=0;a<n.next.length;a+=2)o+=(a?", ":"")+n.next[a].name+"->"+e.indexOf(n.next[a+1]);return o}).join(`
`)};Object.defineProperties(sn.prototype,qc);sn.empty=new sn(!0);var Uc=function(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()},aw={next:{configurable:!0}};aw.next.get=function(){return this.tokens[this.pos]};Uc.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)};Uc.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")};Object.defineProperties(Uc.prototype,aw);function sw(r){var e=[];do e.push(vD(r));while(r.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function vD(r){var e=[];do e.push(bD(r));while(r.next&&r.next!=")"&&r.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function bD(r){for(var e=xD(r);;)if(r.eat("+"))e={type:"plus",expr:e};else if(r.eat("*"))e={type:"star",expr:e};else if(r.eat("?"))e={type:"opt",expr:e};else if(r.eat("{"))e=wD(r,e);else break;return e}function Rh(r){/\D/.test(r.next)&&r.err("Expected number, got '"+r.next+"'");var e=Number(r.next);return r.pos++,e}function wD(r,e){var t=Rh(r),n=t;return r.eat(",")&&(r.next!="}"?n=Rh(r):n=-1),r.eat("}")||r.err("Unclosed braced range"),{type:"range",min:t,max:n,expr:e}}function yD(r,e){var t=r.nodeTypes,n=t[e];if(n)return[n];var i=[];for(var o in t){var a=t[o];a.groups.indexOf(e)>-1&&i.push(a)}return i.length==0&&r.err("No node type or group '"+e+"' found"),i}function xD(r){if(r.eat("(")){var e=sw(r);return r.eat(")")||r.err("Missing closing paren"),e}else if(/\W/.test(r.next))r.err("Unexpected token '"+r.next+"'");else{var t=yD(r,r.next).map(function(n){return r.inline==null?r.inline=n.isInline:r.inline!=n.isInline&&r.err("Mixing inline and block content"),{type:"name",value:n}});return r.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function kD(r){var e=[[]];return i(o(r,0),t()),e;function t(){return e.push([])-1}function n(a,s,l){var c={term:l,to:s};return e[a].push(c),c}function i(a,s){a.forEach(function(l){return l.to=s})}function o(a,s){if(a.type=="choice")return a.exprs.reduce(function(b,v){return b.concat(o(v,s))},[]);if(a.type=="seq")for(var l=0;;l++){var c=o(a.exprs[l],s);if(l==a.exprs.length-1)return c;i(c,s=t())}else if(a.type=="star"){var u=t();return n(s,u),i(o(a.expr,u),u),[n(u)]}else if(a.type=="plus"){var p=t();return i(o(a.expr,s),p),i(o(a.expr,p),p),[n(p)]}else{if(a.type=="opt")return[n(s)].concat(o(a.expr,s));if(a.type=="range"){for(var d=s,h=0;h<a.min;h++){var f=t();i(o(a.expr,d),f),d=f}if(a.max==-1)i(o(a.expr,d),d);else for(var g=a.min;g<a.max;g++){var m=t();n(d,m),i(o(a.expr,d),m),d=m}return[n(d)]}else if(a.type=="name")return[n(s,null,a.value)]}}}function lw(r,e){return e-r}function Lh(r,e){var t=[];return n(e),t.sort(lw);function n(i){var o=r[i];if(o.length==1&&!o[0].term)return n(o[0].to);t.push(i);for(var a=0;a<o.length;a++){var s=o[a],l=s.term,c=s.to;!l&&t.indexOf(c)==-1&&n(c)}}}function CD(r){var e=Object.create(null);return t(Lh(r,0));function t(n){var i=[];n.forEach(function(l){r[l].forEach(function(c){var u=c.term,p=c.to;if(!!u){var d=i.indexOf(u),h=d>-1&&i[d+1];Lh(r,p).forEach(function(f){h||i.push(u,h=[]),h.indexOf(f)==-1&&h.push(f)})}})});for(var o=e[n.join(",")]=new sn(n.indexOf(r.length-1)>-1),a=0;a<i.length;a+=2){var s=i[a+1].sort(lw);o.next.push(i[a],e[s.join(",")]||t(s))}return o}}function SD(r,e){for(var t=0,n=[r];t<n.length;t++){for(var i=n[t],o=!i.validEnd,a=[],s=0;s<i.next.length;s+=2){var l=i.next[s],c=i.next[s+1];a.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),n.indexOf(c)==-1&&n.push(c)}o&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function cw(r){var e=Object.create(null);for(var t in r){var n=r[t];if(!n.hasDefault)return null;e[t]=n.default}return e}function uw(r,e){var t=Object.create(null);for(var n in r){var i=e&&e[n];if(i===void 0){var o=r[n];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+n)}t[n]=i}return t}function pw(r){var e=Object.create(null);if(r)for(var t in r)e[t]=new dw(r[t]);return e}var Fn=function(e,t,n){this.name=e,this.schema=t,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=pw(n.attrs),this.defaultAttrs=cw(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"},Na={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0},whitespace:{configurable:!0}};Na.isInline.get=function(){return!this.isBlock};Na.isTextblock.get=function(){return this.isBlock&&this.inlineContent};Na.isLeaf.get=function(){return this.contentMatch==sn.empty};Na.isAtom.get=function(){return this.isLeaf||this.spec.atom};Na.whitespace.get=function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")};Fn.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1};Fn.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)};Fn.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:uw(this.attrs,e)};Fn.prototype.create=function(e,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new mt(this,this.computeAttrs(e),be.from(t),gt.setFrom(n))};Fn.prototype.createChecked=function(e,t,n){if(t=be.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new mt(this,this.computeAttrs(e),t,gt.setFrom(n))};Fn.prototype.createAndFill=function(e,t,n){if(e=this.computeAttrs(e),t=be.from(t),t.size){var i=this.contentMatch.fillBefore(t);if(!i)return null;t=i.append(t)}var o=this.contentMatch.matchFragment(t).fillBefore(be.empty,!0);return o?new mt(this,e,t.append(o),gt.setFrom(n)):null};Fn.prototype.validContent=function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(var n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0};Fn.prototype.allowsMarkType=function(e){return this.markSet==null||this.markSet.indexOf(e)>-1};Fn.prototype.allowsMarks=function(e){if(this.markSet==null)return!0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0};Fn.prototype.allowedMarks=function(e){if(this.markSet==null)return e;for(var t,n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:gt.empty:e};Fn.compile=function(e,t){var n=Object.create(null);e.forEach(function(a,s){return n[a]=new Fn(a,t,s)});var i=t.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n};Object.defineProperties(Fn.prototype,Na);var dw=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default},fw={isRequired:{configurable:!0}};fw.isRequired.get=function(){return!this.hasDefault};Object.defineProperties(dw.prototype,fw);var Oo=function(e,t,n,i){this.name=e,this.schema=n,this.spec=i,this.attrs=pw(i.attrs),this.rank=t,this.excluded=null;var o=cw(this.attrs);this.instance=o&&new gt(this,o)};Oo.prototype.create=function(e){return!e&&this.instance?this.instance:new gt(this,uw(this.attrs,e))};Oo.compile=function(e,t){var n=Object.create(null),i=0;return e.forEach(function(o,a){return n[o]=new Oo(o,i++,t,a)}),n};Oo.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e};Oo.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]};Oo.prototype.excludes=function(e){return this.excluded.indexOf(e)>-1};var Kd={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ED={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},hw={ol:!0,ul:!0},Yl=1,ql=2,Ds=4;function gw(r,e,t){return e!=null?(e?Yl:0)|(e==="full"?ql:0):r&&r.whitespace=="pre"?Yl|ql:t&~Ds}var Ii=function(e,t,n,i,o,a,s){this.type=e,this.attrs=t,this.solid=o,this.match=a||(s&Ds?null:e.contentMatch),this.options=s,this.content=[],this.marks=n,this.activeMarks=gt.none,this.pendingMarks=i,this.stashMarks=[]};Ii.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var t=this.type.contentMatch.fillBefore(be.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{var n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)};Ii.prototype.finish=function(e){if(!(this.options&Yl)){var t=this.content[this.content.length-1],n;t&&t.isText&&(n=/[ \t\r\n\u000c]+$/.exec(t.text))&&(t.text.length==n[0].length?this.content.pop():this.content[this.content.length-1]=t.withText(t.text.slice(0,t.text.length-n[0].length)))}var i=be.from(this.content);return!e&&this.match&&(i=i.append(this.match.fillBefore(be.empty,!0))),this.type?this.type.create(this.attrs,i,this.marks):i};Ii.prototype.popFromStashMark=function(e){for(var t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]};Ii.prototype.applyPending=function(e){for(var t=0,n=this.pendingMarks;t<n.length;t++){var i=n[t];(this.type?this.type.allowsMarkType(i.type):TD(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}};Ii.prototype.inlineContext=function(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Kd.hasOwnProperty(e.parentNode.nodeName.toLowerCase())};var Vt=function(e,t,n){this.parser=e,this.options=t,this.isOpen=n;var i=t.topNode,o,a=gw(null,t.preserveWhitespace,0)|(n?Ds:0);i?o=new Ii(i.type,i.attrs,gt.none,gt.none,!0,t.topMatch||i.type.contentMatch,a):n?o=new Ii(null,null,gt.none,gt.none,!0,null,a):o=new Ii(e.schema.topNodeType,null,gt.none,gt.none,!0,null,a),this.nodes=[o],this.open=0,this.find=t.findPositions,this.needsBlock=!1},Zd={top:{configurable:!0},currentPos:{configurable:!0}};Zd.top.get=function(){return this.nodes[this.open]};Vt.prototype.addDOM=function(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){var t=e.getAttribute("style"),n=t?this.readStyles(AD(t)):null,i=this.top;if(n!=null)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(e),n!=null)for(var a=0;a<n.length;a++)this.removePendingMark(n[a],i)}};Vt.prototype.addTextNode=function(e){var t=e.nodeValue,n=this.top;if(n.options&ql||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(n.options&Yl)n.options&ql?t=t.replace(/\r\n?/g,`
`):t=t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var i=n.content[n.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)};Vt.prototype.addElement=function(e,t){var n=e.nodeName.toLowerCase(),i;hw.hasOwnProperty(n)&&this.parser.normalizeLists&&DD(e);var o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,t));if(o?o.ignore:ED.hasOwnProperty(n))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);var a,s=this.top,l=this.needsBlock;if(Kd.hasOwnProperty(n))a=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),a&&this.sync(s),this.needsBlock=l}else this.addElementByRule(e,o,o.consuming===!1?i:null)};Vt.prototype.leafFallback=function(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))};Vt.prototype.ignoreFallback=function(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))};Vt.prototype.readStyles=function(e){var t=gt.none;e:for(var n=0;n<e.length;n+=2)for(var i=null;;){var o=this.parser.matchStyle(e[n],e[n+1],this,i);if(!o)continue e;if(o.ignore)return null;if(t=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(t),o.consuming===!1)i=o;else break}return t};Vt.prototype.addElementByRule=function(e,t,n){var i=this,o,a,s,l;t.node?(a=this.parser.schema.nodes[t.node],a.isLeaf?this.insertNode(a.create(t.attrs))||this.leafFallback(e):o=this.enter(a,t.attrs,t.preserveWhitespace)):(s=this.parser.schema.marks[t.mark],l=s.create(t.attrs),this.addPendingMark(l));var c=this.top;if(a&&a.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(function(p){return i.insertNode(p)});else{var u=t.contentElement;typeof u=="string"?u=e.querySelector(u):typeof u=="function"&&(u=u(e)),u||(u=e),this.findAround(e,u,!0),this.addAll(u,o)}o&&(this.sync(c),this.open--),l&&this.removePendingMark(l,c)};Vt.prototype.addAll=function(e,t,n,i){for(var o=n||0,a=n?e.childNodes[n]:e.firstChild,s=i==null?null:e.childNodes[i];a!=s;a=a.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(a),t&&Kd.hasOwnProperty(a.nodeName.toLowerCase())&&this.sync(t);this.findAtPoint(e,o)};Vt.prototype.findPlace=function(e){for(var t,n,i=this.open;i>=0;i--){var o=this.nodes[i],a=o.findWrapping(e);if(a&&(!t||t.length>a.length)&&(t=a,n=o,!a.length)||o.solid)break}if(!t)return!1;this.sync(n);for(var s=0;s<t.length;s++)this.enterInner(t[s],null,!1);return!0};Vt.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();var n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));for(var i=n.activeMarks,o=0;o<e.marks.length;o++)(!n.type||n.type.allowsMarkType(e.marks[o].type))&&(i=e.marks[o].addToSet(i));return n.content.push(e.mark(i)),!0}return!1};Vt.prototype.enter=function(e,t,n){var i=this.findPlace(e.create(t));return i&&this.enterInner(e,t,!0,n),i};Vt.prototype.enterInner=function(e,t,n,i){this.closeExtra();var o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e,t);var a=gw(e,i,o.options);o.options&Ds&&o.content.length==0&&(a|=Ds),this.nodes.push(new Ii(e,t,o.activeMarks,o.pendingMarks,n,null,a)),this.open++};Vt.prototype.closeExtra=function(e){var t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}};Vt.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)};Vt.prototype.sync=function(e){for(var t=this.open;t>=0;t--)if(this.nodes[t]==e){this.open=t;return}};Zd.currentPos.get=function(){this.closeExtra();for(var r=0,e=this.open;e>=0;e--){for(var t=this.nodes[e].content,n=t.length-1;n>=0;n--)r+=t[n].nodeSize;e&&r++}return r};Vt.prototype.findAtPoint=function(e,t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)};Vt.prototype.findInside=function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)};Vt.prototype.findAround=function(e,t,n){if(e!=t&&this.find){for(var i=0;i<this.find.length;i++)if(this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)){var o=t.compareDocumentPosition(this.find[i].node);o&(n?2:4)&&(this.find[i].pos=this.currentPos)}}};Vt.prototype.findInText=function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))};Vt.prototype.matchesContext=function(e){var t=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var n=e.split("/"),i=this.options.context,o=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),a=-(i?i.depth+1:0)+(o?0:1),s=function(l,c){for(;l>=0;l--){var u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;c>=a;c--)if(s(l-1,c))return!0;return!1}else{var p=c>0||c==0&&o?t.nodes[c].type:i&&c>=a?i.node(c-a).type:null;if(!p||p.name!=u&&p.groups.indexOf(u)==-1)return!1;c--}}return!0};return s(n.length-1,this.open)};Vt.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var t=e.depth;t>=0;t--){var n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var i in this.parser.schema.nodes){var o=this.parser.schema.nodes[i];if(o.isTextblock&&o.defaultAttrs)return o}};Vt.prototype.addPendingMark=function(e){var t=MD(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)};Vt.prototype.removePendingMark=function(e,t){for(var n=this.open;n>=0;n--){var i=this.nodes[n],o=i.pendingMarks.lastIndexOf(e);if(o>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);var a=i.popFromStashMark(e);a&&i.type&&i.type.allowsMarkType(a.type)&&(i.activeMarks=a.addToSet(i.activeMarks))}if(i==t)break}};Object.defineProperties(Vt.prototype,Zd);function DD(r){for(var e=r.firstChild,t=null;e;e=e.nextSibling){var n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&hw.hasOwnProperty(n)&&t?(t.appendChild(e),e=t):n=="li"?t=e:n&&(t=null)}}function AD(r){for(var e=/\s*([\w-]+)\s*:\s*([^;]+)/g,t,n=[];t=e.exec(r);)n.push(t[1],t[2].trim());return n}function TD(r,e){var t=e.schema.nodes,n=function(a){var s=t[a];if(!!s.allowsMarkType(r)){var l=[],c=function(u){l.push(u);for(var p=0;p<u.edgeCount;p++){var d=u.edge(p),h=d.type,f=d.next;if(h==e||l.indexOf(f)<0&&c(f))return!0}};if(c(s.contentMatch))return{v:!0}}};for(var i in t){var o=n(i);if(o)return o.v}}function MD(r,e){for(var t=0;t<e.length;t++)if(r.eq(e[t]))return e[t]}var mw=65535,vw=Math.pow(2,16);function OD(r,e){return r+e*vw}function bw(r){return r&mw}function _D(r){return(r-(r&mw))/vw}var Fp=function(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=null),this.pos=e,this.deleted=t,this.recover=n},zr=function(e,t){t===void 0&&(t=!1),this.ranges=e,this.inverted=t};zr.prototype.recover=function(e){var t=0,n=bw(e);if(!this.inverted)for(var i=0;i<n;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+t+_D(e)};zr.prototype.mapResult=function(e,t){return t===void 0&&(t=1),this._map(e,t,!1)};zr.prototype.map=function(e,t){return t===void 0&&(t=1),this._map(e,t,!0)};zr.prototype._map=function(e,t,n){for(var i=0,o=this.inverted?2:1,a=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var l=this.ranges[s]-(this.inverted?i:0);if(l>e)break;var c=this.ranges[s+o],u=this.ranges[s+a],p=l+c;if(e<=p){var d=c?e==l?-1:e==p?1:t:t,h=l+i+(d<0?0:u);if(n)return h;var f=e==(t<0?l:p)?null:OD(s/3,e-l);return new Fp(h,t<0?e!=l:e!=p,f)}i+=u-c}return n?e+i:new Fp(e+i)};zr.prototype.touches=function(e,t){for(var n=0,i=bw(t),o=this.inverted?2:1,a=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var l=this.ranges[s]-(this.inverted?n:0);if(l>e)break;var c=this.ranges[s+o],u=l+c;if(e<=u&&s==i*3)return!0;n+=this.ranges[s+a]-c}return!1};zr.prototype.forEach=function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,i=0,o=0;i<this.ranges.length;i+=3){var a=this.ranges[i],s=a-(this.inverted?o:0),l=a+(this.inverted?0:o),c=this.ranges[i+t],u=this.ranges[i+n];e(s,s+c,l,l+u),o+=u-c}};zr.prototype.invert=function(){return new zr(this.ranges,!this.inverted)};zr.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)};zr.offset=function(e){return e==0?zr.empty:new zr(e<0?[0,-e,0]:[0,0,e])};zr.empty=new zr([]);var ln=function(e,t,n,i){this.maps=e||[],this.from=n||0,this.to=i==null?this.maps.length:i,this.mirror=t};ln.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.maps.length),new ln(this.maps,this.mirror,e,t)};ln.prototype.copy=function(){return new ln(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)};ln.prototype.appendMap=function(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)};ln.prototype.appendMapping=function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var i=e.getMirror(t);this.appendMap(e.maps[t],i!=null&&i<t?n+i:null)}};ln.prototype.getMirror=function(e){if(this.mirror){for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}};ln.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)};ln.prototype.appendMappingInverted=function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var i=e.getMirror(t);this.appendMap(e.maps[t].invert(),i!=null&&i>t?n-i-1:null)}};ln.prototype.invert=function(){var e=new ln;return e.appendMappingInverted(this),e};ln.prototype.map=function(e,t){if(t===void 0&&(t=1),this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e};ln.prototype.mapResult=function(e,t){return t===void 0&&(t=1),this._map(e,t,!1)};ln.prototype._map=function(e,t,n){for(var i=!1,o=this.from;o<this.to;o++){var a=this.maps[o],s=a.mapResult(e,t);if(s.recover!=null){var l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(s.recover);continue}}s.deleted&&(i=!0),e=s.pos}return n?e:new Fp(e,i)};function ma(r){var e=Error.call(this,r);return e.__proto__=ma.prototype,e}ma.prototype=Object.create(Error.prototype);ma.prototype.constructor=ma;ma.prototype.name="TransformError";var er=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ln},Qd={before:{configurable:!0},docChanged:{configurable:!0}};Qd.before.get=function(){return this.docs.length?this.docs[0]:this.doc};er.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new ma(t.failed);return this};er.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t};Qd.docChanged.get=function(){return this.steps.length>0};er.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t};Object.defineProperties(er.prototype,Qd);function Jc(){throw new Error("Override me")}var Rp=Object.create(null),Gr=function(){};Gr.prototype.apply=function(e){return Jc()};Gr.prototype.getMap=function(){return zr.empty};Gr.prototype.invert=function(e){return Jc()};Gr.prototype.map=function(e){return Jc()};Gr.prototype.merge=function(e){return null};Gr.prototype.toJSON=function(){return Jc()};Gr.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=Rp[t.stepType];if(!n)throw new RangeError("No step type "+t.stepType+" defined");return n.fromJSON(e,t)};Gr.jsonID=function(e,t){if(e in Rp)throw new RangeError("Duplicate use of step JSON ID "+e);return Rp[e]=t,t.prototype.jsonID=e,t};var rn=function(e,t){this.doc=e,this.failed=t};rn.ok=function(e){return new rn(e,null)};rn.fail=function(e){return new rn(null,e)};rn.fromReplace=function(e,t,n,i){try{return rn.ok(e.replace(t,n,i))}catch(o){if(o instanceof ki)return rn.fail(o.message);throw o}};var oo=function(r){function e(t,n,i,o){r.call(this),this.from=t,this.to=n,this.slice=i,this.structure=!!o}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.apply=function(n){return this.structure&&Lp(n,this.from,this.to)?rn.fail("Structure replace would overwrite content"):rn.fromReplace(n,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new zr([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(n){return new e(this.from,this.from+this.slice.size,n.slice(this.from,this.to))},e.prototype.map=function(n){var i=n.mapResult(this.from,1),o=n.mapResult(this.to,-1);return i.deleted&&o.deleted?null:new e(i.pos,Math.max(i.pos,o.pos),this.slice)},e.prototype.merge=function(n){if(!(n instanceof e)||n.structure||this.structure)return null;if(this.from+this.slice.size==n.from&&!this.slice.openEnd&&!n.slice.openStart){var i=this.slice.size+n.slice.size==0?ze.empty:new ze(this.slice.content.append(n.slice.content),this.slice.openStart,n.slice.openEnd);return new e(this.from,this.to+(n.to-n.from),i,this.structure)}else if(n.to==this.from&&!this.slice.openStart&&!n.slice.openEnd){var o=this.slice.size+n.slice.size==0?ze.empty:new ze(n.slice.content.append(this.slice.content),n.slice.openStart,this.slice.openEnd);return new e(n.from,this.to,o,this.structure)}else return null},e.prototype.toJSON=function(){var n={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(n.slice=this.slice.toJSON()),this.structure&&(n.structure=!0),n},e.fromJSON=function(n,i){if(typeof i.from!="number"||typeof i.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(i.from,i.to,ze.fromJSON(n,i.slice),!!i.structure)},e}(Gr);Gr.jsonID("replace",oo);var zo=function(r){function e(t,n,i,o,a,s,l){r.call(this),this.from=t,this.to=n,this.gapFrom=i,this.gapTo=o,this.slice=a,this.insert=s,this.structure=!!l}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.apply=function(n){if(this.structure&&(Lp(n,this.from,this.gapFrom)||Lp(n,this.gapTo,this.to)))return rn.fail("Structure gap-replace would overwrite content");var i=n.slice(this.gapFrom,this.gapTo);if(i.openStart||i.openEnd)return rn.fail("Gap is not a flat range");var o=this.slice.insertAt(this.insert,i.content);return o?rn.fromReplace(n,this.from,this.to,o):rn.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new zr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(n){var i=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+i,this.from+this.insert,this.from+this.insert+i,n.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(n){var i=n.mapResult(this.from,1),o=n.mapResult(this.to,-1),a=n.map(this.gapFrom,-1),s=n.map(this.gapTo,1);return i.deleted&&o.deleted||a<i.pos||s>o.pos?null:new e(i.pos,o.pos,a,s,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var n={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(n.slice=this.slice.toJSON()),this.structure&&(n.structure=!0),n},e.fromJSON=function(n,i){if(typeof i.from!="number"||typeof i.to!="number"||typeof i.gapFrom!="number"||typeof i.gapTo!="number"||typeof i.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(i.from,i.to,i.gapFrom,i.gapTo,ze.fromJSON(n,i.slice),i.insert,!!i.structure)},e}(Gr);Gr.jsonID("replaceAround",zo);function Lp(r,e,t){for(var n=r.resolve(e),i=t-e,o=n.depth;i>0&&o>0&&n.indexAfter(o)==n.node(o).childCount;)o--,i--;if(i>0)for(var a=n.node(o).maybeChild(n.indexAfter(o));i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}return!1}er.prototype.lift=function(r,e){for(var t=r.$from,n=r.$to,i=r.depth,o=t.before(i+1),a=n.after(i+1),s=o,l=a,c=be.empty,u=0,p=i,d=!1;p>e;p--)d||t.index(p)>0?(d=!0,c=be.from(t.node(p).copy(c)),u++):s--;for(var h=be.empty,f=0,g=i,m=!1;g>e;g--)m||n.after(g+1)<n.end(g)?(m=!0,h=be.from(n.node(g).copy(h)),f++):l++;return this.step(new zo(s,l,o,a,new ze(c.append(h),u,f),c.size-u,!0))};er.prototype.wrap=function(r,e){for(var t=be.empty,n=e.length-1;n>=0;n--)t=be.from(e[n].type.create(e[n].attrs,t));var i=r.start,o=r.end;return this.step(new zo(i,o,i,o,new ze(t,0,0),e.length,!0))};er.prototype.setBlockType=function(r,e,t,n){var i=this;if(e===void 0&&(e=r),!t.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var o=this.steps.length;return this.doc.nodesBetween(r,e,function(a,s){if(a.isTextblock&&!a.hasMarkup(t,n)&&ND(i.doc,i.mapping.slice(o).map(s),t)){i.clearIncompatible(i.mapping.slice(o).map(s,1),t);var l=i.mapping.slice(o),c=l.map(s,1),u=l.map(s+a.nodeSize,1);return i.step(new zo(c,u,c+1,u-1,new ze(be.from(t.create(n,null,a.marks)),0,0),1,!0)),!1}}),this};function ND(r,e,t){var n=r.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,t)}er.prototype.setNodeMarkup=function(r,e,t,n){var i=this.doc.nodeAt(r);if(!i)throw new RangeError("No node at given position");e||(e=i.type);var o=e.create(t,null,n||i.marks);if(i.isLeaf)return this.replaceWith(r,r+i.nodeSize,o);if(!e.validContent(i.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new zo(r,r+i.nodeSize,r+1,r+i.nodeSize-1,new ze(be.from(o),0,0),1,!0))};er.prototype.split=function(r,e,t){e===void 0&&(e=1);for(var n=this.doc.resolve(r),i=be.empty,o=be.empty,a=n.depth,s=n.depth-e,l=e-1;a>s;a--,l--){i=be.from(n.node(a).copy(i));var c=t&&t[l];o=be.from(c?c.type.create(c.attrs,o):n.node(a).copy(o))}return this.step(new oo(r,r,new ze(i.append(o),e,e),!0))};er.prototype.join=function(r,e){e===void 0&&(e=1);var t=new oo(r-e,r+e,ze.empty,!0);return this.step(t)};function PD(r,e,t){var n=r.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),t))return e;if(n.parentOffset==0)for(var i=n.depth-1;i>=0;i--){var o=n.index(i);if(n.node(i).canReplaceWith(o,o,t))return n.before(i+1);if(o>0)return null}if(n.parentOffset==n.parent.content.size)for(var a=n.depth-1;a>=0;a--){var s=n.indexAfter(a);if(n.node(a).canReplaceWith(s,s,t))return n.after(a+1);if(s<n.node(a).childCount)return null}}function ef(r,e,t){for(var n=[],i=0;i<r.childCount;i++){var o=r.child(i);o.content.size&&(o=o.copy(ef(o.content,e,o))),o.isInline&&(o=e(o,t,i)),n.push(o)}return be.fromArray(n)}var tf=function(r){function e(t,n,i){r.call(this),this.from=t,this.to=n,this.mark=i}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.apply=function(n){var i=this,o=n.slice(this.from,this.to),a=n.resolve(this.from),s=a.node(a.sharedDepth(this.to)),l=new ze(ef(o.content,function(c,u){return!c.isAtom||!u.type.allowsMarkType(i.mark.type)?c:c.mark(i.mark.addToSet(c.marks))},s),o.openStart,o.openEnd);return rn.fromReplace(n,this.from,this.to,l)},e.prototype.invert=function(){return new js(this.from,this.to,this.mark)},e.prototype.map=function(n){var i=n.mapResult(this.from,1),o=n.mapResult(this.to,-1);return i.deleted&&o.deleted||i.pos>=o.pos?null:new e(i.pos,o.pos,this.mark)},e.prototype.merge=function(n){if(n instanceof e&&n.mark.eq(this.mark)&&this.from<=n.to&&this.to>=n.from)return new e(Math.min(this.from,n.from),Math.max(this.to,n.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(n,i){if(typeof i.from!="number"||typeof i.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(i.from,i.to,n.markFromJSON(i.mark))},e}(Gr);Gr.jsonID("addMark",tf);var js=function(r){function e(t,n,i){r.call(this),this.from=t,this.to=n,this.mark=i}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.apply=function(n){var i=this,o=n.slice(this.from,this.to),a=new ze(ef(o.content,function(s){return s.mark(i.mark.removeFromSet(s.marks))}),o.openStart,o.openEnd);return rn.fromReplace(n,this.from,this.to,a)},e.prototype.invert=function(){return new tf(this.from,this.to,this.mark)},e.prototype.map=function(n){var i=n.mapResult(this.from,1),o=n.mapResult(this.to,-1);return i.deleted&&o.deleted||i.pos>=o.pos?null:new e(i.pos,o.pos,this.mark)},e.prototype.merge=function(n){if(n instanceof e&&n.mark.eq(this.mark)&&this.from<=n.to&&this.to>=n.from)return new e(Math.min(this.from,n.from),Math.max(this.to,n.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(n,i){if(typeof i.from!="number"||typeof i.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(i.from,i.to,n.markFromJSON(i.mark))},e}(Gr);Gr.jsonID("removeMark",js);er.prototype.addMark=function(r,e,t){var n=this,i=[],o=[],a=null,s=null;return this.doc.nodesBetween(r,e,function(l,c,u){if(!!l.isInline){var p=l.marks;if(!t.isInSet(p)&&u.type.allowsMarkType(t.type)){for(var d=Math.max(c,r),h=Math.min(c+l.nodeSize,e),f=t.addToSet(p),g=0;g<p.length;g++)p[g].isInSet(f)||(a&&a.to==d&&a.mark.eq(p[g])?a.to=h:i.push(a=new js(d,h,p[g])));s&&s.to==d?s.to=h:o.push(s=new tf(d,h,t))}}}),i.forEach(function(l){return n.step(l)}),o.forEach(function(l){return n.step(l)}),this};er.prototype.removeMark=function(r,e,t){var n=this;t===void 0&&(t=null);var i=[],o=0;return this.doc.nodesBetween(r,e,function(a,s){if(!!a.isInline){o++;var l=null;if(t instanceof Oo)for(var c=a.marks,u;u=t.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c);else t?t.isInSet(a.marks)&&(l=[t]):l=a.marks;if(l&&l.length)for(var p=Math.min(s+a.nodeSize,e),d=0;d<l.length;d++){for(var h=l[d],f=void 0,g=0;g<i.length;g++){var m=i[g];m.step==o-1&&h.eq(i[g].style)&&(f=m)}f?(f.to=p,f.step=o):i.push({style:h,from:Math.max(s,r),to:p,step:o})}}}),i.forEach(function(a){return n.step(new js(a.from,a.to,a.style))}),this};er.prototype.clearIncompatible=function(r,e,t){t===void 0&&(t=e.contentMatch);for(var n=this.doc.nodeAt(r),i=[],o=r+1,a=0;a<n.childCount;a++){var s=n.child(a),l=o+s.nodeSize,c=t.matchType(s.type,s.attrs);if(!c)i.push(new oo(o,l,ze.empty));else{t=c;for(var u=0;u<s.marks.length;u++)e.allowsMarkType(s.marks[u].type)||this.step(new js(o,l,s.marks[u]))}o=l}if(!t.validEnd){var p=t.fillBefore(be.empty,!0);this.replace(o,o,new ze(p,0,0))}for(var d=i.length-1;d>=0;d--)this.step(i[d]);return this};function ID(r,e,t,n){if(t===void 0&&(t=e),n===void 0&&(n=ze.empty),e==t&&!n.size)return null;var i=r.resolve(e),o=r.resolve(t);return ww(i,o,n)?new oo(e,t,n):new ei(i,o,n).fit()}er.prototype.replace=function(r,e,t){e===void 0&&(e=r),t===void 0&&(t=ze.empty);var n=ID(this.doc,r,e,t);return n&&this.step(n),this};er.prototype.replaceWith=function(r,e,t){return this.replace(r,e,new ze(be.from(t),0,0))};er.prototype.delete=function(r,e){return this.replace(r,e,ze.empty)};er.prototype.insert=function(r,e){return this.replaceWith(r,r,e)};function ww(r,e,t){return!t.openStart&&!t.openEnd&&r.start()==e.start()&&r.parent.canReplace(r.index(),e.index(),t.content)}var ei=function(e,t,n){this.$to=t,this.$from=e,this.unplaced=n,this.frontier=[];for(var i=0;i<=e.depth;i++){var o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}this.placed=be.empty;for(var a=e.depth;a>0;a--)this.placed=be.from(e.node(a).copy(this.placed))},yw={depth:{configurable:!0}};yw.depth.get=function(){return this.frontier.length-1};ei.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,o=this.close(t<0?this.$to:i.doc.resolve(t));if(!o)return null;for(var a=this.placed,s=i.depth,l=o.depth;s&&l&&a.childCount==1;)a=a.firstChild.content,s--,l--;var c=new ze(a,s,l);if(t>-1)return new zo(i.pos,t,this.$to.pos,this.$to.end(),c,n);if(c.size||i.pos!=this.$to.pos)return new oo(i.pos,o.pos,c)};ei.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var t=this.unplaced.openStart;t>=0;t--){var n=void 0,i=void 0;t?(i=rf(this.unplaced.content,t-1).firstChild,n=i.content):n=this.unplaced.content;for(var o=n.firstChild,a=this.depth;a>=0;a--){var s=this.frontier[a],l=s.type,c=s.match,u=void 0,p=void 0;if(e==1&&(o?c.matchType(o.type)||(p=c.fillBefore(be.from(o),!1)):l.compatibleContent(i.type)))return{sliceDepth:t,frontierDepth:a,parent:i,inject:p};if(e==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:t,frontierDepth:a,parent:i,wrap:u};if(i&&c.matchType(i.type))break}}};ei.prototype.openMore=function(){var e=this.unplaced,t=e.content,n=e.openStart,i=e.openEnd,o=rf(t,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new ze(t,n+1,Math.max(i,o.size+n>=t.size-i?n+1:0)),!0)};ei.prototype.dropNode=function(){var e=this.unplaced,t=e.content,n=e.openStart,i=e.openEnd,o=rf(t,n);if(o.childCount<=1&&n>0){var a=t.size-n<=n+o.size;this.unplaced=new ze(As(t,n-1,1),n-1,a?n-1:i)}else this.unplaced=new ze(As(t,n,1),n,i)};ei.prototype.placeNodes=function(e){for(var t=e.sliceDepth,n=e.frontierDepth,i=e.parent,o=e.inject,a=e.wrap;this.depth>n;)this.closeFrontierNode();if(a)for(var s=0;s<a.length;s++)this.openFrontierNode(a[s]);var l=this.unplaced,c=i?i.content:l.content,u=l.openStart-t,p=0,d=[],h=this.frontier[n],f=h.match,g=h.type;if(o){for(var m=0;m<o.childCount;m++)d.push(o.child(m));f=f.matchFragment(o)}for(var b=c.size+t-(l.content.size-l.openEnd);p<c.childCount;){var v=c.child(p),C=f.matchType(v.type);if(!C)break;p++,(p>1||u==0||v.content.size)&&(f=C,d.push(xw(v.mark(g.allowedMarks(v.marks)),p==1?u:0,p==c.childCount?b:-1)))}var k=p==c.childCount;k||(b=-1),this.placed=Ws(this.placed,n,be.from(d)),this.frontier[n].match=f,k&&b<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var _=0,N=c;_<b;_++){var I=N.lastChild;this.frontier.push({type:I.type,match:I.contentMatchAt(I.childCount)}),N=I.content}this.unplaced=k?t==0?ze.empty:new ze(As(l.content,t-1,1),t-1,b<0?l.openEnd:t-1):new ze(As(l.content,t,p),l.openStart,l.openEnd)};ei.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Bp(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;for(var n=this.$to,i=n.depth,o=this.$to.after(i);i>1&&o==this.$to.end(--i);)++o;return o};ei.prototype.findCloseLevel=function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){var n=this.frontier[t],i=n.match,o=n.type,a=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=Bp(e,t,o,i,a);if(!!s){for(var l=t-1;l>=0;l--){var c=this.frontier[l],u=c.match,p=c.type,d=Bp(e,l,p,u,!0);if(!d||d.childCount)continue e}return{depth:t,fit:s,move:a?e.doc.resolve(e.after(t+1)):e}}}};ei.prototype.close=function(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Ws(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var i=e.node(n),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,o)}return e};ei.prototype.openFrontierNode=function(e,t,n){var i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Ws(this.placed,this.depth,be.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})};ei.prototype.closeFrontierNode=function(){var e=this.frontier.pop(),t=e.match.fillBefore(be.empty,!0);t.childCount&&(this.placed=Ws(this.placed,this.frontier.length,t))};Object.defineProperties(ei.prototype,yw);function As(r,e,t){return e==0?r.cutByIndex(t):r.replaceChild(0,r.firstChild.copy(As(r.firstChild.content,e-1,t)))}function Ws(r,e,t){return e==0?r.append(t):r.replaceChild(r.childCount-1,r.lastChild.copy(Ws(r.lastChild.content,e-1,t)))}function rf(r,e){for(var t=0;t<e;t++)r=r.firstChild.content;return r}function xw(r,e,t){if(e<=0)return r;var n=r.content;return e>1&&(n=n.replaceChild(0,xw(n.firstChild,e-1,n.childCount==1?t-1:0))),e>0&&(n=r.type.contentMatch.fillBefore(n).append(n),t<=0&&(n=n.append(r.type.contentMatch.matchFragment(n).fillBefore(be.empty,!0)))),r.copy(n)}function Bp(r,e,t,n,i){var o=r.node(e),a=i?r.indexAfter(e):r.index(e);if(a==o.childCount&&!t.compatibleContent(o.type))return null;var s=n.fillBefore(o.content,!0,a);return s&&!zD(t,o.content,a)?s:null}function zD(r,e,t){for(var n=t;n<e.childCount;n++)if(!r.allowsMarks(e.child(n).marks))return!0;return!1}er.prototype.replaceRange=function(r,e,t){if(!t.size)return this.deleteRange(r,e);var n=this.doc.resolve(r),i=this.doc.resolve(e);if(ww(n,i,t))return this.step(new oo(r,e,t));var o=Cw(n,this.doc.resolve(e));o[o.length-1]==0&&o.pop();var a=-(n.depth+1);o.unshift(a);for(var s=n.depth,l=n.pos-1;s>0;s--,l--){var c=n.node(s).type.spec;if(c.defining||c.isolating)break;o.indexOf(s)>-1?a=s:n.before(s)==l&&o.splice(1,0,-s)}for(var u=o.indexOf(a),p=[],d=t.openStart,h=t.content,f=0;;f++){var g=h.firstChild;if(p.push(g),f==t.openStart)break;h=g.content}d>0&&p[d-1].type.spec.defining&&n.node(u).type!=p[d-1].type?d-=1:d>=2&&p[d-1].isTextblock&&p[d-2].type.spec.defining&&n.node(u).type!=p[d-2].type&&(d-=2);for(var m=t.openStart;m>=0;m--){var b=(m+d+1)%(t.openStart+1),v=p[b];if(!!v)for(var C=0;C<o.length;C++){var k=o[(C+u)%o.length],_=!0;k<0&&(_=!1,k=-k);var N=n.node(k-1),I=n.index(k-1);if(N.canReplaceWith(I,I,v.type,v.marks))return this.replace(n.before(k),_?i.after(k):e,new ze(kw(t.content,0,t.openStart,b),b,t.openEnd))}}for(var L=this.steps.length,q=o.length-1;q>=0&&(this.replace(r,e,t),!(this.steps.length>L));q--){var A=o[q];A<0||(r=n.before(A),e=i.after(A))}return this};function kw(r,e,t,n,i){if(e<t){var o=r.firstChild;r=r.replaceChild(0,o.copy(kw(o.content,e+1,t,n,o)))}if(e>n){var a=i.contentMatchAt(0),s=a.fillBefore(r).append(r);r=s.append(a.matchFragment(s).fillBefore(be.empty,!0))}return r}er.prototype.replaceRangeWith=function(r,e,t){if(!t.isInline&&r==e&&this.doc.resolve(r).parent.content.size){var n=PD(this.doc,r,t.type);n!=null&&(r=e=n)}return this.replaceRange(r,e,new ze(be.from(t),0,0))};er.prototype.deleteRange=function(r,e){for(var t=this.doc.resolve(r),n=this.doc.resolve(e),i=Cw(t,n),o=0;o<i.length;o++){var a=i[o],s=o==i.length-1;if(s&&a==0||t.node(a).type.contentMatch.validEnd)return this.delete(t.start(a),n.end(a));if(a>0&&(s||t.node(a-1).canReplace(t.index(a-1),n.indexAfter(a-1))))return this.delete(t.before(a),n.after(a))}for(var l=1;l<=t.depth&&l<=n.depth;l++)if(r-t.start(l)==t.depth-l&&e>t.end(l)&&n.end(l)-e!=n.depth-l)return this.delete(t.before(l),e);return this.delete(r,e)};function Cw(r,e){for(var t=[],n=Math.min(r.depth,e.depth),i=n;i>=0;i--){var o=r.start(i);if(o<r.pos-(r.depth-i)||e.end(i)>e.pos+(e.depth-i)||r.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==r.depth&&i==e.depth&&r.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&t.push(i)}return t}var $p=Object.create(null),qt=function(e,t,n){this.ranges=n||[new FD(e.min(t),e.max(t))],this.$anchor=e,this.$head=t},ao={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};ao.anchor.get=function(){return this.$anchor.pos};ao.head.get=function(){return this.$head.pos};ao.from.get=function(){return this.$from.pos};ao.to.get=function(){return this.$to.pos};ao.$from.get=function(){return this.ranges[0].$from};ao.$to.get=function(){return this.ranges[0].$to};ao.empty.get=function(){for(var r=this.ranges,e=0;e<r.length;e++)if(r[e].$from.pos!=r[e].$to.pos)return!1;return!0};qt.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)};qt.prototype.replace=function(e,t){t===void 0&&(t=ze.empty);for(var n=t.content.lastChild,i=null,o=0;o<t.openEnd;o++)i=n,n=n.lastChild;for(var a=e.steps.length,s=this.ranges,l=0;l<s.length;l++){var c=s[l],u=c.$from,p=c.$to,d=e.mapping.slice(a);e.replaceRange(d.map(u.pos),d.map(p.pos),l?ze.empty:t),l==0&&Sw(e,a,(n?n.isInline:i&&i.isTextblock)?-1:1)}};qt.prototype.replaceWith=function(e,t){for(var n=e.steps.length,i=this.ranges,o=0;o<i.length;o++){var a=i[o],s=a.$from,l=a.$to,c=e.mapping.slice(n),u=c.map(s.pos),p=c.map(l.pos);o?e.deleteRange(u,p):(e.replaceRangeWith(u,p,t),Sw(e,n,t.isInline?-1:1))}};qt.findFrom=function(e,t,n){var i=e.parent.inlineContent?new Pa(e):ra(e.node(0),e.parent,e.pos,e.index(),t,n);if(i)return i;for(var o=e.depth-1;o>=0;o--){var a=t<0?ra(e.node(0),e.node(o),e.before(o+1),e.index(o),t,n):ra(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,n);if(a)return a}};qt.near=function(e,t){return t===void 0&&(t=1),this.findFrom(e,t)||this.findFrom(e,-t)||new Vs(e.node(0))};qt.atStart=function(e){return ra(e,e,0,0,1)||new Vs(e)};qt.atEnd=function(e){return ra(e,e,e.content.size,e.childCount,-1)||new Vs(e)};qt.fromJSON=function(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=$p[t.type];if(!n)throw new RangeError("No selection type "+t.type+" defined");return n.fromJSON(e,t)};qt.jsonID=function(e,t){if(e in $p)throw new RangeError("Duplicate use of selection JSON ID "+e);return $p[e]=t,t.prototype.jsonID=e,t};qt.prototype.getBookmark=function(){return Pa.between(this.$anchor,this.$head).getBookmark()};Object.defineProperties(qt.prototype,ao);qt.prototype.visible=!0;var FD=function(e,t){this.$from=e,this.$to=t},Pa=function(r){function e(n,i){i===void 0&&(i=n),r.call(this,n,i)}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={$cursor:{configurable:!0}};return t.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(i,o){var a=i.resolve(o.map(this.head));if(!a.parent.inlineContent)return r.near(a);var s=i.resolve(o.map(this.anchor));return new e(s.parent.inlineContent?s:a,a)},e.prototype.replace=function(i,o){if(o===void 0&&(o=ze.empty),r.prototype.replace.call(this,i,o),o==ze.empty){var a=this.$from.marksAcross(this.$to);a&&i.ensureMarks(a)}},e.prototype.eq=function(i){return i instanceof e&&i.anchor==this.anchor&&i.head==this.head},e.prototype.getBookmark=function(){return new Ts(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(i,o){if(typeof o.anchor!="number"||typeof o.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(i.resolve(o.anchor),i.resolve(o.head))},e.create=function(i,o,a){a===void 0&&(a=o);var s=i.resolve(o);return new this(s,a==o?s:i.resolve(a))},e.between=function(i,o,a){var s=i.pos-o.pos;if((!a||s)&&(a=s>=0?1:-1),!o.parent.inlineContent){var l=r.findFrom(o,a,!0)||r.findFrom(o,-a,!0);if(l)o=l.$head;else return r.near(o,a)}return i.parent.inlineContent||(s==0?i=o:(i=(r.findFrom(i,-a,!0)||r.findFrom(i,a,!0)).$anchor,i.pos<o.pos!=s<0&&(i=o))),new e(i,o)},Object.defineProperties(e.prototype,t),e}(qt);qt.jsonID("text",Pa);var Ts=function(e,t){this.anchor=e,this.head=t};Ts.prototype.map=function(e){return new Ts(e.map(this.anchor),e.map(this.head))};Ts.prototype.resolve=function(e){return Pa.between(e.resolve(this.anchor),e.resolve(this.head))};var va=function(r){function e(t){var n=t.nodeAfter,i=t.node(0).resolve(t.pos+n.nodeSize);r.call(this,t,i),this.node=n}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.map=function(n,i){var o=i.mapResult(this.anchor),a=o.deleted,s=o.pos,l=n.resolve(s);return a?r.near(l):new e(l)},e.prototype.content=function(){return new ze(be.from(this.node),0,0)},e.prototype.eq=function(n){return n instanceof e&&n.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new Ul(this.anchor)},e.fromJSON=function(n,i){if(typeof i.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(n.resolve(i.anchor))},e.create=function(n,i){return new this(n.resolve(i))},e.isSelectable=function(n){return!n.isText&&n.type.spec.selectable!==!1},e}(qt);va.prototype.visible=!1;qt.jsonID("node",va);var Ul=function(e){this.anchor=e};Ul.prototype.map=function(e){var t=e.mapResult(this.anchor),n=t.deleted,i=t.pos;return n?new Ts(i,i):new Ul(i)};Ul.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=t.nodeAfter;return n&&va.isSelectable(n)?new va(t):qt.near(t)};var Vs=function(r){function e(t){r.call(this,t.resolve(0),t.resolve(t.content.size))}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.replace=function(n,i){if(i===void 0&&(i=ze.empty),i==ze.empty){n.delete(0,n.doc.content.size);var o=r.atStart(n.doc);o.eq(n.selection)||n.setSelection(o)}else r.prototype.replace.call(this,n,i)},e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(n){return new e(n)},e.prototype.map=function(n){return new e(n)},e.prototype.eq=function(n){return n instanceof e},e.prototype.getBookmark=function(){return RD},e}(qt);qt.jsonID("all",Vs);var RD={map:function(){return this},resolve:function(e){return new Vs(e)}};function ra(r,e,t,n,i,o){if(e.inlineContent)return Pa.create(r,t);for(var a=n-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){var s=e.child(a);if(s.isAtom){if(!o&&va.isSelectable(s))return va.create(r,t-(i<0?s.nodeSize:0))}else{var l=ra(r,s,t+i,i<0?s.childCount:0,i,o);if(l)return l}t+=s.nodeSize*i}}function Sw(r,e,t){var n=r.steps.length-1;if(!(n<e)){var i=r.steps[n];if(i instanceof oo||i instanceof zo){var o=r.mapping.maps[n],a;o.forEach(function(s,l,c,u){a==null&&(a=u)}),r.setSelection(qt.near(r.doc.resolve(a),t))}}}var Bh=1,al=2,$h=4,LD=function(r){function e(n){r.call(this,n.doc),this.time=Date.now(),this.curSelection=n.selection,this.curSelectionFor=0,this.storedMarks=n.storedMarks,this.updated=0,this.meta=Object.create(null)}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return t.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(i){if(i.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=i,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Bh)&~al,this.storedMarks=null,this},t.selectionSet.get=function(){return(this.updated&Bh)>0},e.prototype.setStoredMarks=function(i){return this.storedMarks=i,this.updated|=al,this},e.prototype.ensureMarks=function(i){return gt.sameSet(this.storedMarks||this.selection.$from.marks(),i)||this.setStoredMarks(i),this},e.prototype.addStoredMark=function(i){return this.ensureMarks(i.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(i){return this.ensureMarks(i.removeFromSet(this.storedMarks||this.selection.$head.marks()))},t.storedMarksSet.get=function(){return(this.updated&al)>0},e.prototype.addStep=function(i,o){r.prototype.addStep.call(this,i,o),this.updated=this.updated&~al,this.storedMarks=null},e.prototype.setTime=function(i){return this.time=i,this},e.prototype.replaceSelection=function(i){return this.selection.replace(this,i),this},e.prototype.replaceSelectionWith=function(i,o){var a=this.selection;return o!==!1&&(i=i.mark(this.storedMarks||(a.empty?a.$from.marks():a.$from.marksAcross(a.$to)||gt.none))),a.replaceWith(this,i),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(i,o,a){a===void 0&&(a=o);var s=this.doc.type.schema;if(o==null)return i?this.replaceSelectionWith(s.text(i),!0):this.deleteSelection();if(!i)return this.deleteRange(o,a);var l=this.storedMarks;if(!l){var c=this.doc.resolve(o);l=a==o?c.marks():c.marksAcross(this.doc.resolve(a))}return this.replaceRangeWith(o,a,s.text(i,l)),this.selection.empty||this.setSelection(qt.near(this.selection.$to)),this},e.prototype.setMeta=function(i,o){return this.meta[typeof i=="string"?i:i.key]=o,this},e.prototype.getMeta=function(i){return this.meta[typeof i=="string"?i:i.key]},t.isGeneric.get=function(){for(var n in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=$h,this},t.scrolledIntoView.get=function(){return(this.updated&$h)>0},Object.defineProperties(e.prototype,t),e}(er);function Hh(r,e){return!e||!r?r:r.bind(e)}var Ua=function(e,t,n){this.name=e,this.init=Hh(t.init,n),this.apply=Hh(t.apply,n)},BD=[new Ua("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new Ua("selection",{init:function(e,t){return e.selection||qt.atStart(t.doc)},apply:function(e){return e.selection}}),new Ua("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,t,n,i){return i.selection.$cursor?e.storedMarks:null}}),new Ua("scrollToSelection",{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],nf=function(e,t){var n=this;this.schema=e,this.fields=BD.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),t&&t.forEach(function(i){if(n.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");n.plugins.push(i),n.pluginsByKey[i.key]=i,i.spec.state&&n.fields.push(new Ua(i.key,i.spec.state,i))})},cn=function(e){this.config=e},Xc={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};Xc.schema.get=function(){return this.config.schema};Xc.plugins.get=function(){return this.config.plugins};cn.prototype.apply=function(e){return this.applyTransaction(e).state};cn.prototype.filterTransaction=function(e,t){t===void 0&&(t=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=t){var i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0};cn.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var t=[e],n=this.applyInner(e),i=null;;){for(var o=!1,a=0;a<this.config.plugins.length;a++){var s=this.config.plugins[a];if(s.spec.appendTransaction){var l=i?i[a].n:0,c=i?i[a].state:this,u=l<t.length&&s.spec.appendTransaction.call(s,l?t.slice(l):t,c,n);if(u&&n.filterTransaction(u,a)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(var p=0;p<this.config.plugins.length;p++)i.push(p<a?{state:n,n:t.length}:{state:this,n:0})}t.push(u),n=n.applyInner(u),o=!0}i&&(i[a]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}};cn.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var t=new cn(this.config),n=this.config.fields,i=0;i<n.length;i++){var o=n[i];t[o.name]=o.apply(e,this[o.name],this,t)}for(var a=0;a<Ms.length;a++)Ms[a](this,e,t);return t};Xc.tr.get=function(){return new LD(this)};cn.create=function(e){for(var t=new nf(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new cn(t),i=0;i<t.fields.length;i++)n[t.fields[i].name]=t.fields[i].init(e,n);return n};cn.prototype.reconfigure=function(e){for(var t=new nf(this.schema,e.plugins),n=t.fields,i=new cn(t),o=0;o<n.length;o++){var a=n[o].name;i[a]=this.hasOwnProperty(a)?this[a]:n[o].init(e,i)}return i};cn.prototype.toJSON=function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(function(a){return a.toJSON()})),e&&typeof e=="object")for(var n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");var i=e[n],o=i.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(i,this[i.key]))}return t};cn.fromJSON=function(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var i=new nf(e.schema,e.plugins),o=new cn(i);return i.fields.forEach(function(a){if(a.name=="doc")o.doc=mt.fromJSON(e.schema,t.doc);else if(a.name=="selection")o.selection=qt.fromJSON(o.doc,t.selection);else if(a.name=="storedMarks")t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(var s in n){var l=n[s],c=l.spec.state;if(l.key==a.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(t,s)){o[a.name]=c.fromJSON.call(l,e,t[s],o);return}}o[a.name]=a.init(e,o)}}),o};cn.addApplyListener=function(e){Ms.push(e)};cn.removeApplyListener=function(e){var t=Ms.indexOf(e);t>-1&&Ms.splice(t,1)};Object.defineProperties(cn.prototype,Xc);var Ms=[];function jh(r,e){return e?r.createChecked(null,e):r.createAndFill()}function $D(r){if(r.cached.tableNodeTypes)return r.cached.tableNodeTypes;const e={};return Object.keys(r.nodes).forEach(t=>{const n=r.nodes[t];n.spec.tableRole&&(e[n.spec.tableRole]=n)}),r.cached.tableNodeTypes=e,e}function HD(r,e,t,n,i){const o=$D(r),a=[],s=[];for(let c=0;c<t;c+=1){const u=jh(o.cell,i);if(u&&s.push(u),n){const p=jh(o.header_cell,i);p&&a.push(p)}}const l=[];for(let c=0;c<e;c+=1)l.push(o.row.createChecked(null,n&&c===0?a:s));return o.table.createChecked(null,l)}function jD(r){return r instanceof zt}const sl=({editor:r})=>{const{selection:e}=r.state;if(!jD(e))return!1;let t=0;const n=Nb(e.ranges[0].$from,o=>o.type.name==="table");return n==null||n.node.descendants(o=>{if(o.type.name==="table")return!1;["tableCell","tableHeader"].includes(o.type.name)&&(t+=1)}),t===e.ranges.length?(r.commands.deleteTable(),!0):!1};function Wh(r,e,t,n,i,o){let a=0,s=!0,l=e.firstChild;const c=r.firstChild;for(let u=0,p=0;u<c.childCount;u+=1){const{colspan:d,colwidth:h}=c.child(u).attrs;for(let f=0;f<d;f+=1,p+=1){const g=i===p?o:h&&h[f],m=g?`${g}px`:"";a+=g||n,g||(s=!1),l?(l.style.width!==m&&(l.style.width=m),l=l.nextSibling):e.appendChild(document.createElement("col")).style.width=m}}for(;l;){const u=l.nextSibling;l.parentNode.removeChild(l),l=u}s?(t.style.width=`${a}px`,t.style.minWidth=""):(t.style.width="",t.style.minWidth=`${a}px`)}class WD{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Wh(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,Wh(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}}const VD=Er.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:WD,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({HTMLAttributes:r}){return["table",lr(this.options.HTMLAttributes,r),["tbody",0]]},addCommands(){return{insertTable:({rows:r=3,cols:e=3,withHeaderRow:t=!0}={})=>({tr:n,dispatch:i,editor:o})=>{const a=HD(o.schema,r,e,t);if(i){const s=n.selection.anchor+1;n.replaceSelectionWith(a).scrollIntoView().setSelection(Pa.near(n.doc.resolve(s)))}return!0},addColumnBefore:()=>({state:r,dispatch:e})=>B2(r,e),addColumnAfter:()=>({state:r,dispatch:e})=>$2(r,e),deleteColumn:()=>({state:r,dispatch:e})=>j2(r,e),addRowBefore:()=>({state:r,dispatch:e})=>V2(r,e),addRowAfter:()=>({state:r,dispatch:e})=>Y2(r,e),deleteRow:()=>({state:r,dispatch:e})=>U2(r,e),deleteTable:()=>({state:r,dispatch:e})=>eD(r,e),mergeCells:()=>({state:r,dispatch:e})=>_h(r,e),splitCell:()=>({state:r,dispatch:e})=>Nh(r,e),toggleHeaderColumn:()=>({state:r,dispatch:e})=>Es("column")(r,e),toggleHeaderRow:()=>({state:r,dispatch:e})=>Es("row")(r,e),toggleHeaderCell:()=>({state:r,dispatch:e})=>Z2(r,e),mergeOrSplit:()=>({state:r,dispatch:e})=>_h(r,e)?!0:Nh(r,e),setCellAttribute:(r,e)=>({state:t,dispatch:n})=>G2(r,e)(t,n),goToNextCell:()=>({state:r,dispatch:e})=>Ih(1)(r,e),goToPreviousCell:()=>({state:r,dispatch:e})=>Ih(-1)(r,e),fixTables:()=>({state:r,dispatch:e})=>(e&&Ub(r),!0),setCellSelection:r=>({tr:e,dispatch:t})=>{if(t){const n=zt.create(e.doc,r.anchorCell,r.headCell);e.setSelection(n)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:sl,"Mod-Backspace":sl,Delete:sl,"Mod-Delete":sl}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[tD({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],pD({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(r){const e={name:r.name,options:r.options,storage:r.storage};return{tableRole:tt(Te(r,"tableRole",e))}}}),YD=Er.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:r}){return["tr",lr(this.options.HTMLAttributes,r),0]}}),qD=Er.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:r=>{const e=r.getAttribute("colwidth");return e?[parseInt(e,10)]:null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:r}){return["td",lr(this.options.HTMLAttributes,r),0]}}),UD=Er.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:r=>{const e=r.getAttribute("colwidth");return e?[parseInt(e,10)]:null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:r}){return["th",lr(this.options.HTMLAttributes,r),0]}});(()=>{function r(w,x){var y=Object.keys(w);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(w);x&&(D=D.filter(function(F){return Object.getOwnPropertyDescriptor(w,F).enumerable})),y.push.apply(y,D)}return y}function e(w){for(var x=1;x<arguments.length;x++){var y=arguments[x]!=null?arguments[x]:{};x%2?r(Object(y),!0).forEach(function(D){n(w,D,y[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(y)):r(Object(y)).forEach(function(D){Object.defineProperty(w,D,Object.getOwnPropertyDescriptor(y,D))})}return w}function t(w){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(x){return typeof x}:t=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},t(w)}function n(w,x,y){return x in w?Object.defineProperty(w,x,{value:y,enumerable:!0,configurable:!0,writable:!0}):w[x]=y,w}function i(){return i=Object.assign||function(w){for(var x=1;x<arguments.length;x++){var y=arguments[x];for(var D in y)Object.prototype.hasOwnProperty.call(y,D)&&(w[D]=y[D])}return w},i.apply(this,arguments)}function o(w,x){if(w==null)return{};var y={},D=Object.keys(w),F,V;for(V=0;V<D.length;V++)F=D[V],!(x.indexOf(F)>=0)&&(y[F]=w[F]);return y}function a(w,x){if(w==null)return{};var y=o(w,x),D,F;if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(w);for(F=0;F<V.length;F++)D=V[F],!(x.indexOf(D)>=0)&&(!Object.prototype.propertyIsEnumerable.call(w,D)||(y[D]=w[D]))}return y}var s="1.14.0";function l(w){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(w)}var c=l(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),u=l(/Edge/i),p=l(/firefox/i),d=l(/safari/i)&&!l(/chrome/i)&&!l(/android/i),h=l(/iP(ad|od|hone)/i),f=l(/chrome/i)&&l(/android/i),g={capture:!1,passive:!1};function m(w,x,y){w.addEventListener(x,y,!c&&g)}function b(w,x,y){w.removeEventListener(x,y,!c&&g)}function v(w,x){if(x){if(x[0]===">"&&(x=x.substring(1)),w)try{if(w.matches)return w.matches(x);if(w.msMatchesSelector)return w.msMatchesSelector(x);if(w.webkitMatchesSelector)return w.webkitMatchesSelector(x)}catch{return!1}return!1}}function C(w){return w.host&&w!==document&&w.host.nodeType?w.host:w.parentNode}function k(w,x,y,D){if(w){y=y||document;do{if(x!=null&&(x[0]===">"?w.parentNode===y&&v(w,x):v(w,x))||D&&w===y)return w;if(w===y)break}while(w=C(w))}return null}var _=/\s+/g;function N(w,x,y){if(w&&x)if(w.classList)w.classList[y?"add":"remove"](x);else{var D=(" "+w.className+" ").replace(_," ").replace(" "+x+" "," ");w.className=(D+(y?" "+x:"")).replace(_," ")}}function I(w,x,y){var D=w&&w.style;if(D){if(y===void 0)return document.defaultView&&document.defaultView.getComputedStyle?y=document.defaultView.getComputedStyle(w,""):w.currentStyle&&(y=w.currentStyle),x===void 0?y:y[x];!(x in D)&&x.indexOf("webkit")===-1&&(x="-webkit-"+x),D[x]=y+(typeof y=="string"?"":"px")}}function L(w,x){var y="";if(typeof w=="string")y=w;else do{var D=I(w,"transform");D&&D!=="none"&&(y=D+" "+y)}while(!x&&(w=w.parentNode));var F=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return F&&new F(y)}function q(w,x,y){if(w){var D=w.getElementsByTagName(x),F=0,V=D.length;if(y)for(;F<V;F++)y(D[F],F);return D}return[]}function A(){var w=document.scrollingElement;return w||document.documentElement}function z(w,x,y,D,F){if(!(!w.getBoundingClientRect&&w!==window)){var V,Y,ee,G,ce,ye,xe;if(w!==window&&w.parentNode&&w!==A()?(V=w.getBoundingClientRect(),Y=V.top,ee=V.left,G=V.bottom,ce=V.right,ye=V.height,xe=V.width):(Y=0,ee=0,G=window.innerHeight,ce=window.innerWidth,ye=window.innerHeight,xe=window.innerWidth),(x||y)&&w!==window&&(F=F||w.parentNode,!c))do if(F&&F.getBoundingClientRect&&(I(F,"transform")!=="none"||y&&I(F,"position")!=="static")){var je=F.getBoundingClientRect();Y-=je.top+parseInt(I(F,"border-top-width")),ee-=je.left+parseInt(I(F,"border-left-width")),G=Y+V.height,ce=ee+V.width;break}while(F=F.parentNode);if(D&&w!==window){var fe=L(F||w),We=fe&&fe.a,Oe=fe&&fe.d;fe&&(Y/=Oe,ee/=We,xe/=We,ye/=Oe,G=Y+ye,ce=ee+xe)}return{top:Y,left:ee,bottom:G,right:ce,width:xe,height:ye}}}function H(w,x,y){for(var D=ne(w,!0),F=z(w)[x];D;){var V=z(D)[y],Y=void 0;if(y==="top"||y==="left"?Y=F>=V:Y=F<=V,!Y)return D;if(D===A())break;D=ne(D,!1)}return!1}function U(w,x,y,D){for(var F=0,V=0,Y=w.children;V<Y.length;){if(Y[V].style.display!=="none"&&Y[V]!==pe.ghost&&(D||Y[V]!==pe.dragged)&&k(Y[V],y.draggable,w,!1)){if(F===x)return Y[V];F++}V++}return null}function ie(w,x){for(var y=w.lastElementChild;y&&(y===pe.ghost||I(y,"display")==="none"||x&&!v(y,x));)y=y.previousElementSibling;return y||null}function ke(w,x){var y=0;if(!w||!w.parentNode)return-1;for(;w=w.previousElementSibling;)w.nodeName.toUpperCase()!=="TEMPLATE"&&w!==pe.clone&&(!x||v(w,x))&&y++;return y}function Se(w){var x=0,y=0,D=A();if(w)do{var F=L(w),V=F.a,Y=F.d;x+=w.scrollLeft*V,y+=w.scrollTop*Y}while(w!==D&&(w=w.parentNode));return[x,y]}function $(w,x){for(var y in w)if(w.hasOwnProperty(y)){for(var D in x)if(x.hasOwnProperty(D)&&x[D]===w[y][D])return Number(y)}return-1}function ne(w,x){if(!w||!w.getBoundingClientRect)return A();var y=w,D=!1;do if(y.clientWidth<y.scrollWidth||y.clientHeight<y.scrollHeight){var F=I(y);if(y.clientWidth<y.scrollWidth&&(F.overflowX=="auto"||F.overflowX=="scroll")||y.clientHeight<y.scrollHeight&&(F.overflowY=="auto"||F.overflowY=="scroll")){if(!y.getBoundingClientRect||y===document.body)return A();if(D||x)return y;D=!0}}while(y=y.parentNode);return A()}function ue(w,x){if(w&&x)for(var y in x)x.hasOwnProperty(y)&&(w[y]=x[y]);return w}function Ee(w,x){return Math.round(w.top)===Math.round(x.top)&&Math.round(w.left)===Math.round(x.left)&&Math.round(w.height)===Math.round(x.height)&&Math.round(w.width)===Math.round(x.width)}var He;function mr(w,x){return function(){if(!He){var y=arguments,D=this;y.length===1?w.call(D,y[0]):w.apply(D,y),He=setTimeout(function(){He=void 0},x)}}}function xn(){clearTimeout(He),He=void 0}function kn(w,x,y){w.scrollLeft+=x,w.scrollTop+=y}function Ar(w){var x=window.Polymer,y=window.jQuery||window.Zepto;return x&&x.dom?x.dom(w).cloneNode(!0):y?y(w).clone(!0)[0]:w.cloneNode(!0)}var ut="Sortable"+new Date().getTime();function pr(){var w=[],x;return{captureAnimationState:function(){if(w=[],!!this.options.animation){var y=[].slice.call(this.el.children);y.forEach(function(D){if(!(I(D,"display")==="none"||D===pe.ghost)){w.push({target:D,rect:z(D)});var F=e({},w[w.length-1].rect);if(D.thisAnimationDuration){var V=L(D,!0);V&&(F.top-=V.f,F.left-=V.e)}D.fromRect=F}})}},addAnimationState:function(y){w.push(y)},removeAnimationState:function(y){w.splice($(w,{target:y}),1)},animateAll:function(y){var D=this;if(!this.options.animation){clearTimeout(x),typeof y=="function"&&y();return}var F=!1,V=0;w.forEach(function(Y){var ee=0,G=Y.target,ce=G.fromRect,ye=z(G),xe=G.prevFromRect,je=G.prevToRect,fe=Y.rect,We=L(G,!0);We&&(ye.top-=We.f,ye.left-=We.e),G.toRect=ye,G.thisAnimationDuration&&Ee(xe,ye)&&!Ee(ce,ye)&&(fe.top-ye.top)/(fe.left-ye.left)==(ce.top-ye.top)/(ce.left-ye.left)&&(ee=un(fe,xe,je,D.options)),Ee(ye,ce)||(G.prevFromRect=ce,G.prevToRect=ye,ee||(ee=D.options.animation),D.animate(G,fe,ye,ee)),ee&&(F=!0,V=Math.max(V,ee),clearTimeout(G.animationResetTimer),G.animationResetTimer=setTimeout(function(){G.animationTime=0,G.prevFromRect=null,G.fromRect=null,G.prevToRect=null,G.thisAnimationDuration=null},ee),G.thisAnimationDuration=ee)}),clearTimeout(x),F?x=setTimeout(function(){typeof y=="function"&&y()},V):typeof y=="function"&&y(),w=[]},animate:function(y,D,F,V){if(V){I(y,"transition",""),I(y,"transform","");var Y=L(this.el),ee=Y&&Y.a,G=Y&&Y.d,ce=(D.left-F.left)/(ee||1),ye=(D.top-F.top)/(G||1);y.animatingX=!!ce,y.animatingY=!!ye,I(y,"transform","translate3d("+ce+"px,"+ye+"px,0)"),this.forRepaintDummy=Br(y),I(y,"transition","transform "+V+"ms"+(this.options.easing?" "+this.options.easing:"")),I(y,"transform","translate3d(0,0,0)"),typeof y.animated=="number"&&clearTimeout(y.animated),y.animated=setTimeout(function(){I(y,"transition",""),I(y,"transform",""),y.animated=!1,y.animatingX=!1,y.animatingY=!1},V)}}}}function Br(w){return w.offsetWidth}function un(w,x,y,D){return Math.sqrt(Math.pow(x.top-w.top,2)+Math.pow(x.left-w.left,2))/Math.sqrt(Math.pow(x.top-y.top,2)+Math.pow(x.left-y.left,2))*D.animation}var Kt=[],Cn={initializeByDefault:!0},Mt={mount:function(w){for(var x in Cn)Cn.hasOwnProperty(x)&&!(x in w)&&(w[x]=Cn[x]);Kt.forEach(function(y){if(y.pluginName===w.pluginName)throw"Sortable: Cannot mount plugin ".concat(w.pluginName," more than once")}),Kt.push(w)},pluginEvent:function(w,x,y){var D=this;this.eventCanceled=!1,y.cancel=function(){D.eventCanceled=!0};var F=w+"Global";Kt.forEach(function(V){!x[V.pluginName]||(x[V.pluginName][F]&&x[V.pluginName][F](e({sortable:x},y)),x.options[V.pluginName]&&x[V.pluginName][w]&&x[V.pluginName][w](e({sortable:x},y)))})},initializePlugins:function(w,x,y,D){Kt.forEach(function(Y){var ee=Y.pluginName;if(!(!w.options[ee]&&!Y.initializeByDefault)){var G=new Y(w,x,w.options);G.sortable=w,G.options=w.options,w[ee]=G,i(y,G.defaults)}});for(var F in w.options)if(w.options.hasOwnProperty(F)){var V=this.modifyOption(w,F,w.options[F]);typeof V!="undefined"&&(w.options[F]=V)}},getEventProperties:function(w,x){var y={};return Kt.forEach(function(D){typeof D.eventProperties=="function"&&i(y,D.eventProperties.call(x[D.pluginName],w))}),y},modifyOption:function(w,x,y){var D;return Kt.forEach(function(F){!w[F.pluginName]||F.optionListeners&&typeof F.optionListeners[x]=="function"&&(D=F.optionListeners[x].call(w[F.pluginName],y))}),D}};function Tr(w){var x=w.sortable,y=w.rootEl,D=w.name,F=w.targetEl,V=w.cloneEl,Y=w.toEl,ee=w.fromEl,G=w.oldIndex,ce=w.newIndex,ye=w.oldDraggableIndex,xe=w.newDraggableIndex,je=w.originalEvent,fe=w.putSortable,We=w.extraEventProperties;if(x=x||y&&y[ut],!!x){var Oe,dt=x.options,Ke="on"+D.charAt(0).toUpperCase()+D.substr(1);window.CustomEvent&&!c&&!u?Oe=new CustomEvent(D,{bubbles:!0,cancelable:!0}):(Oe=document.createEvent("Event"),Oe.initEvent(D,!0,!0)),Oe.to=Y||y,Oe.from=ee||y,Oe.item=F||y,Oe.clone=V,Oe.oldIndex=G,Oe.newIndex=ce,Oe.oldDraggableIndex=ye,Oe.newDraggableIndex=xe,Oe.originalEvent=je,Oe.pullMode=fe?fe.lastPutMode:void 0;var bt=e(e({},We),Mt.getEventProperties(D,x));for(var lt in bt)Oe[lt]=bt[lt];y&&y.dispatchEvent(Oe),dt[Ke]&&dt[Ke].call(x,Oe)}}var vr=["evt"],vt=function(w,x){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D=y.evt,F=a(y,vr);Mt.pluginEvent.bind(pe)(w,x,e({dragEl:re,parentEl:Dt,ghostEl:Fe,rootEl:et,nextEl:Sn,lastDownEl:$n,cloneEl:at,cloneHidden:dr,dragStarted:hn,putSortable:Lt,activeSortable:pe.active,originalEvent:D,oldIndex:tr,oldDraggableIndex:pn,newIndex:rr,newDraggableIndex:fr,hideGhostForTarget:le,unhideGhostForTarget:Xe,cloneNowHidden:function(){dr=!0},cloneNowShown:function(){dr=!1},dispatchSortableEvent:function(V){Rt({sortable:x,name:V,originalEvent:D})}},F))};function Rt(w){Tr(e({putSortable:Lt,cloneEl:at,targetEl:re,rootEl:et,oldIndex:tr,oldDraggableIndex:pn,newIndex:rr,newDraggableIndex:fr},w))}var re,Dt,Fe,et,Sn,$n,at,dr,tr,rr,pn,fr,Hn,Lt,Kr=!1,dn=!1,fn=[],Ut,rt,jn,Wn,Ai,$r,hn,nr,gn,Zr=!1,S=!1,T,R,J=[],se=!1,ge=[],Le=typeof document!="undefined",De=h,Ve=u||c?"cssFloat":"float",M=Le&&!f&&!h&&"draggable"in document.createElement("div"),P=function(){if(Le){if(c)return!1;var w=document.createElement("x");return w.style.cssText="pointer-events:auto",w.style.pointerEvents==="auto"}}(),W=function(w,x){var y=I(w),D=parseInt(y.width)-parseInt(y.paddingLeft)-parseInt(y.paddingRight)-parseInt(y.borderLeftWidth)-parseInt(y.borderRightWidth),F=U(w,0,x),V=U(w,1,x),Y=F&&I(F),ee=V&&I(V),G=Y&&parseInt(Y.marginLeft)+parseInt(Y.marginRight)+z(F).width,ce=ee&&parseInt(ee.marginLeft)+parseInt(ee.marginRight)+z(V).width;if(y.display==="flex")return y.flexDirection==="column"||y.flexDirection==="column-reverse"?"vertical":"horizontal";if(y.display==="grid")return y.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(F&&Y.float&&Y.float!=="none"){var ye=Y.float==="left"?"left":"right";return V&&(ee.clear==="both"||ee.clear===ye)?"vertical":"horizontal"}return F&&(Y.display==="block"||Y.display==="flex"||Y.display==="table"||Y.display==="grid"||G>=D&&y[Ve]==="none"||V&&y[Ve]==="none"&&G+ce>D)?"vertical":"horizontal"},ae=function(w,x,y){var D=y?w.left:w.top,F=y?w.right:w.bottom,V=y?w.width:w.height,Y=y?x.left:x.top,ee=y?x.right:x.bottom,G=y?x.width:x.height;return D===Y||F===ee||D+V/2===Y+G/2},we=function(w,x){var y;return fn.some(function(D){var F=D[ut].options.emptyInsertThreshold;if(!(!F||ie(D))){var V=z(D),Y=w>=V.left-F&&w<=V.right+F,ee=x>=V.top-F&&x<=V.bottom+F;if(Y&&ee)return y=D}}),y},he=function(w){function x(F,V){return function(Y,ee,G,ce){var ye=Y.options.group.name&&ee.options.group.name&&Y.options.group.name===ee.options.group.name;if(F==null&&(V||ye))return!0;if(F==null||F===!1)return!1;if(V&&F==="clone")return F;if(typeof F=="function")return x(F(Y,ee,G,ce),V)(Y,ee,G,ce);var xe=(V?Y:ee).options.group.name;return F===!0||typeof F=="string"&&F===xe||F.join&&F.indexOf(xe)>-1}}var y={},D=w.group;(!D||t(D)!="object")&&(D={name:D}),y.name=D.name,y.checkPull=x(D.pull,!0),y.checkPut=x(D.put),y.revertClone=D.revertClone,w.group=y},le=function(){!P&&Fe&&I(Fe,"display","none")},Xe=function(){!P&&Fe&&I(Fe,"display","")};Le&&document.addEventListener("click",function(w){if(dn)return w.preventDefault(),w.stopPropagation&&w.stopPropagation(),w.stopImmediatePropagation&&w.stopImmediatePropagation(),dn=!1,!1},!0);var Me=function(w){if(re){w=w.touches?w.touches[0]:w;var x=we(w.clientX,w.clientY);if(x){var y={};for(var D in w)w.hasOwnProperty(D)&&(y[D]=w[D]);y.target=y.rootEl=x,y.preventDefault=void 0,y.stopPropagation=void 0,x[ut]._onDragOver(y)}}},Ye=function(w){re&&re.parentNode[ut]._isOutsideThisEl(w.target)};function pe(w,x){if(!(w&&w.nodeType&&w.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(w));this.el=w,this.options=x=i({},x),w[ut]=this;var y={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(w.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return W(w,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(V,Y){V.setData("Text",Y.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:pe.supportPointer!==!1&&"PointerEvent"in window&&!d,emptyInsertThreshold:5};Mt.initializePlugins(this,w,y);for(var D in y)!(D in x)&&(x[D]=y[D]);he(x);for(var F in this)F.charAt(0)==="_"&&typeof this[F]=="function"&&(this[F]=this[F].bind(this));this.nativeDraggable=x.forceFallback?!1:M,this.nativeDraggable&&(this.options.touchStartThreshold=1),x.supportPointer?m(w,"pointerdown",this._onTapStart):(m(w,"mousedown",this._onTapStart),m(w,"touchstart",this._onTapStart)),this.nativeDraggable&&(m(w,"dragover",this),m(w,"dragenter",this)),fn.push(this.el),x.store&&x.store.get&&this.sort(x.store.get(this)||[]),i(this,pr())}pe.prototype={constructor:pe,_isOutsideThisEl:function(w){!this.el.contains(w)&&w!==this.el&&(nr=null)},_getDirection:function(w,x){return typeof this.options.direction=="function"?this.options.direction.call(this,w,x,re):this.options.direction},_onTapStart:function(w){if(w.cancelable){var x=this,y=this.el,D=this.options,F=D.preventOnFilter,V=w.type,Y=w.touches&&w.touches[0]||w.pointerType&&w.pointerType==="touch"&&w,ee=(Y||w).target,G=w.target.shadowRoot&&(w.path&&w.path[0]||w.composedPath&&w.composedPath()[0])||ee,ce=D.filter;if(j(y),!re&&!(/mousedown|pointerdown/.test(V)&&w.button!==0||D.disabled)&&!G.isContentEditable&&!(!this.nativeDraggable&&d&&ee&&ee.tagName.toUpperCase()==="SELECT")&&(ee=k(ee,D.draggable,y,!1),!(ee&&ee.animated)&&$n!==ee)){if(tr=ke(ee),pn=ke(ee,D.draggable),typeof ce=="function"){if(ce.call(this,w,ee,this)){Rt({sortable:x,rootEl:G,name:"filter",targetEl:ee,toEl:y,fromEl:y}),vt("filter",x,{evt:w}),F&&w.cancelable&&w.preventDefault();return}}else if(ce&&(ce=ce.split(",").some(function(ye){if(ye=k(G,ye.trim(),y,!1),ye)return Rt({sortable:x,rootEl:ye,name:"filter",targetEl:ee,fromEl:y,toEl:y}),vt("filter",x,{evt:w}),!0}),ce)){F&&w.cancelable&&w.preventDefault();return}D.handle&&!k(G,D.handle,y,!1)||this._prepareDragStart(w,Y,ee)}}},_prepareDragStart:function(w,x,y){var D=this,F=D.el,V=D.options,Y=F.ownerDocument,ee;if(y&&!re&&y.parentNode===F){var G=z(y);if(et=F,re=y,Dt=re.parentNode,Sn=re.nextSibling,$n=y,Hn=V.group,pe.dragged=re,Ut={target:re,clientX:(x||w).clientX,clientY:(x||w).clientY},Ai=Ut.clientX-G.left,$r=Ut.clientY-G.top,this._lastX=(x||w).clientX,this._lastY=(x||w).clientY,re.style["will-change"]="all",ee=function(){if(vt("delayEnded",D,{evt:w}),pe.eventCanceled){D._onDrop();return}D._disableDelayedDragEvents(),!p&&D.nativeDraggable&&(re.draggable=!0),D._triggerDragStart(w,x),Rt({sortable:D,name:"choose",originalEvent:w}),N(re,V.chosenClass,!0)},V.ignore.split(",").forEach(function(ce){q(re,ce.trim(),st)}),m(Y,"dragover",Me),m(Y,"mousemove",Me),m(Y,"touchmove",Me),m(Y,"mouseup",D._onDrop),m(Y,"touchend",D._onDrop),m(Y,"touchcancel",D._onDrop),p&&this.nativeDraggable&&(this.options.touchStartThreshold=4,re.draggable=!0),vt("delayStart",this,{evt:w}),V.delay&&(!V.delayOnTouchOnly||x)&&(!this.nativeDraggable||!(u||c))){if(pe.eventCanceled){this._onDrop();return}m(Y,"mouseup",D._disableDelayedDrag),m(Y,"touchend",D._disableDelayedDrag),m(Y,"touchcancel",D._disableDelayedDrag),m(Y,"mousemove",D._delayedDragTouchMoveHandler),m(Y,"touchmove",D._delayedDragTouchMoveHandler),V.supportPointer&&m(Y,"pointermove",D._delayedDragTouchMoveHandler),D._dragStartTimer=setTimeout(ee,V.delay)}else ee()}},_delayedDragTouchMoveHandler:function(w){var x=w.touches?w.touches[0]:w;Math.max(Math.abs(x.clientX-this._lastX),Math.abs(x.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){re&&st(re),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var w=this.el.ownerDocument;b(w,"mouseup",this._disableDelayedDrag),b(w,"touchend",this._disableDelayedDrag),b(w,"touchcancel",this._disableDelayedDrag),b(w,"mousemove",this._delayedDragTouchMoveHandler),b(w,"touchmove",this._delayedDragTouchMoveHandler),b(w,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(w,x){x=x||w.pointerType=="touch"&&w,!this.nativeDraggable||x?this.options.supportPointer?m(document,"pointermove",this._onTouchMove):x?m(document,"touchmove",this._onTouchMove):m(document,"mousemove",this._onTouchMove):(m(re,"dragend",this),m(et,"dragstart",this._onDragStart));try{document.selection?Bt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(w,x){if(Kr=!1,et&&re){vt("dragStarted",this,{evt:x}),this.nativeDraggable&&m(document,"dragover",Ye);var y=this.options;!w&&N(re,y.dragClass,!1),N(re,y.ghostClass,!0),pe.active=this,w&&this._appendGhost(),Rt({sortable:this,name:"start",originalEvent:x})}else this._nulling()},_emulateDragOver:function(){if(rt){this._lastX=rt.clientX,this._lastY=rt.clientY,le();for(var w=document.elementFromPoint(rt.clientX,rt.clientY),x=w;w&&w.shadowRoot&&(w=w.shadowRoot.elementFromPoint(rt.clientX,rt.clientY),w!==x);)x=w;if(re.parentNode[ut]._isOutsideThisEl(w),x)do{if(x[ut]){var y=void 0;if(y=x[ut]._onDragOver({clientX:rt.clientX,clientY:rt.clientY,target:w,rootEl:x}),y&&!this.options.dragoverBubble)break}w=x}while(x=x.parentNode);Xe()}},_onTouchMove:function(w){if(Ut){var x=this.options,y=x.fallbackTolerance,D=x.fallbackOffset,F=w.touches?w.touches[0]:w,V=Fe&&L(Fe,!0),Y=Fe&&V&&V.a,ee=Fe&&V&&V.d,G=De&&R&&Se(R),ce=(F.clientX-Ut.clientX+D.x)/(Y||1)+(G?G[0]-J[0]:0)/(Y||1),ye=(F.clientY-Ut.clientY+D.y)/(ee||1)+(G?G[1]-J[1]:0)/(ee||1);if(!pe.active&&!Kr){if(y&&Math.max(Math.abs(F.clientX-this._lastX),Math.abs(F.clientY-this._lastY))<y)return;this._onDragStart(w,!0)}if(Fe){V?(V.e+=ce-(jn||0),V.f+=ye-(Wn||0)):V={a:1,b:0,c:0,d:1,e:ce,f:ye};var xe="matrix(".concat(V.a,",").concat(V.b,",").concat(V.c,",").concat(V.d,",").concat(V.e,",").concat(V.f,")");I(Fe,"webkitTransform",xe),I(Fe,"mozTransform",xe),I(Fe,"msTransform",xe),I(Fe,"transform",xe),jn=ce,Wn=ye,rt=F}w.cancelable&&w.preventDefault()}},_appendGhost:function(){if(!Fe){var w=this.options.fallbackOnBody?document.body:et,x=z(re,!0,De,!0,w),y=this.options;if(De){for(R=w;I(R,"position")==="static"&&I(R,"transform")==="none"&&R!==document;)R=R.parentNode;R!==document.body&&R!==document.documentElement?(R===document&&(R=A()),x.top+=R.scrollTop,x.left+=R.scrollLeft):R=A(),J=Se(R)}Fe=re.cloneNode(!0),N(Fe,y.ghostClass,!1),N(Fe,y.fallbackClass,!0),N(Fe,y.dragClass,!0),I(Fe,"transition",""),I(Fe,"transform",""),I(Fe,"box-sizing","border-box"),I(Fe,"margin",0),I(Fe,"top",x.top),I(Fe,"left",x.left),I(Fe,"width",x.width),I(Fe,"height",x.height),I(Fe,"opacity","0.8"),I(Fe,"position",De?"absolute":"fixed"),I(Fe,"zIndex","100000"),I(Fe,"pointerEvents","none"),pe.ghost=Fe,w.appendChild(Fe),I(Fe,"transform-origin",Ai/parseInt(Fe.style.width)*100+"% "+$r/parseInt(Fe.style.height)*100+"%")}},_onDragStart:function(w,x){var y=this,D=w.dataTransfer,F=y.options;if(vt("dragStart",this,{evt:w}),pe.eventCanceled){this._onDrop();return}vt("setupClone",this),pe.eventCanceled||(at=Ar(re),at.draggable=!1,at.style["will-change"]="",this._hideClone(),N(at,this.options.chosenClass,!1),pe.clone=at),y.cloneId=Bt(function(){vt("clone",y),!pe.eventCanceled&&(y.options.removeCloneOnHide||et.insertBefore(at,re),y._hideClone(),Rt({sortable:y,name:"clone"}))}),!x&&N(re,F.dragClass,!0),x?(dn=!0,y._loopId=setInterval(y._emulateDragOver,50)):(b(document,"mouseup",y._onDrop),b(document,"touchend",y._onDrop),b(document,"touchcancel",y._onDrop),D&&(D.effectAllowed="move",F.setData&&F.setData.call(y,D,re)),m(document,"drop",y),I(re,"transform","translateZ(0)")),Kr=!0,y._dragStartId=Bt(y._dragStarted.bind(y,x,w)),m(document,"selectstart",y),hn=!0,d&&I(document.body,"user-select","none")},_onDragOver:function(w){var x=this.el,y=w.target,D,F,V,Y=this.options,ee=Y.group,G=pe.active,ce=Hn===ee,ye=Y.sort,xe=Lt||G,je,fe=this,We=!1;if(se)return;function Oe(_e,Ze){vt(_e,fe,e({evt:w,isOwner:ce,axis:je?"vertical":"horizontal",revert:V,dragRect:D,targetRect:F,canSort:ye,fromSortable:xe,target:y,completed:Ke,onMove:function(nt,Zt){return yt(et,x,re,D,nt,z(nt),w,Zt)},changed:bt},Ze))}function dt(){Oe("dragOverAnimationCapture"),fe.captureAnimationState(),fe!==xe&&xe.captureAnimationState()}function Ke(_e){return Oe("dragOverCompleted",{insertion:_e}),_e&&(ce?G._hideClone():G._showClone(fe),fe!==xe&&(N(re,Lt?Lt.options.ghostClass:G.options.ghostClass,!1),N(re,Y.ghostClass,!0)),Lt!==fe&&fe!==pe.active?Lt=fe:fe===pe.active&&Lt&&(Lt=null),xe===fe&&(fe._ignoreWhileAnimating=y),fe.animateAll(function(){Oe("dragOverAnimationComplete"),fe._ignoreWhileAnimating=null}),fe!==xe&&(xe.animateAll(),xe._ignoreWhileAnimating=null)),(y===re&&!re.animated||y===x&&!y.animated)&&(nr=null),!Y.dragoverBubble&&!w.rootEl&&y!==document&&(re.parentNode[ut]._isOutsideThisEl(w.target),!_e&&Me(w)),!Y.dragoverBubble&&w.stopPropagation&&w.stopPropagation(),We=!0}function bt(){rr=ke(re),fr=ke(re,Y.draggable),Rt({sortable:fe,name:"change",toEl:x,newIndex:rr,newDraggableIndex:fr,originalEvent:w})}if(w.preventDefault!==void 0&&w.cancelable&&w.preventDefault(),y=k(y,Y.draggable,x,!0),Oe("dragOver"),pe.eventCanceled)return We;if(re.contains(w.target)||y.animated&&y.animatingX&&y.animatingY||fe._ignoreWhileAnimating===y)return Ke(!1);if(dn=!1,G&&!Y.disabled&&(ce?ye||(V=Dt!==et):Lt===this||(this.lastPutMode=Hn.checkPull(this,G,re,w))&&ee.checkPut(this,G,re,w))){if(je=this._getDirection(w,y)==="vertical",D=z(re),Oe("dragOverValid"),pe.eventCanceled)return We;if(V)return Dt=et,dt(),this._hideClone(),Oe("revert"),pe.eventCanceled||(Sn?et.insertBefore(re,Sn):et.appendChild(re)),Ke(!0);var lt=ie(x,Y.draggable);if(!lt||qe(w,je,this)&&!lt.animated){if(lt===re)return Ke(!1);if(lt&&x===w.target&&(y=lt),y&&(F=z(y)),yt(et,x,re,D,y,F,w,!!y)!==!1)return dt(),x.appendChild(re),Dt=x,bt(),Ke(!0)}else if(lt&&Pe(w,je,this)){var Ct=U(x,0,Y,!0);if(Ct===re)return Ke(!1);if(y=Ct,F=z(y),yt(et,x,re,D,y,F,w,!1)!==!1)return dt(),x.insertBefore(re,Ct),Dt=x,bt(),Ke(!0)}else if(y.parentNode===x){F=z(y);var Jt=0,$t,Qr=re.parentNode!==x,mn=!ae(re.animated&&re.toRect||D,y.animated&&y.toRect||F,je),Xt=je?"top":"left",wr=H(y,"top","top")||H(re,"top","top"),di=wr?wr.scrollTop:void 0;nr!==y&&($t=F[Xt],Zr=!1,S=!mn&&Y.invertSwap||Qr),Jt=Ue(w,y,F,je,mn?1:Y.swapThreshold,Y.invertedSwapThreshold==null?Y.swapThreshold:Y.invertedSwapThreshold,S,nr===y);var yr;if(Jt!==0){var En=ke(re);do En-=Jt,yr=Dt.children[En];while(yr&&(I(yr,"display")==="none"||yr===Fe))}if(Jt===0||yr===y)return Ke(!1);nr=y,gn=Jt;var Dn=y.nextElementSibling,X=!1;X=Jt===1;var Ae=yt(et,x,re,D,y,F,w,X);if(Ae!==!1)return(Ae===1||Ae===-1)&&(X=Ae===1),se=!0,setTimeout(xt,30),dt(),X&&!Dn?x.appendChild(re):y.parentNode.insertBefore(re,X?Dn:y),wr&&kn(wr,0,di-wr.scrollTop),Dt=re.parentNode,$t!==void 0&&!S&&(T=Math.abs($t-z(y)[Xt])),bt(),Ke(!0)}if(x.contains(re))return Ke(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){b(document,"mousemove",this._onTouchMove),b(document,"touchmove",this._onTouchMove),b(document,"pointermove",this._onTouchMove),b(document,"dragover",Me),b(document,"mousemove",Me),b(document,"touchmove",Me)},_offUpEvents:function(){var w=this.el.ownerDocument;b(w,"mouseup",this._onDrop),b(w,"touchend",this._onDrop),b(w,"pointerup",this._onDrop),b(w,"touchcancel",this._onDrop),b(document,"selectstart",this)},_onDrop:function(w){var x=this.el,y=this.options;if(rr=ke(re),fr=ke(re,y.draggable),vt("drop",this,{evt:w}),Dt=re&&re.parentNode,rr=ke(re),fr=ke(re,y.draggable),pe.eventCanceled){this._nulling();return}Kr=!1,S=!1,Zr=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),$e(this.cloneId),$e(this._dragStartId),this.nativeDraggable&&(b(document,"drop",this),b(x,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),d&&I(document.body,"user-select",""),I(re,"transform",""),w&&(hn&&(w.cancelable&&w.preventDefault(),!y.dropBubble&&w.stopPropagation()),Fe&&Fe.parentNode&&Fe.parentNode.removeChild(Fe),(et===Dt||Lt&&Lt.lastPutMode!=="clone")&&at&&at.parentNode&&at.parentNode.removeChild(at),re&&(this.nativeDraggable&&b(re,"dragend",this),st(re),re.style["will-change"]="",hn&&!Kr&&N(re,Lt?Lt.options.ghostClass:this.options.ghostClass,!1),N(re,this.options.chosenClass,!1),Rt({sortable:this,name:"unchoose",toEl:Dt,newIndex:null,newDraggableIndex:null,originalEvent:w}),et!==Dt?(rr>=0&&(Rt({rootEl:Dt,name:"add",toEl:Dt,fromEl:et,originalEvent:w}),Rt({sortable:this,name:"remove",toEl:Dt,originalEvent:w}),Rt({rootEl:Dt,name:"sort",toEl:Dt,fromEl:et,originalEvent:w}),Rt({sortable:this,name:"sort",toEl:Dt,originalEvent:w})),Lt&&Lt.save()):rr!==tr&&rr>=0&&(Rt({sortable:this,name:"update",toEl:Dt,originalEvent:w}),Rt({sortable:this,name:"sort",toEl:Dt,originalEvent:w})),pe.active&&((rr==null||rr===-1)&&(rr=tr,fr=pn),Rt({sortable:this,name:"end",toEl:Dt,originalEvent:w}),this.save()))),this._nulling()},_nulling:function(){vt("nulling",this),et=re=Dt=Fe=Sn=at=$n=dr=Ut=rt=hn=rr=fr=tr=pn=nr=gn=Lt=Hn=pe.dragged=pe.ghost=pe.clone=pe.active=null,ge.forEach(function(w){w.checked=!0}),ge.length=jn=Wn=0},handleEvent:function(w){switch(w.type){case"drop":case"dragend":this._onDrop(w);break;case"dragenter":case"dragover":re&&(this._onDragOver(w),ht(w));break;case"selectstart":w.preventDefault();break}},toArray:function(){for(var w=[],x,y=this.el.children,D=0,F=y.length,V=this.options;D<F;D++)x=y[D],k(x,V.draggable,this.el,!1)&&w.push(x.getAttribute(V.dataIdAttr)||Be(x));return w},sort:function(w,x){var y={},D=this.el;this.toArray().forEach(function(F,V){var Y=D.children[V];k(Y,this.options.draggable,D,!1)&&(y[F]=Y)},this),x&&this.captureAnimationState(),w.forEach(function(F){y[F]&&(D.removeChild(y[F]),D.appendChild(y[F]))}),x&&this.animateAll()},save:function(){var w=this.options.store;w&&w.set&&w.set(this)},closest:function(w,x){return k(w,x||this.options.draggable,this.el,!1)},option:function(w,x){var y=this.options;if(x===void 0)return y[w];var D=Mt.modifyOption(this,w,x);typeof D!="undefined"?y[w]=D:y[w]=x,w==="group"&&he(y)},destroy:function(){vt("destroy",this);var w=this.el;w[ut]=null,b(w,"mousedown",this._onTapStart),b(w,"touchstart",this._onTapStart),b(w,"pointerdown",this._onTapStart),this.nativeDraggable&&(b(w,"dragover",this),b(w,"dragenter",this)),Array.prototype.forEach.call(w.querySelectorAll("[draggable]"),function(x){x.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),fn.splice(fn.indexOf(this.el),1),this.el=w=null},_hideClone:function(){if(!dr){if(vt("hideClone",this),pe.eventCanceled)return;I(at,"display","none"),this.options.removeCloneOnHide&&at.parentNode&&at.parentNode.removeChild(at),dr=!0}},_showClone:function(w){if(w.lastPutMode!=="clone"){this._hideClone();return}if(dr){if(vt("showClone",this),pe.eventCanceled)return;re.parentNode==et&&!this.options.group.revertClone?et.insertBefore(at,re):Sn?et.insertBefore(at,Sn):et.appendChild(at),this.options.group.revertClone&&this.animate(re,at),I(at,"display",""),dr=!1}}};function ht(w){w.dataTransfer&&(w.dataTransfer.dropEffect="move"),w.cancelable&&w.preventDefault()}function yt(w,x,y,D,F,V,Y,ee){var G,ce=w[ut],ye=ce.options.onMove,xe;return window.CustomEvent&&!c&&!u?G=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(G=document.createEvent("Event"),G.initEvent("move",!0,!0)),G.to=x,G.from=w,G.dragged=y,G.draggedRect=D,G.related=F||x,G.relatedRect=V||z(x),G.willInsertAfter=ee,G.originalEvent=Y,w.dispatchEvent(G),ye&&(xe=ye.call(ce,G,Y)),xe}function st(w){w.draggable=!1}function xt(){se=!1}function Pe(w,x,y){var D=z(U(y.el,0,y.options,!0)),F=10;return x?w.clientX<D.left-F||w.clientY<D.top&&w.clientX<D.right:w.clientY<D.top-F||w.clientY<D.bottom&&w.clientX<D.left}function qe(w,x,y){var D=z(ie(y.el,y.options.draggable)),F=10;return x?w.clientX>D.right+F||w.clientX<=D.right&&w.clientY>D.bottom&&w.clientX>=D.left:w.clientX>D.right&&w.clientY>D.top||w.clientX<=D.right&&w.clientY>D.bottom+F}function Ue(w,x,y,D,F,V,Y,ee){var G=D?w.clientY:w.clientX,ce=D?y.height:y.width,ye=D?y.top:y.left,xe=D?y.bottom:y.right,je=!1;if(!Y){if(ee&&T<ce*F){if(!Zr&&(gn===1?G>ye+ce*V/2:G<xe-ce*V/2)&&(Zr=!0),Zr)je=!0;else if(gn===1?G<ye+T:G>xe-T)return-gn}else if(G>ye+ce*(1-F)/2&&G<xe-ce*(1-F)/2)return Ne(x)}return je=je||Y,je&&(G<ye+ce*V/2||G>xe-ce*V/2)?G>ye+ce/2?1:-1:0}function Ne(w){return ke(re)<ke(w)?1:-1}function Be(w){for(var x=w.tagName+w.className+w.src+w.href+w.textContent,y=x.length,D=0;y--;)D+=x.charCodeAt(y);return D.toString(36)}function j(w){ge.length=0;for(var x=w.getElementsByTagName("input"),y=x.length;y--;){var D=x[y];D.checked&&ge.push(D)}}function Bt(w){return setTimeout(w,0)}function $e(w){return clearTimeout(w)}Le&&m(document,"touchmove",function(w){(pe.active||Kr)&&w.cancelable&&w.preventDefault()}),pe.utils={on:m,off:b,css:I,find:q,is:function(w,x){return!!k(w,x,w,!1)},extend:ue,throttle:mr,closest:k,toggleClass:N,clone:Ar,index:ke,nextTick:Bt,cancelNextTick:$e,detectDirection:W,getChild:U},pe.get=function(w){return w[ut]},pe.mount=function(){for(var w=arguments.length,x=new Array(w),y=0;y<w;y++)x[y]=arguments[y];x[0].constructor===Array&&(x=x[0]),x.forEach(function(D){if(!D.prototype||!D.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(D));D.utils&&(pe.utils=e(e({},pe.utils),D.utils)),Mt.mount(D)})},pe.create=function(w,x){return new pe(w,x)},pe.version=s;var kt=[],Mr,Vn,Yn=!1,qn,hr,br,Or;function Ti(){function w(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var x in this)x.charAt(0)==="_"&&typeof this[x]=="function"&&(this[x]=this[x].bind(this))}return w.prototype={dragStarted:function(x){var y=x.originalEvent;this.sortable.nativeDraggable?m(document,"dragover",this._handleAutoScroll):this.options.supportPointer?m(document,"pointermove",this._handleFallbackAutoScroll):y.touches?m(document,"touchmove",this._handleFallbackAutoScroll):m(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(x){var y=x.originalEvent;!this.options.dragOverBubble&&!y.rootEl&&this._handleAutoScroll(y)},drop:function(){this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):(b(document,"pointermove",this._handleFallbackAutoScroll),b(document,"touchmove",this._handleFallbackAutoScroll),b(document,"mousemove",this._handleFallbackAutoScroll)),E(),O(),xn()},nulling:function(){br=Vn=Mr=Yn=Or=qn=hr=null,kt.length=0},_handleFallbackAutoScroll:function(x){this._handleAutoScroll(x,!0)},_handleAutoScroll:function(x,y){var D=this,F=(x.touches?x.touches[0]:x).clientX,V=(x.touches?x.touches[0]:x).clientY,Y=document.elementFromPoint(F,V);if(br=x,y||this.options.forceAutoScrollFallback||u||c||d){B(x,this.options,Y,y);var ee=ne(Y,!0);Yn&&(!Or||F!==qn||V!==hr)&&(Or&&E(),Or=setInterval(function(){var G=ne(document.elementFromPoint(F,V),!0);G!==ee&&(ee=G,O()),B(x,D.options,G,y)},10),qn=F,hr=V)}else{if(!this.options.bubbleScroll||ne(Y,!0)===A()){O();return}B(x,this.options,ne(Y,!1),!1)}}},i(w,{pluginName:"scroll",initializeByDefault:!0})}function O(){kt.forEach(function(w){clearInterval(w.pid)}),kt=[]}function E(){clearInterval(Or)}var B=mr(function(w,x,y,D){if(x.scroll){var F=(w.touches?w.touches[0]:w).clientX,V=(w.touches?w.touches[0]:w).clientY,Y=x.scrollSensitivity,ee=x.scrollSpeed,G=A(),ce=!1,ye;Vn!==y&&(Vn=y,O(),Mr=x.scroll,ye=x.scrollFn,Mr===!0&&(Mr=ne(y,!0)));var xe=0,je=Mr;do{var fe=je,We=z(fe),Oe=We.top,dt=We.bottom,Ke=We.left,bt=We.right,lt=We.width,Ct=We.height,Jt=void 0,$t=void 0,Qr=fe.scrollWidth,mn=fe.scrollHeight,Xt=I(fe),wr=fe.scrollLeft,di=fe.scrollTop;fe===G?(Jt=lt<Qr&&(Xt.overflowX==="auto"||Xt.overflowX==="scroll"||Xt.overflowX==="visible"),$t=Ct<mn&&(Xt.overflowY==="auto"||Xt.overflowY==="scroll"||Xt.overflowY==="visible")):(Jt=lt<Qr&&(Xt.overflowX==="auto"||Xt.overflowX==="scroll"),$t=Ct<mn&&(Xt.overflowY==="auto"||Xt.overflowY==="scroll"));var yr=Jt&&(Math.abs(bt-F)<=Y&&wr+lt<Qr)-(Math.abs(Ke-F)<=Y&&!!wr),En=$t&&(Math.abs(dt-V)<=Y&&di+Ct<mn)-(Math.abs(Oe-V)<=Y&&!!di);if(!kt[xe])for(var Dn=0;Dn<=xe;Dn++)kt[Dn]||(kt[Dn]={});(kt[xe].vx!=yr||kt[xe].vy!=En||kt[xe].el!==fe)&&(kt[xe].el=fe,kt[xe].vx=yr,kt[xe].vy=En,clearInterval(kt[xe].pid),(yr!=0||En!=0)&&(ce=!0,kt[xe].pid=setInterval(function(){D&&this.layer===0&&pe.active._onTouchMove(br);var X=kt[this.layer].vy?kt[this.layer].vy*ee:0,Ae=kt[this.layer].vx?kt[this.layer].vx*ee:0;typeof ye=="function"&&ye.call(pe.dragged.parentNode[ut],Ae,X,w,br,kt[this.layer].el)!=="continue"||kn(kt[this.layer].el,Ae,X)}.bind({layer:xe}),24))),xe++}while(x.bubbleScroll&&je!==G&&(je=ne(je,!1)));Yn=ce}},30),K=function(w){var x=w.originalEvent,y=w.putSortable,D=w.dragEl,F=w.activeSortable,V=w.dispatchSortableEvent,Y=w.hideGhostForTarget,ee=w.unhideGhostForTarget;if(x){var G=y||F;Y();var ce=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:x,ye=document.elementFromPoint(ce.clientX,ce.clientY);ee(),G&&!G.el.contains(ye)&&(V("spill"),this.onSpill({dragEl:D,putSortable:y}))}};function Z(){}Z.prototype={startIndex:null,dragStart:function(w){var x=w.oldDraggableIndex;this.startIndex=x},onSpill:function(w){var x=w.dragEl,y=w.putSortable;this.sortable.captureAnimationState(),y&&y.captureAnimationState();var D=U(this.sortable.el,this.startIndex,this.options);D?this.sortable.el.insertBefore(x,D):this.sortable.el.appendChild(x),this.sortable.animateAll(),y&&y.animateAll()},drop:K},i(Z,{pluginName:"revertOnSpill"});function de(){}de.prototype={onSpill:function(w){var x=w.dragEl,y=w.putSortable,D=y||this.sortable;D.captureAnimationState(),x.parentNode&&x.parentNode.removeChild(x),D.animateAll()},drop:K},i(de,{pluginName:"removeOnSpill"}),pe.mount(new Ti),pe.mount(de,Z);var Ce=pe;if(window.Sortable=Ce,typeof window.Livewire=="undefined")throw"Livewire Sortable.js Plugin: window.Livewire is undefined. Make sure @livewireScripts is placed above this script include";window.Livewire.directive("sortable",(w,x,y)=>{x.modifiers.length>0||(w.livewire_sortable=window.Sortable.create(w,{draggable:"[wire\\:sortable\\.item]",handle:w.querySelector("[wire\\:sortable\\.handle]")?"[wire\\:sortable\\.handle]":null,sort:!0,dataIdAttr:"wire:sortable.item",group:{name:w.getAttribute("wire:sortable"),pull:!1,put:!1},store:{set:function(D){let F=D.toArray().map((V,Y)=>({order:Y+1,value:V}));y.call(x.method,F)}}}))}),window.Livewire.directive("sortable-group",(w,x,y)=>{!x.modifiers.includes("item-group")||(w.livewire_sortable=window.Sortable.create(w,{draggable:"[wire\\:sortable-group\\.item]",handle:w.querySelector("[wire\\:sortable-group\\.handle]")?"[wire\\:sortable-group\\.handle]":null,sort:!0,dataIdAttr:"wire:sortable-group.item",group:{name:w.closest("[wire\\:sortable-group]").getAttribute("wire:sortable-group"),pull:!0,put:!0},onSort:()=>{let D=w.closest("[wire\\:sortable-group]"),F=Array.from(D.querySelectorAll("[wire\\:sortable-group\\.item-group]")).map((V,Y)=>({order:Y+1,value:V.getAttribute("wire:sortable-group.item-group"),items:V.livewire_sortable.toArray().map((ee,G)=>({order:G+1,value:ee}))}));y.call(D.getAttribute("wire:sortable-group"),F)}}))})})();/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */var JD=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},of={exports:{}},Ew=function(e,t){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return e.apply(t,i)}},XD=Ew,so=Object.prototype.toString;function af(r){return Array.isArray(r)}function Hp(r){return typeof r=="undefined"}function GD(r){return r!==null&&!Hp(r)&&r.constructor!==null&&!Hp(r.constructor)&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function Dw(r){return so.call(r)==="[object ArrayBuffer]"}function KD(r){return so.call(r)==="[object FormData]"}function ZD(r){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&Dw(r.buffer),e}function QD(r){return typeof r=="string"}function eA(r){return typeof r=="number"}function Aw(r){return r!==null&&typeof r=="object"}function wl(r){if(so.call(r)!=="[object Object]")return!1;var e=Object.getPrototypeOf(r);return e===null||e===Object.prototype}function tA(r){return so.call(r)==="[object Date]"}function rA(r){return so.call(r)==="[object File]"}function nA(r){return so.call(r)==="[object Blob]"}function Tw(r){return so.call(r)==="[object Function]"}function iA(r){return Aw(r)&&Tw(r.pipe)}function oA(r){return so.call(r)==="[object URLSearchParams]"}function aA(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function sA(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function sf(r,e){if(!(r===null||typeof r=="undefined"))if(typeof r!="object"&&(r=[r]),af(r))for(var t=0,n=r.length;t<n;t++)e.call(null,r[t],t,r);else for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.call(null,r[i],i,r)}function jp(){var r={};function e(i,o){wl(r[o])&&wl(i)?r[o]=jp(r[o],i):wl(i)?r[o]=jp({},i):af(i)?r[o]=i.slice():r[o]=i}for(var t=0,n=arguments.length;t<n;t++)sf(arguments[t],e);return r}function lA(r,e,t){return sf(e,function(i,o){t&&typeof i=="function"?r[o]=XD(i,t):r[o]=i}),r}function cA(r){return r.charCodeAt(0)===65279&&(r=r.slice(1)),r}var yn={isArray:af,isArrayBuffer:Dw,isBuffer:GD,isFormData:KD,isArrayBufferView:ZD,isString:QD,isNumber:eA,isObject:Aw,isPlainObject:wl,isUndefined:Hp,isDate:tA,isFile:rA,isBlob:nA,isFunction:Tw,isStream:iA,isURLSearchParams:oA,isStandardBrowserEnv:sA,forEach:sf,merge:jp,extend:lA,trim:aA,stripBOM:cA},Bo=yn;function Vh(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Mw=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(Bo.isURLSearchParams(t))i=t.toString();else{var o=[];Bo.forEach(t,function(l,c){l===null||typeof l=="undefined"||(Bo.isArray(l)?c=c+"[]":l=[l],Bo.forEach(l,function(p){Bo.isDate(p)?p=p.toISOString():Bo.isObject(p)&&(p=JSON.stringify(p)),o.push(Vh(c)+"="+Vh(p))}))}),i=o.join("&")}if(i){var a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},uA=yn;function Gc(){this.handlers=[]}Gc.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Gc.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Gc.prototype.forEach=function(e){uA.forEach(this.handlers,function(n){n!==null&&e(n)})};var pA=Gc,dA=yn,fA=function(e,t){dA.forEach(e,function(i,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[o])})},Ow=function(e,t,n,i,o){return e.config=t,n&&(e.code=n),e.request=i,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},hA=Ow,_w=function(e,t,n,i,o){var a=new Error(e);return hA(a,t,n,i,o)},gA=_w,mA=function(e,t,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(gA("Request failed with status code "+n.status,n.config,null,n.request,n))},ll=yn,vA=ll.isStandardBrowserEnv()?function(){return{write:function(t,n,i,o,a,s){var l=[];l.push(t+"="+encodeURIComponent(n)),ll.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),ll.isString(o)&&l.push("path="+o),ll.isString(a)&&l.push("domain="+a),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(t){var n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),bA=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},wA=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},yA=bA,xA=wA,kA=function(e,t){return e&&!yA(t)?xA(e,t):t},Fu=yn,CA=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],SA=function(e){var t={},n,i,o;return e&&Fu.forEach(e.split(`
`),function(s){if(o=s.indexOf(":"),n=Fu.trim(s.substr(0,o)).toLowerCase(),i=Fu.trim(s.substr(o+1)),n){if(t[n]&&CA.indexOf(n)>=0)return;n==="set-cookie"?t[n]=(t[n]?t[n]:[]).concat([i]):t[n]=t[n]?t[n]+", "+i:i}}),t},Yh=yn,EA=Yh.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a"),n;function i(o){var a=o;return e&&(t.setAttribute("href",a),a=t.href),t.setAttribute("href",a),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return n=i(window.location.href),function(a){var s=Yh.isString(a)?i(a):a;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}();function lf(r){this.message=r}lf.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};lf.prototype.__CANCEL__=!0;var Kc=lf,cl=yn,DA=mA,AA=vA,TA=Mw,MA=kA,OA=SA,_A=EA,Ru=_w,NA=Qc,PA=Kc,qh=function(e){return new Promise(function(n,i){var o=e.data,a=e.headers,s=e.responseType,l;function c(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}cl.isFormData(o)&&delete a["Content-Type"];var u=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",d=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.Authorization="Basic "+btoa(p+":"+d)}var h=MA(e.baseURL,e.url);u.open(e.method.toUpperCase(),TA(h,e.params,e.paramsSerializer),!0),u.timeout=e.timeout;function f(){if(!!u){var m="getAllResponseHeaders"in u?OA(u.getAllResponseHeaders()):null,b=!s||s==="text"||s==="json"?u.responseText:u.response,v={data:b,status:u.status,statusText:u.statusText,headers:m,config:e,request:u};DA(function(k){n(k),c()},function(k){i(k),c()},v),u=null}}if("onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(f)},u.onabort=function(){!u||(i(Ru("Request aborted",e,"ECONNABORTED",u)),u=null)},u.onerror=function(){i(Ru("Network Error",e,null,u)),u=null},u.ontimeout=function(){var b=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",v=e.transitional||NA.transitional;e.timeoutErrorMessage&&(b=e.timeoutErrorMessage),i(Ru(b,e,v.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",u)),u=null},cl.isStandardBrowserEnv()){var g=(e.withCredentials||_A(h))&&e.xsrfCookieName?AA.read(e.xsrfCookieName):void 0;g&&(a[e.xsrfHeaderName]=g)}"setRequestHeader"in u&&cl.forEach(a,function(b,v){typeof o=="undefined"&&v.toLowerCase()==="content-type"?delete a[v]:u.setRequestHeader(v,b)}),cl.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),s&&s!=="json"&&(u.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&u.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(l=function(m){!u||(i(!m||m&&m.type?new PA("canceled"):m),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l))),o||(o=null),u.send(o)})},_r=yn,Uh=fA,IA=Ow,zA={"Content-Type":"application/x-www-form-urlencoded"};function Jh(r,e){!_r.isUndefined(r)&&_r.isUndefined(r["Content-Type"])&&(r["Content-Type"]=e)}function FA(){var r;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(r=qh),r}function RA(r,e,t){if(_r.isString(r))try{return(e||JSON.parse)(r),_r.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}var Zc={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:FA(),transformRequest:[function(e,t){return Uh(t,"Accept"),Uh(t,"Content-Type"),_r.isFormData(e)||_r.isArrayBuffer(e)||_r.isBuffer(e)||_r.isStream(e)||_r.isFile(e)||_r.isBlob(e)?e:_r.isArrayBufferView(e)?e.buffer:_r.isURLSearchParams(e)?(Jh(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):_r.isObject(e)||t&&t["Content-Type"]==="application/json"?(Jh(t,"application/json"),RA(e)):e}],transformResponse:[function(e){var t=this.transitional||Zc.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&_r.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?IA(a,this,"E_JSON_PARSE"):a}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};_r.forEach(["delete","get","head"],function(e){Zc.headers[e]={}});_r.forEach(["post","put","patch"],function(e){Zc.headers[e]=_r.merge(zA)});var Qc=Zc,LA=yn,BA=Qc,$A=function(e,t,n){var i=this||BA;return LA.forEach(n,function(a){e=a.call(i,e,t)}),e},Nw=function(e){return!!(e&&e.__CANCEL__)},Xh=yn,Lu=$A,HA=Nw,jA=Qc,WA=Kc;function Bu(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new WA("canceled")}var VA=function(e){Bu(e),e.headers=e.headers||{},e.data=Lu.call(e,e.data,e.headers,e.transformRequest),e.headers=Xh.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Xh.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var t=e.adapter||jA.adapter;return t(e).then(function(i){return Bu(e),i.data=Lu.call(e,i.data,i.headers,e.transformResponse),i},function(i){return HA(i)||(Bu(e),i&&i.response&&(i.response.data=Lu.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},An=yn,Pw=function(e,t){t=t||{};var n={};function i(u,p){return An.isPlainObject(u)&&An.isPlainObject(p)?An.merge(u,p):An.isPlainObject(p)?An.merge({},p):An.isArray(p)?p.slice():p}function o(u){if(An.isUndefined(t[u])){if(!An.isUndefined(e[u]))return i(void 0,e[u])}else return i(e[u],t[u])}function a(u){if(!An.isUndefined(t[u]))return i(void 0,t[u])}function s(u){if(An.isUndefined(t[u])){if(!An.isUndefined(e[u]))return i(void 0,e[u])}else return i(void 0,t[u])}function l(u){if(u in t)return i(e[u],t[u]);if(u in e)return i(void 0,e[u])}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return An.forEach(Object.keys(e).concat(Object.keys(t)),function(p){var d=c[p]||o,h=d(p);An.isUndefined(h)&&d!==l||(n[p]=h)}),n},Iw={version:"0.26.0"},YA=Iw.version,cf={};["object","boolean","number","function","string","symbol"].forEach(function(r,e){cf[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});var Gh={};cf.transitional=function(e,t,n){function i(o,a){return"[Axios v"+YA+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return function(o,a,s){if(e===!1)throw new Error(i(a," has been removed"+(t?" in "+t:"")));return t&&!Gh[a]&&(Gh[a]=!0,console.warn(i(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,a,s):!0}};function qA(r,e,t){if(typeof r!="object")throw new TypeError("options must be an object");for(var n=Object.keys(r),i=n.length;i-- >0;){var o=n[i],a=e[o];if(a){var s=r[o],l=s===void 0||a(s,o,r);if(l!==!0)throw new TypeError("option "+o+" must be "+l);continue}if(t!==!0)throw Error("Unknown option "+o)}}var UA={assertOptions:qA,validators:cf},zw=yn,JA=Mw,Kh=pA,Zh=VA,eu=Pw,Fw=UA,$o=Fw.validators;function Ys(r){this.defaults=r,this.interceptors={request:new Kh,response:new Kh}}Ys.prototype.request=function(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=eu(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;n!==void 0&&Fw.assertOptions(n,{silentJSONParsing:$o.transitional($o.boolean),forcedJSONParsing:$o.transitional($o.boolean),clarifyTimeoutError:$o.transitional($o.boolean)},!1);var i=[],o=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(t)===!1||(o=o&&h.synchronous,i.unshift(h.fulfilled,h.rejected))});var a=[];this.interceptors.response.forEach(function(h){a.push(h.fulfilled,h.rejected)});var s;if(!o){var l=[Zh,void 0];for(Array.prototype.unshift.apply(l,i),l=l.concat(a),s=Promise.resolve(t);l.length;)s=s.then(l.shift(),l.shift());return s}for(var c=t;i.length;){var u=i.shift(),p=i.shift();try{c=u(c)}catch(d){p(d);break}}try{s=Zh(c)}catch(d){return Promise.reject(d)}for(;a.length;)s=s.then(a.shift(),a.shift());return s};Ys.prototype.getUri=function(e){return e=eu(this.defaults,e),JA(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};zw.forEach(["delete","get","head","options"],function(e){Ys.prototype[e]=function(t,n){return this.request(eu(n||{},{method:e,url:t,data:(n||{}).data}))}});zw.forEach(["post","put","patch"],function(e){Ys.prototype[e]=function(t,n,i){return this.request(eu(i||{},{method:e,url:t,data:n}))}});var XA=Ys,GA=Kc;function ba(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(i){e=i});var t=this;this.promise.then(function(n){if(!!t._listeners){var i,o=t._listeners.length;for(i=0;i<o;i++)t._listeners[i](n);t._listeners=null}}),this.promise.then=function(n){var i,o=new Promise(function(a){t.subscribe(a),i=a}).then(n);return o.cancel=function(){t.unsubscribe(i)},o},r(function(i){t.reason||(t.reason=new GA(i),e(t.reason))})}ba.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};ba.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};ba.prototype.unsubscribe=function(e){if(!!this._listeners){var t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}};ba.source=function(){var e,t=new ba(function(i){e=i});return{token:t,cancel:e}};var KA=ba,ZA=function(e){return function(n){return e.apply(null,n)}},QA=yn,eT=function(e){return QA.isObject(e)&&e.isAxiosError===!0},Qh=yn,tT=Ew,yl=XA,rT=Pw,nT=Qc;function Rw(r){var e=new yl(r),t=tT(yl.prototype.request,e);return Qh.extend(t,yl.prototype,e),Qh.extend(t,e),t.create=function(i){return Rw(rT(r,i))},t}var Di=Rw(nT);Di.Axios=yl;Di.Cancel=Kc;Di.CancelToken=KA;Di.isCancel=Nw;Di.VERSION=Iw.version;Di.all=function(e){return Promise.all(e)};Di.spread=ZA;Di.isAxiosError=eT;of.exports=Di;of.exports.default=Di;var iT=of.exports;function uf(r){this.j={},this.jr=[],this.jd=null,this.t=r}uf.prototype={accepts:function(){return!!this.t},tt:function(e,t){if(t&&t.j)return this.j[e]=t,t;var n=t,i=this.j[e];if(i)return n&&(i.t=n),i;i=Tt();var o=Jl(this,e);return o?(Object.assign(i.j,o.j),i.jr.append(o.jr),i.jr=o.jd,i.t=n||o.t):i.t=n,this.j[e]=i,i}};var Tt=function(){return new uf},Re=function(e){return new uf(e)},me=function(e,t,n){e.j[t]||(e.j[t]=n)},xr=function(e,t,n){e.jr.push([t,n])},Jl=function(e,t){var n=e.j[t];if(n)return n;for(var i=0;i<e.jr.length;i++){var o=e.jr[i][0],a=e.jr[i][1];if(o.test(t))return a}return e.jd},ct=function(e,t,n){for(var i=0;i<t.length;i++)me(e,t[i],n)},oT=function(e,t){for(var n=0;n<t.length;n++){var i=t[n][0],o=t[n][1];me(e,i,o)}},uo=function(e,t,n,i){for(var o=0,a=t.length,s;o<a&&(s=e.j[t[o]]);)e=s,o++;if(o>=a)return[];for(;o<a-1;)s=i(),me(e,t[o],s),e=s,o++;me(e,t[a-1],n)},ri="DOMAIN",Oi="LOCALHOST",vi="TLD",Un="NUM",wa="PROTOCOL",pf="MAILTO",Lw="WS",df="NL",Yo="OPENBRACE",ss="OPENBRACKET",ls="OPENANGLEBRACKET",cs="OPENPAREN",ho="CLOSEBRACE",qo="CLOSEBRACKET",Uo="CLOSEANGLEBRACKET",Jo="CLOSEPAREN",Xl="AMPERSAND",Gl="APOSTROPHE",Kl="ASTERISK",Xo="AT",Zl="BACKSLASH",Ql="BACKTICK",ec="CARET",us="COLON",ff="COMMA",tc="DOLLAR",Vi="DOT",rc="EQUALS",hf="EXCLAMATION",nc="HYPHEN",ic="PERCENT",oc="PIPE",ac="PLUS",sc="POUND",lc="QUERY",gf="QUOTE",mf="SEMI",_i="SLASH",cc="TILDE",uc="UNDERSCORE",pc="SYM",aT=Object.freeze({__proto__:null,DOMAIN:ri,LOCALHOST:Oi,TLD:vi,NUM:Un,PROTOCOL:wa,MAILTO:pf,WS:Lw,NL:df,OPENBRACE:Yo,OPENBRACKET:ss,OPENANGLEBRACKET:ls,OPENPAREN:cs,CLOSEBRACE:ho,CLOSEBRACKET:qo,CLOSEANGLEBRACKET:Uo,CLOSEPAREN:Jo,AMPERSAND:Xl,APOSTROPHE:Gl,ASTERISK:Kl,AT:Xo,BACKSLASH:Zl,BACKTICK:Ql,CARET:ec,COLON:us,COMMA:ff,DOLLAR:tc,DOT:Vi,EQUALS:rc,EXCLAMATION:hf,HYPHEN:nc,PERCENT:ic,PIPE:oc,PLUS:ac,POUND:sc,QUERY:lc,QUOTE:gf,SEMI:mf,SLASH:_i,TILDE:cc,UNDERSCORE:uc,SYM:pc}),eg="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai duck dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv iveco jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot spreadbetting sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw verm\xF6gensberater-ctb verm\xF6gensberatung-pwb \u03B5\u03BB \u03B5\u03C5 \u0431\u0433 \u0431\u0435\u043B \u0434\u0435\u0442\u0438 \u0435\u044E \u043A\u0430\u0442\u043E\u043B\u0438\u043A \u043A\u043E\u043C \u049B\u0430\u0437 \u043C\u043A\u0434 \u043C\u043E\u043D \u043C\u043E\u0441\u043A\u0432\u0430 \u043E\u043D\u043B\u0430\u0439\u043D \u043E\u0440\u0433 \u0440\u0443\u0441 \u0440\u0444 \u0441\u0430\u0439\u0442 \u0441\u0440\u0431 \u0443\u043A\u0440 \u10D2\u10D4 \u0570\u0561\u0575 \u05D9\u05E9\u05E8\u05D0\u05DC \u05E7\u05D5\u05DD \u0627\u0628\u0648\u0638\u0628\u064A \u0627\u062A\u0635\u0627\u0644\u0627\u062A \u0627\u0631\u0627\u0645\u0643\u0648 \u0627\u0644\u0627\u0631\u062F\u0646 \u0627\u0644\u0628\u062D\u0631\u064A\u0646 \u0627\u0644\u062C\u0632\u0627\u0626\u0631 \u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629 \u0627\u0644\u0639\u0644\u064A\u0627\u0646 \u0627\u0644\u0645\u063A\u0631\u0628 \u0627\u0645\u0627\u0631\u0627\u062A \u0627\u06CC\u0631\u0627\u0646 \u0628\u0627\u0631\u062A \u0628\u0627\u0632\u0627\u0631 \u0628\u06BE\u0627\u0631\u062A \u0628\u064A\u062A\u0643 \u067E\u0627\u06A9\u0633\u062A\u0627\u0646 \u0680\u0627\u0631\u062A \u062A\u0648\u0646\u0633 \u0633\u0648\u062F\u0627\u0646 \u0633\u0648\u0631\u064A\u0629 \u0634\u0628\u0643\u0629 \u0639\u0631\u0627\u0642 \u0639\u0631\u0628 \u0639\u0645\u0627\u0646 \u0641\u0644\u0633\u0637\u064A\u0646 \u0642\u0637\u0631 \u0643\u0627\u062B\u0648\u0644\u064A\u0643 \u0643\u0648\u0645 \u0645\u0635\u0631 \u0645\u0644\u064A\u0633\u064A\u0627 \u0645\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u0627 \u0645\u0648\u0642\u0639 \u0647\u0645\u0631\u0627\u0647 \u0915\u0949\u092E \u0928\u0947\u091F \u092D\u093E\u0930\u0924 \u092D\u093E\u0930\u0924\u092E\u094D \u092D\u093E\u0930\u094B\u0924 \u0938\u0902\u0917\u0920\u0928 \u09AC\u09BE\u0982\u09B2\u09BE \u09AD\u09BE\u09B0\u09A4 \u09AD\u09BE\u09F0\u09A4 \u0A2D\u0A3E\u0A30\u0A24 \u0AAD\u0ABE\u0AB0\u0AA4 \u0B2D\u0B3E\u0B30\u0B24 \u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE \u0B87\u0BB2\u0B99\u0BCD\u0B95\u0BC8 \u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD \u0C2D\u0C3E\u0C30\u0C24\u0C4D \u0CAD\u0CBE\u0CB0\u0CA4 \u0D2D\u0D3E\u0D30\u0D24\u0D02 \u0DBD\u0D82\u0D9A\u0DCF \u0E04\u0E2D\u0E21 \u0E44\u0E17\u0E22 \u0EA5\u0EB2\u0EA7 \uB2F7\uB137 \uB2F7\uCEF4 \uC0BC\uC131 \uD55C\uAD6D \u30A2\u30DE\u30BE\u30F3 \u30B0\u30FC\u30B0\u30EB \u30AF\u30E9\u30A6\u30C9 \u30B3\u30E0 \u30B9\u30C8\u30A2 \u30BB\u30FC\u30EB \u30D5\u30A1\u30C3\u30B7\u30E7\u30F3 \u30DD\u30A4\u30F3\u30C8 \u307F\u3093\u306A \u4E16\u754C \u4E2D\u4FE1 \u4E2D\u56FD \u4E2D\u570B \u4E2D\u6587\u7F51 \u4E9A\u9A6C\u900A \u4F01\u4E1A \u4F5B\u5C71 \u4FE1\u606F \u5065\u5EB7 \u516B\u5366 \u516C\u53F8 \u516C\u76CA \u53F0\u6E7E \u53F0\u7063 \u5546\u57CE \u5546\u5E97 \u5546\u6807 \u5609\u91CC \u5609\u91CC\u5927\u9152\u5E97 \u5728\u7EBF \u5927\u4F17\u6C7D\u8F66 \u5927\u62FF \u5929\u4E3B\u6559 \u5A31\u4E50 \u5BB6\u96FB \u5E7F\u4E1C \u5FAE\u535A \u6148\u5584 \u6211\u7231\u4F60 \u624B\u673A \u62DB\u8058 \u653F\u52A1 \u653F\u5E9C \u65B0\u52A0\u5761 \u65B0\u95FB \u65F6\u5C1A \u66F8\u7C4D \u673A\u6784 \u6DE1\u9A6C\u9521 \u6E38\u620F \u6FB3\u9580 \u70B9\u770B \u79FB\u52A8 \u7EC4\u7EC7\u673A\u6784 \u7F51\u5740 \u7F51\u5E97 \u7F51\u7AD9 \u7F51\u7EDC \u8054\u901A \u8BFA\u57FA\u4E9A \u8C37\u6B4C \u8D2D\u7269 \u901A\u8CA9 \u96C6\u56E2 \u96FB\u8A0A\u76C8\u79D1 \u98DE\u5229\u6D66 \u98DF\u54C1 \u9910\u5385 \u9999\u683C\u91CC\u62C9 \u9999\u6E2F".split(" "),$a=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,Ha=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,ja=/\uFE0F/,Wa=/\d/,tg=/\s/;function sT(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=Tt(),t=Re(Un),n=Re(ri),i=Tt(),o=Re(Lw),a=[[Wa,n],[$a,n],[Ha,n],[ja,n]],s=function(){var k=Re(ri);return k.j={"-":i},k.jr=[].concat(a),k},l=function(k){var _=s();return _.t=k,_};oT(e,[["'",Re(Gl)],["{",Re(Yo)],["[",Re(ss)],["<",Re(ls)],["(",Re(cs)],["}",Re(ho)],["]",Re(qo)],[">",Re(Uo)],[")",Re(Jo)],["&",Re(Xl)],["*",Re(Kl)],["@",Re(Xo)],["`",Re(Ql)],["^",Re(ec)],[":",Re(us)],[",",Re(ff)],["$",Re(tc)],[".",Re(Vi)],["=",Re(rc)],["!",Re(hf)],["-",Re(nc)],["%",Re(ic)],["|",Re(oc)],["+",Re(ac)],["#",Re(sc)],["?",Re(lc)],['"',Re(gf)],["/",Re(_i)],[";",Re(mf)],["~",Re(cc)],["_",Re(uc)],["\\",Re(Zl)]]),me(e,`
`,Re(df)),xr(e,tg,o),me(o,`
`,Tt()),xr(o,tg,o);for(var c=0;c<eg.length;c++)uo(e,eg[c],l(vi),s);var u=s(),p=s(),d=s(),h=s();uo(e,"file",u,s),uo(e,"ftp",p,s),uo(e,"http",d,s),uo(e,"mailto",h,s);var f=s(),g=Re(wa),m=Re(pf);me(p,"s",f),me(p,":",g),me(d,"s",f),me(d,":",g),me(u,":",g),me(f,":",g),me(h,":",m);for(var b=s(),v=0;v<r.length;v++)uo(e,r[v],b,s);return me(b,":",g),uo(e,"localhost",l(Oi),s),xr(e,Wa,t),xr(e,$a,n),xr(e,Ha,n),xr(e,ja,n),xr(t,Wa,t),xr(t,$a,n),xr(t,Ha,n),xr(t,ja,n),me(t,"-",i),me(n,"-",i),me(i,"-",i),xr(n,Wa,n),xr(n,$a,n),xr(n,Ha,n),xr(n,ja,n),xr(i,Wa,n),xr(i,$a,n),xr(i,Ha,n),xr(i,ja,n),e.jd=Re(pc),e}function lT(r,e){for(var t=cT(e.replace(/[A-Z]/g,function(h){return h.toLowerCase()})),n=t.length,i=[],o=0,a=0;a<n;){for(var s=r,l=null,c=0,u=null,p=-1,d=-1;a<n&&(l=Jl(s,t[a]));)s=l,s.accepts()?(p=0,d=0,u=s):p>=0&&(p+=t[a].length,d++),c+=t[a].length,o+=t[a].length,a++;o-=p,a-=d,c-=p,i.push({t:u.t,v:e.substr(o-c,c),s:o-c,e:o})}return i}function cT(r){for(var e=[],t=r.length,n=0;n<t;){var i=r.charCodeAt(n),o=void 0,a=i<55296||i>56319||n+1===t||(o=r.charCodeAt(n+1))<56320||o>57343?r[n]:r.slice(n,n+2);e.push(a),n+=a.length}return e}function xl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xl=function(e){return typeof e}:xl=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(r)}var Hr={defaultProtocol:"http",events:null,format:rg,formatHref:rg,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:0,className:null,attributes:null,ignoreTags:[]};function uT(r){r=r||{},this.defaultProtocol="defaultProtocol"in r?r.defaultProtocol:Hr.defaultProtocol,this.events="events"in r?r.events:Hr.events,this.format="format"in r?r.format:Hr.format,this.formatHref="formatHref"in r?r.formatHref:Hr.formatHref,this.nl2br="nl2br"in r?r.nl2br:Hr.nl2br,this.tagName="tagName"in r?r.tagName:Hr.tagName,this.target="target"in r?r.target:Hr.target,this.rel="rel"in r?r.rel:Hr.rel,this.validate="validate"in r?r.validate:Hr.validate,this.truncate="truncate"in r?r.truncate:Hr.truncate,this.className="className"in r?r.className:Hr.className,this.attributes=r.attributes||Hr.attributes,this.ignoreTags=[];for(var e=("ignoreTags"in r)?r.ignoreTags:Hr.ignoreTags,t=0;t<e.length;t++)this.ignoreTags.push(e[t].toUpperCase())}uT.prototype={resolve:function(e){var t=e.toHref(this.defaultProtocol);return{formatted:this.get("format",e.toString(),e),formattedHref:this.get("formatHref",t,e),tagName:this.get("tagName",t,e),className:this.get("className",t,e),target:this.get("target",t,e),rel:this.get("rel",t,e),events:this.getObject("events",t,e),attributes:this.getObject("attributes",t,e),truncate:this.get("truncate",t,e)}},check:function(e){return this.get("validate",e.toString(),e)},get:function(e,t,n){var i=this[e];if(!i)return i;var o;switch(xl(i)){case"function":return i(t,n.t);case"object":return o=n.t in i?i[n.t]:Hr[e],typeof o=="function"?o(t,n.t):o}return i},getObject:function(e,t,n){var i=this[e];return typeof i=="function"?i(t,n.t):i}};function rg(r){return r}function pT(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=Object.create(r.prototype);for(var i in t)n[i]=t[i];return n.constructor=e,e.prototype=n,e}function dc(){}dc.prototype={t:"token",isLink:!1,toString:function(){return this.v},toHref:function(){return this.toString()},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Hr.defaultProtocol;return{type:this.t,value:this.v,isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}}};function Fo(r,e){function t(n,i){this.t=r,this.v=n,this.tk=i}return pT(dc,t,e),t}var Bw=Fo("email",{isLink:!0}),Wp=Fo("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),Vp=Fo("text"),$w=Fo("nl"),ji=Fo("url",{isLink:!0,toHref:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Hr.defaultProtocol,t=this.tk,n=!1,i=!1,o=[],a=0;t[a].t===wa;)n=!0,o.push(t[a].v),a++;for(;t[a].t===_i;)i=!0,o.push(t[a].v),a++;for(;a<t.length;a++)o.push(t[a].v);return o=o.join(""),n||i||(o="".concat(e,"://").concat(o)),o},hasProtocol:function(){return this.tk[0].t===wa}}),dT=Object.freeze({__proto__:null,MultiToken:dc,Base:dc,createTokenClass:Fo,MailtoEmail:Bw,Email:Wp,Text:Vp,Nl:$w,Url:ji});function fT(){var r=Tt(),e=Tt(),t=Tt(),n=Tt(),i=Tt(),o=Tt(),a=Tt(),s=Re(ji),l=Tt(),c=Re(ji),u=Re(ji),p=Tt(),d=Tt(),h=Tt(),f=Tt(),g=Tt(),m=Re(ji),b=Re(ji),v=Re(ji),C=Re(ji),k=Tt(),_=Tt(),N=Tt(),I=Tt(),L=Tt(),q=Tt(),A=Re(Wp),z=Tt(),H=Re(Wp),U=Re(Bw),ie=Tt(),ke=Tt(),Se=Tt(),$=Tt(),ne=Re($w);me(r,df,ne),me(r,wa,e),me(r,pf,t),me(e,_i,n),me(n,_i,i),me(r,vi,o),me(r,ri,o),me(r,Oi,s),me(r,Un,o),me(i,vi,u),me(i,ri,u),me(i,Un,u),me(i,Oi,u),me(o,Vi,a),me(L,Vi,q),me(a,vi,s),me(a,ri,o),me(a,Un,o),me(a,Oi,o),me(q,vi,A),me(q,ri,L),me(q,Un,L),me(q,Oi,L),me(s,Vi,a),me(A,Vi,q),me(s,us,l),me(s,_i,u),me(l,Un,c),me(c,_i,u),me(A,us,z),me(z,Un,H);var ue=[Xl,Kl,Xo,Zl,Ql,ec,tc,ri,rc,nc,Oi,Un,ic,oc,ac,sc,wa,_i,pc,cc,vi,uc],Ee=[Gl,Uo,ho,qo,Jo,us,ff,Vi,hf,ls,Yo,ss,cs,lc,gf,mf];me(u,Yo,d),me(u,ss,h),me(u,ls,f),me(u,cs,g),me(p,Yo,d),me(p,ss,h),me(p,ls,f),me(p,cs,g),me(d,ho,u),me(h,qo,u),me(f,Uo,u),me(g,Jo,u),me(m,ho,u),me(b,qo,u),me(v,Uo,u),me(C,Jo,u),me(k,ho,u),me(_,qo,u),me(N,Uo,u),me(I,Jo,u),ct(d,ue,m),ct(h,ue,b),ct(f,ue,v),ct(g,ue,C),ct(d,Ee,k),ct(h,Ee,_),ct(f,Ee,N),ct(g,Ee,I),ct(m,ue,m),ct(b,ue,b),ct(v,ue,v),ct(C,ue,C),ct(m,Ee,m),ct(b,Ee,b),ct(v,Ee,v),ct(C,Ee,C),ct(k,ue,m),ct(_,ue,b),ct(N,ue,v),ct(I,ue,C),ct(k,Ee,k),ct(_,Ee,_),ct(N,Ee,N),ct(I,Ee,I),ct(u,ue,u),ct(p,ue,u),ct(u,Ee,p),ct(p,Ee,p),me(t,vi,U),me(t,ri,U),me(t,Un,U),me(t,Oi,U),ct(U,ue,U),ct(U,Ee,ie),ct(ie,ue,U),ct(ie,Ee,ie);var He=[Xl,Gl,Kl,Zl,Ql,ec,ho,tc,ri,rc,nc,Un,Yo,ic,oc,ac,sc,lc,_i,pc,cc,vi,uc];return ct(o,He,ke),me(o,Xo,Se),ct(s,He,ke),me(s,Xo,Se),ct(a,He,ke),ct(ke,He,ke),me(ke,Xo,Se),me(ke,Vi,$),ct($,He,ke),me(Se,vi,L),me(Se,ri,L),me(Se,Un,L),me(Se,Oi,A),r}function hT(r,e,t){for(var n=t.length,i=0,o=[],a=[];i<n;){for(var s=r,l=null,c=null,u=0,p=null,d=-1;i<n&&!(l=Jl(s,t[i].t));)a.push(t[i++]);for(;i<n&&(c=l||Jl(s,t[i].t));)l=null,s=c,s.accepts()?(d=0,p=s):d>=0&&d++,i++,u++;if(d<0)for(var h=i-u;h<i;h++)a.push(t[h]);else{a.length>0&&(o.push($u(Vp,e,a)),a=[]),i-=d,u-=d;var f=p.t,g=t.slice(i-u,i);o.push($u(f,e,g))}}return a.length>0&&o.push($u(Vp,e,a)),o}function $u(r,e,t){var n=t[0].s,i=t[t.length-1].e,o=e.substr(n,i-n);return new r(o,t)}var ni={scanner:null,parser:null,pluginQueue:[],customProtocols:[],initialized:!1};function gT(){ni.scanner={start:sT(ni.customProtocols),tokens:aT},ni.parser={start:fT(),tokens:dT};for(var r={createTokenClass:Fo},e=0;e<ni.pluginQueue.length;e++)ni.pluginQueue[e][1]({scanner:ni.scanner,parser:ni.parser,utils:r});ni.initialized=!0}function Hw(r){return ni.initialized||gT(),hT(ni.parser.start,r,lT(ni.scanner.start,r))}function vf(r){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=Hw(r),n=[],i=0;i<t.length;i++){var o=t[i];o.isLink&&(!e||o.t===e)&&n.push(o.toObject())}return n}function ng(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=Hw(r);return t.length===1&&t[0].isLink&&(!e||t[0].t===e)}function mT(r){return new Dr({key:new Xr("autolink"),appendTransaction:(e,t,n)=>{const i=e.some(u=>u.docChanged)&&!t.doc.eq(n.doc),o=e.some(u=>u.getMeta("preventAutolink"));if(!i||o)return;const{tr:a}=n,s=lE(t.doc,e),{mapping:l}=s;if(dE(s).forEach(({oldRange:u,newRange:p})=>{Bl(u.from,u.to,t.doc).filter(d=>d.mark.type===r.type).forEach(d=>{const h=l.map(d.from),f=l.map(d.to),g=Bl(h,f,n.doc).filter(_=>_.mark.type===r.type);if(!g.length)return;const m=g[0],b=t.doc.textBetween(d.from,d.to,void 0," "),v=n.doc.textBetween(m.from,m.to,void 0," "),C=ng(b),k=ng(v);C&&!k&&a.removeMark(m.from,m.to,r.type)}),cE(n.doc,p,d=>d.isTextblock).forEach(d=>{const h=n.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ");vf(h).filter(f=>f.isLink).map(f=>({...f,from:d.pos+f.start+1,to:d.pos+f.end+1})).filter(f=>{const g=p.from>=f.from&&p.from<=f.to,m=p.to>=f.from&&p.to<=f.to;return g||m}).forEach(f=>{a.addMark(f.from,f.to,r.type.create({href:f.href}))})})}),!!a.steps.length)return a}})}function vT(r){return new Dr({key:new Xr("handleClickLink"),props:{handleClick:(e,t,n)=>{var i;const o=Pb(e.state,r.type.name);return((i=n.target)===null||i===void 0?void 0:i.closest("a"))&&o.href?(window.open(o.href,o.target),!0):!1}}})}function bT(r){return new Dr({key:new Xr("handlePasteLink"),props:{handlePaste:(e,t,n)=>{const{state:i}=e,{selection:o}=i,{empty:a}=o;if(a)return!1;let s="";n.content.forEach(c=>{s+=c.textContent});const l=vf(s).find(c=>c.isLink&&c.value===s);return!s||!l?!1:(r.editor.commands.setMark(r.type,{href:l.href}),!0)}}})}const wT=eo.create({name:"link",priority:1e3,keepOnSplit:!1,inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow"}}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target}}},parseHTML(){return[{tag:"a[href]"}]},renderHTML({HTMLAttributes:r}){return["a",lr(this.options.HTMLAttributes,r),0]},addCommands(){return{setLink:r=>({chain:e})=>e().setMark(this.name,r).setMeta("preventAutolink",!0).run(),toggleLink:r=>({chain:e})=>e().toggleMark(this.name,r,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:r})=>r().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[To({find:r=>vf(r).filter(e=>e.isLink).map(e=>({text:e.value,index:e.start,data:e})),type:this.type,getAttributes:r=>{var e;return{href:(e=r.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const r=[];return this.options.autolink&&r.push(mT({type:this.type})),this.options.openOnClick&&r.push(vT({type:this.type})),this.options.linkOnPaste&&r.push(bT({editor:this.editor,type:this.type})),r}});function ig(r){return r!==null&&typeof r=="object"&&"constructor"in r&&r.constructor===Object}function bf(r={},e={}){Object.keys(e).forEach(t=>{typeof r[t]=="undefined"?r[t]=e[t]:ig(e[t])&&ig(r[t])&&Object.keys(e[t]).length>0&&bf(r[t],e[t])})}const jw={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ar(){const r=typeof document!="undefined"?document:{};return bf(r,jw),r}const yT={document:jw,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(r){return typeof setTimeout=="undefined"?(r(),null):setTimeout(r,0)},cancelAnimationFrame(r){typeof setTimeout!="undefined"&&clearTimeout(r)}};function Nt(){const r=typeof window!="undefined"?window:{};return bf(r,yT),r}function xT(r){const e=r.__proto__;Object.defineProperty(r,"__proto__",{get(){return e},set(t){e.__proto__=t}})}class Ui extends Array{constructor(e){typeof e=="number"?super(e):(super(...e||[]),xT(this))}}function qs(r=[]){const e=[];return r.forEach(t=>{Array.isArray(t)?e.push(...qs(t)):e.push(t)}),e}function Ww(r,e){return Array.prototype.filter.call(r,e)}function kT(r){const e=[];for(let t=0;t<r.length;t+=1)e.indexOf(r[t])===-1&&e.push(r[t]);return e}function CT(r,e){if(typeof r!="string")return[r];const t=[],n=e.querySelectorAll(r);for(let i=0;i<n.length;i+=1)t.push(n[i]);return t}function te(r,e){const t=Nt(),n=ar();let i=[];if(!e&&r instanceof Ui)return r;if(!r)return new Ui(i);if(typeof r=="string"){const o=r.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){let a="div";o.indexOf("<li")===0&&(a="ul"),o.indexOf("<tr")===0&&(a="tbody"),(o.indexOf("<td")===0||o.indexOf("<th")===0)&&(a="tr"),o.indexOf("<tbody")===0&&(a="table"),o.indexOf("<option")===0&&(a="select");const s=n.createElement(a);s.innerHTML=o;for(let l=0;l<s.childNodes.length;l+=1)i.push(s.childNodes[l])}else i=CT(r.trim(),e||n)}else if(r.nodeType||r===t||r===n)i.push(r);else if(Array.isArray(r)){if(r instanceof Ui)return r;i=r}return new Ui(kT(i))}te.fn=Ui.prototype;function ST(...r){const e=qs(r.map(t=>t.split(" ")));return this.forEach(t=>{t.classList.add(...e)}),this}function ET(...r){const e=qs(r.map(t=>t.split(" ")));return this.forEach(t=>{t.classList.remove(...e)}),this}function DT(...r){const e=qs(r.map(t=>t.split(" ")));this.forEach(t=>{e.forEach(n=>{t.classList.toggle(n)})})}function AT(...r){const e=qs(r.map(t=>t.split(" ")));return Ww(this,t=>e.filter(n=>t.classList.contains(n)).length>0).length>0}function TT(r,e){if(arguments.length===1&&typeof r=="string")return this[0]?this[0].getAttribute(r):void 0;for(let t=0;t<this.length;t+=1)if(arguments.length===2)this[t].setAttribute(r,e);else for(const n in r)this[t][n]=r[n],this[t].setAttribute(n,r[n]);return this}function MT(r){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(r);return this}function OT(r){for(let e=0;e<this.length;e+=1)this[e].style.transform=r;return this}function _T(r){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration=typeof r!="string"?`${r}ms`:r;return this}function NT(...r){let[e,t,n,i]=r;typeof r[1]=="function"&&([e,n,i]=r,t=void 0),i||(i=!1);function o(c){const u=c.target;if(!u)return;const p=c.target.dom7EventData||[];if(p.indexOf(c)<0&&p.unshift(c),te(u).is(t))n.apply(u,p);else{const d=te(u).parents();for(let h=0;h<d.length;h+=1)te(d[h]).is(t)&&n.apply(d[h],p)}}function a(c){const u=c&&c.target?c.target.dom7EventData||[]:[];u.indexOf(c)<0&&u.unshift(c),n.apply(this,u)}const s=e.split(" ");let l;for(let c=0;c<this.length;c+=1){const u=this[c];if(t)for(l=0;l<s.length;l+=1){const p=s[l];u.dom7LiveListeners||(u.dom7LiveListeners={}),u.dom7LiveListeners[p]||(u.dom7LiveListeners[p]=[]),u.dom7LiveListeners[p].push({listener:n,proxyListener:o}),u.addEventListener(p,o,i)}else for(l=0;l<s.length;l+=1){const p=s[l];u.dom7Listeners||(u.dom7Listeners={}),u.dom7Listeners[p]||(u.dom7Listeners[p]=[]),u.dom7Listeners[p].push({listener:n,proxyListener:a}),u.addEventListener(p,a,i)}}return this}function PT(...r){let[e,t,n,i]=r;typeof r[1]=="function"&&([e,n,i]=r,t=void 0),i||(i=!1);const o=e.split(" ");for(let a=0;a<o.length;a+=1){const s=o[a];for(let l=0;l<this.length;l+=1){const c=this[l];let u;if(!t&&c.dom7Listeners?u=c.dom7Listeners[s]:t&&c.dom7LiveListeners&&(u=c.dom7LiveListeners[s]),u&&u.length)for(let p=u.length-1;p>=0;p-=1){const d=u[p];n&&d.listener===n||n&&d.listener&&d.listener.dom7proxy&&d.listener.dom7proxy===n?(c.removeEventListener(s,d.proxyListener,i),u.splice(p,1)):n||(c.removeEventListener(s,d.proxyListener,i),u.splice(p,1))}}}return this}function IT(...r){const e=Nt(),t=r[0].split(" "),n=r[1];for(let i=0;i<t.length;i+=1){const o=t[i];for(let a=0;a<this.length;a+=1){const s=this[a];if(e.CustomEvent){const l=new e.CustomEvent(o,{detail:n,bubbles:!0,cancelable:!0});s.dom7EventData=r.filter((c,u)=>u>0),s.dispatchEvent(l),s.dom7EventData=[],delete s.dom7EventData}}}return this}function zT(r){const e=this;function t(n){n.target===this&&(r.call(this,n),e.off("transitionend",t))}return r&&e.on("transitionend",t),this}function FT(r){if(this.length>0){if(r){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function RT(r){if(this.length>0){if(r){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function LT(){if(this.length>0){const r=Nt(),e=ar(),t=this[0],n=t.getBoundingClientRect(),i=e.body,o=t.clientTop||i.clientTop||0,a=t.clientLeft||i.clientLeft||0,s=t===r?r.scrollY:t.scrollTop,l=t===r?r.scrollX:t.scrollLeft;return{top:n.top+s-o,left:n.left+l-a}}return null}function BT(){const r=Nt();return this[0]?r.getComputedStyle(this[0],null):{}}function $T(r,e){const t=Nt();let n;if(arguments.length===1)if(typeof r=="string"){if(this[0])return t.getComputedStyle(this[0],null).getPropertyValue(r)}else{for(n=0;n<this.length;n+=1)for(const i in r)this[n].style[i]=r[i];return this}if(arguments.length===2&&typeof r=="string"){for(n=0;n<this.length;n+=1)this[n].style[r]=e;return this}return this}function HT(r){return r?(this.forEach((e,t)=>{r.apply(e,[e,t])}),this):this}function jT(r){const e=Ww(this,r);return te(e)}function WT(r){if(typeof r=="undefined")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=r;return this}function VT(r){if(typeof r=="undefined")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=r;return this}function YT(r){const e=Nt(),t=ar(),n=this[0];let i,o;if(!n||typeof r=="undefined")return!1;if(typeof r=="string"){if(n.matches)return n.matches(r);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(r);if(n.msMatchesSelector)return n.msMatchesSelector(r);for(i=te(r),o=0;o<i.length;o+=1)if(i[o]===n)return!0;return!1}if(r===t)return n===t;if(r===e)return n===e;if(r.nodeType||r instanceof Ui){for(i=r.nodeType?[r]:r,o=0;o<i.length;o+=1)if(i[o]===n)return!0;return!1}return!1}function qT(){let r=this[0],e;if(r){for(e=0;(r=r.previousSibling)!==null;)r.nodeType===1&&(e+=1);return e}}function UT(r){if(typeof r=="undefined")return this;const e=this.length;if(r>e-1)return te([]);if(r<0){const t=e+r;return t<0?te([]):te([this[t]])}return te([this[r]])}function JT(...r){let e;const t=ar();for(let n=0;n<r.length;n+=1){e=r[n];for(let i=0;i<this.length;i+=1)if(typeof e=="string"){const o=t.createElement("div");for(o.innerHTML=e;o.firstChild;)this[i].appendChild(o.firstChild)}else if(e instanceof Ui)for(let o=0;o<e.length;o+=1)this[i].appendChild(e[o]);else this[i].appendChild(e)}return this}function XT(r){const e=ar();let t,n;for(t=0;t<this.length;t+=1)if(typeof r=="string"){const i=e.createElement("div");for(i.innerHTML=r,n=i.childNodes.length-1;n>=0;n-=1)this[t].insertBefore(i.childNodes[n],this[t].childNodes[0])}else if(r instanceof Ui)for(n=0;n<r.length;n+=1)this[t].insertBefore(r[n],this[t].childNodes[0]);else this[t].insertBefore(r,this[t].childNodes[0]);return this}function GT(r){return this.length>0?r?this[0].nextElementSibling&&te(this[0].nextElementSibling).is(r)?te([this[0].nextElementSibling]):te([]):this[0].nextElementSibling?te([this[0].nextElementSibling]):te([]):te([])}function KT(r){const e=[];let t=this[0];if(!t)return te([]);for(;t.nextElementSibling;){const n=t.nextElementSibling;r?te(n).is(r)&&e.push(n):e.push(n),t=n}return te(e)}function ZT(r){if(this.length>0){const e=this[0];return r?e.previousElementSibling&&te(e.previousElementSibling).is(r)?te([e.previousElementSibling]):te([]):e.previousElementSibling?te([e.previousElementSibling]):te([])}return te([])}function QT(r){const e=[];let t=this[0];if(!t)return te([]);for(;t.previousElementSibling;){const n=t.previousElementSibling;r?te(n).is(r)&&e.push(n):e.push(n),t=n}return te(e)}function eM(r){const e=[];for(let t=0;t<this.length;t+=1)this[t].parentNode!==null&&(r?te(this[t].parentNode).is(r)&&e.push(this[t].parentNode):e.push(this[t].parentNode));return te(e)}function tM(r){const e=[];for(let t=0;t<this.length;t+=1){let n=this[t].parentNode;for(;n;)r?te(n).is(r)&&e.push(n):e.push(n),n=n.parentNode}return te(e)}function rM(r){let e=this;return typeof r=="undefined"?te([]):(e.is(r)||(e=e.parents(r).eq(0)),e)}function nM(r){const e=[];for(let t=0;t<this.length;t+=1){const n=this[t].querySelectorAll(r);for(let i=0;i<n.length;i+=1)e.push(n[i])}return te(e)}function iM(r){const e=[];for(let t=0;t<this.length;t+=1){const n=this[t].children;for(let i=0;i<n.length;i+=1)(!r||te(n[i]).is(r))&&e.push(n[i])}return te(e)}function oM(){for(let r=0;r<this.length;r+=1)this[r].parentNode&&this[r].parentNode.removeChild(this[r]);return this}const og={addClass:ST,removeClass:ET,hasClass:AT,toggleClass:DT,attr:TT,removeAttr:MT,transform:OT,transition:_T,on:NT,off:PT,trigger:IT,transitionEnd:zT,outerWidth:FT,outerHeight:RT,styles:BT,offset:LT,css:$T,each:HT,html:WT,text:VT,is:YT,index:qT,eq:UT,append:JT,prepend:XT,next:GT,nextAll:KT,prev:ZT,prevAll:QT,parent:eM,parents:tM,closest:rM,find:nM,children:iM,filter:jT,remove:oM};Object.keys(og).forEach(r=>{Object.defineProperty(te.fn,r,{value:og[r],writable:!0})});function aM(r){const e=r;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function to(r,e){return e===void 0&&(e=0),setTimeout(r,e)}function Nn(){return Date.now()}function sM(r){const e=Nt();let t;return e.getComputedStyle&&(t=e.getComputedStyle(r,null)),!t&&r.currentStyle&&(t=r.currentStyle),t||(t=r.style),t}function Yp(r,e){e===void 0&&(e="x");const t=Nt();let n,i,o;const a=sM(r);return t.WebKitCSSMatrix?(i=a.transform||a.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(s=>s.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(i==="none"?"":i)):(o=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?i=o.m41:n.length===16?i=parseFloat(n[12]):i=parseFloat(n[4])),e==="y"&&(t.WebKitCSSMatrix?i=o.m42:n.length===16?i=parseFloat(n[13]):i=parseFloat(n[5])),i||0}function Ja(r){return typeof r=="object"&&r!==null&&r.constructor&&Object.prototype.toString.call(r).slice(8,-1)==="Object"}function lM(r){return typeof window!="undefined"&&typeof window.HTMLElement!="undefined"?r instanceof HTMLElement:r&&(r.nodeType===1||r.nodeType===11)}function _n(){const r=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const n=t<0||arguments.length<=t?void 0:arguments[t];if(n!=null&&!lM(n)){const i=Object.keys(Object(n)).filter(o=>e.indexOf(o)<0);for(let o=0,a=i.length;o<a;o+=1){const s=i[o],l=Object.getOwnPropertyDescriptor(n,s);l!==void 0&&l.enumerable&&(Ja(r[s])&&Ja(n[s])?n[s].__swiper__?r[s]=n[s]:_n(r[s],n[s]):!Ja(r[s])&&Ja(n[s])?(r[s]={},n[s].__swiper__?r[s]=n[s]:_n(r[s],n[s])):r[s]=n[s])}}}return r}function Xa(r,e,t){r.style.setProperty(e,t)}function Vw(r){let{swiper:e,targetPosition:t,side:n}=r;const i=Nt(),o=-e.translate;let a=null,s;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const c=t>o?"next":"prev",u=(d,h)=>c==="next"&&d>=h||c==="prev"&&d<=h,p=()=>{s=new Date().getTime(),a===null&&(a=s);const d=Math.max(Math.min((s-a)/l,1),0),h=.5-Math.cos(d*Math.PI)/2;let f=o+h*(t-o);if(u(f,t)&&(f=t),e.wrapperEl.scrollTo({[n]:f}),u(f,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:f})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(p)};p()}let Hu;function cM(){const r=Nt(),e=ar();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in r||r.DocumentTouch&&e instanceof r.DocumentTouch),passiveListener:function(){let n=!1;try{const i=Object.defineProperty({},"passive",{get(){n=!0}});r.addEventListener("testPassiveListener",null,i)}catch{}return n}(),gestures:function(){return"ongesturestart"in r}()}}function Yw(){return Hu||(Hu=cM()),Hu}let ju;function uM(r){let{userAgent:e}=r===void 0?{}:r;const t=Yw(),n=Nt(),i=n.navigator.platform,o=e||n.navigator.userAgent,a={ios:!1,android:!1},s=n.screen.width,l=n.screen.height,c=o.match(/(Android);?[\s\/]+([\d.]+)?/);let u=o.match(/(iPad).*OS\s([\d_]+)/);const p=o.match(/(iPod)(.*OS\s([\d_]+))?/),d=!u&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=i==="Win32";let f=i==="MacIntel";const g=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&f&&t.touch&&g.indexOf(`${s}x${l}`)>=0&&(u=o.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),f=!1),c&&!h&&(a.os="android",a.android=!0),(u||d||p)&&(a.os="ios",a.ios=!0),a}function pM(r){return r===void 0&&(r={}),ju||(ju=uM(r)),ju}let Wu;function dM(){const r=Nt();function e(){const t=r.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}return{isSafari:e(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(r.navigator.userAgent)}}function fM(){return Wu||(Wu=dM()),Wu}function hM(r){let{swiper:e,on:t,emit:n}=r;const i=Nt();let o=null,a=null;const s=()=>{!e||e.destroyed||!e.initialized||(n("beforeResize"),n("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(p=>{a=i.requestAnimationFrame(()=>{const{width:d,height:h}=e;let f=d,g=h;p.forEach(m=>{let{contentBoxSize:b,contentRect:v,target:C}=m;C&&C!==e.el||(f=v?v.width:(b[0]||b).inlineSize,g=v?v.height:(b[0]||b).blockSize)}),(f!==d||g!==h)&&s()})}),o.observe(e.el))},c=()=>{a&&i.cancelAnimationFrame(a),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},u=()=>{!e||e.destroyed||!e.initialized||n("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver!="undefined"){l();return}i.addEventListener("resize",s),i.addEventListener("orientationchange",u)}),t("destroy",()=>{c(),i.removeEventListener("resize",s),i.removeEventListener("orientationchange",u)})}function gM(r){let{swiper:e,extendParams:t,on:n,emit:i}=r;const o=[],a=Nt(),s=function(u,p){p===void 0&&(p={});const d=a.MutationObserver||a.WebkitMutationObserver,h=new d(f=>{if(f.length===1){i("observerUpdate",f[0]);return}const g=function(){i("observerUpdate",f[0])};a.requestAnimationFrame?a.requestAnimationFrame(g):a.setTimeout(g,0)});h.observe(u,{attributes:typeof p.attributes=="undefined"?!0:p.attributes,childList:typeof p.childList=="undefined"?!0:p.childList,characterData:typeof p.characterData=="undefined"?!0:p.characterData}),o.push(h)},l=()=>{if(!!e.params.observer){if(e.params.observeParents){const u=e.$el.parents();for(let p=0;p<u.length;p+=1)s(u[p])}s(e.$el[0],{childList:e.params.observeSlideChildren}),s(e.$wrapperEl[0],{attributes:!1})}},c=()=>{o.forEach(u=>{u.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",l),n("destroy",c)}var mM={on(r,e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const i=t?"unshift":"push";return r.split(" ").forEach(o=>{n.eventsListeners[o]||(n.eventsListeners[o]=[]),n.eventsListeners[o][i](e)}),n},once(r,e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;function i(){n.off(r,i),i.__emitterProxy&&delete i.__emitterProxy;for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];e.apply(n,a)}return i.__emitterProxy=e,n.on(r,i,t)},onAny(r,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof r!="function")return t;const n=e?"unshift":"push";return t.eventsAnyListeners.indexOf(r)<0&&t.eventsAnyListeners[n](r),t},offAny(r){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(r);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(r,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||r.split(" ").forEach(n=>{typeof e=="undefined"?t.eventsListeners[n]=[]:t.eventsListeners[n]&&t.eventsListeners[n].forEach((i,o)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&t.eventsListeners[n].splice(o,1)})}),t},emit(){const r=this;if(!r.eventsListeners||r.destroyed||!r.eventsListeners)return r;let e,t,n;for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),n=r):(e=o[0].events,t=o[0].data,n=o[0].context||r),t.unshift(n),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach(c=>{c.apply(n,[l,...t])}),r.eventsListeners&&r.eventsListeners[l]&&r.eventsListeners[l].forEach(c=>{c.apply(n,t)})}),r}};function vM(){const r=this;let e,t;const n=r.$el;typeof r.params.width!="undefined"&&r.params.width!==null?e=r.params.width:e=n[0].clientWidth,typeof r.params.height!="undefined"&&r.params.height!==null?t=r.params.height:t=n[0].clientHeight,!(e===0&&r.isHorizontal()||t===0&&r.isVertical())&&(e=e-parseInt(n.css("padding-left")||0,10)-parseInt(n.css("padding-right")||0,10),t=t-parseInt(n.css("padding-top")||0,10)-parseInt(n.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(r,{width:e,height:t,size:r.isHorizontal()?e:t}))}function bM(){const r=this;function e(A){return r.isHorizontal()?A:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[A]}function t(A,z){return parseFloat(A.getPropertyValue(e(z))||0)}const n=r.params,{$wrapperEl:i,size:o,rtlTranslate:a,wrongRTL:s}=r,l=r.virtual&&n.virtual.enabled,c=l?r.virtual.slides.length:r.slides.length,u=i.children(`.${r.params.slideClass}`),p=l?r.virtual.slides.length:u.length;let d=[];const h=[],f=[];let g=n.slidesOffsetBefore;typeof g=="function"&&(g=n.slidesOffsetBefore.call(r));let m=n.slidesOffsetAfter;typeof m=="function"&&(m=n.slidesOffsetAfter.call(r));const b=r.snapGrid.length,v=r.slidesGrid.length;let C=n.spaceBetween,k=-g,_=0,N=0;if(typeof o=="undefined")return;typeof C=="string"&&C.indexOf("%")>=0&&(C=parseFloat(C.replace("%",""))/100*o),r.virtualSize=-C,a?u.css({marginLeft:"",marginBottom:"",marginTop:""}):u.css({marginRight:"",marginBottom:"",marginTop:""}),n.centeredSlides&&n.cssMode&&(Xa(r.wrapperEl,"--swiper-centered-offset-before",""),Xa(r.wrapperEl,"--swiper-centered-offset-after",""));const I=n.grid&&n.grid.rows>1&&r.grid;I&&r.grid.initSlides(p);let L;const q=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(A=>typeof n.breakpoints[A].slidesPerView!="undefined").length>0;for(let A=0;A<p;A+=1){L=0;const z=u.eq(A);if(I&&r.grid.updateSlide(A,z,p,e),z.css("display")!=="none"){if(n.slidesPerView==="auto"){q&&(u[A].style[e("width")]="");const H=getComputedStyle(z[0]),U=z[0].style.transform,ie=z[0].style.webkitTransform;if(U&&(z[0].style.transform="none"),ie&&(z[0].style.webkitTransform="none"),n.roundLengths)L=r.isHorizontal()?z.outerWidth(!0):z.outerHeight(!0);else{const ke=t(H,"width"),Se=t(H,"padding-left"),$=t(H,"padding-right"),ne=t(H,"margin-left"),ue=t(H,"margin-right"),Ee=H.getPropertyValue("box-sizing");if(Ee&&Ee==="border-box")L=ke+ne+ue;else{const{clientWidth:He,offsetWidth:mr}=z[0];L=ke+Se+$+ne+ue+(mr-He)}}U&&(z[0].style.transform=U),ie&&(z[0].style.webkitTransform=ie),n.roundLengths&&(L=Math.floor(L))}else L=(o-(n.slidesPerView-1)*C)/n.slidesPerView,n.roundLengths&&(L=Math.floor(L)),u[A]&&(u[A].style[e("width")]=`${L}px`);u[A]&&(u[A].swiperSlideSize=L),f.push(L),n.centeredSlides?(k=k+L/2+_/2+C,_===0&&A!==0&&(k=k-o/2-C),A===0&&(k=k-o/2-C),Math.abs(k)<1/1e3&&(k=0),n.roundLengths&&(k=Math.floor(k)),N%n.slidesPerGroup===0&&d.push(k),h.push(k)):(n.roundLengths&&(k=Math.floor(k)),(N-Math.min(r.params.slidesPerGroupSkip,N))%r.params.slidesPerGroup===0&&d.push(k),h.push(k),k=k+L+C),r.virtualSize+=L+C,_=L,N+=1}}if(r.virtualSize=Math.max(r.virtualSize,o)+m,a&&s&&(n.effect==="slide"||n.effect==="coverflow")&&i.css({width:`${r.virtualSize+n.spaceBetween}px`}),n.setWrapperSize&&i.css({[e("width")]:`${r.virtualSize+n.spaceBetween}px`}),I&&r.grid.updateWrapperSize(L,d,e),!n.centeredSlides){const A=[];for(let z=0;z<d.length;z+=1){let H=d[z];n.roundLengths&&(H=Math.floor(H)),d[z]<=r.virtualSize-o&&A.push(H)}d=A,Math.floor(r.virtualSize-o)-Math.floor(d[d.length-1])>1&&d.push(r.virtualSize-o)}if(d.length===0&&(d=[0]),n.spaceBetween!==0){const A=r.isHorizontal()&&a?"marginLeft":e("marginRight");u.filter((z,H)=>n.cssMode?H!==u.length-1:!0).css({[A]:`${C}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let A=0;f.forEach(H=>{A+=H+(n.spaceBetween?n.spaceBetween:0)}),A-=n.spaceBetween;const z=A-o;d=d.map(H=>H<0?-g:H>z?z+m:H)}if(n.centerInsufficientSlides){let A=0;if(f.forEach(z=>{A+=z+(n.spaceBetween?n.spaceBetween:0)}),A-=n.spaceBetween,A<o){const z=(o-A)/2;d.forEach((H,U)=>{d[U]=H-z}),h.forEach((H,U)=>{h[U]=H+z})}}if(Object.assign(r,{slides:u,snapGrid:d,slidesGrid:h,slidesSizesGrid:f}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Xa(r.wrapperEl,"--swiper-centered-offset-before",`${-d[0]}px`),Xa(r.wrapperEl,"--swiper-centered-offset-after",`${r.size/2-f[f.length-1]/2}px`);const A=-r.snapGrid[0],z=-r.slidesGrid[0];r.snapGrid=r.snapGrid.map(H=>H+A),r.slidesGrid=r.slidesGrid.map(H=>H+z)}if(p!==c&&r.emit("slidesLengthChange"),d.length!==b&&(r.params.watchOverflow&&r.checkOverflow(),r.emit("snapGridLengthChange")),h.length!==v&&r.emit("slidesGridLengthChange"),n.watchSlidesProgress&&r.updateSlidesOffset(),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const A=`${n.containerModifierClass}backface-hidden`,z=r.$el.hasClass(A);p<=n.maxBackfaceHiddenSlides?z||r.$el.addClass(A):z&&r.$el.removeClass(A)}}function wM(r){const e=this,t=[],n=e.virtual&&e.params.virtual.enabled;let i=0,o;typeof r=="number"?e.setTransition(r):r===!0&&e.setTransition(e.params.speed);const a=s=>n?e.slides.filter(l=>parseInt(l.getAttribute("data-swiper-slide-index"),10)===s)[0]:e.slides.eq(s)[0];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||te([])).each(s=>{t.push(s)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const s=e.activeIndex+o;if(s>e.slides.length&&!n)break;t.push(a(s))}else t.push(a(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]!="undefined"){const s=t[o].offsetHeight;i=s>i?s:i}(i||i===0)&&e.$wrapperEl.css("height",`${i}px`)}function yM(){const r=this,e=r.slides;for(let t=0;t<e.length;t+=1)e[t].swiperSlideOffset=r.isHorizontal()?e[t].offsetLeft:e[t].offsetTop}function xM(r){r===void 0&&(r=this&&this.translate||0);const e=this,t=e.params,{slides:n,rtlTranslate:i,snapGrid:o}=e;if(n.length===0)return;typeof n[0].swiperSlideOffset=="undefined"&&e.updateSlidesOffset();let a=-r;i&&(a=r),n.removeClass(t.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let s=0;s<n.length;s+=1){const l=n[s];let c=l.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(c-=n[0].swiperSlideOffset);const u=(a+(t.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+t.spaceBetween),p=(a-o[0]+(t.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+t.spaceBetween),d=-(a-c),h=d+e.slidesSizesGrid[s];(d>=0&&d<e.size-1||h>1&&h<=e.size||d<=0&&h>=e.size)&&(e.visibleSlides.push(l),e.visibleSlidesIndexes.push(s),n.eq(s).addClass(t.slideVisibleClass)),l.progress=i?-u:u,l.originalProgress=i?-p:p}e.visibleSlides=te(e.visibleSlides)}function kM(r){const e=this;if(typeof r=="undefined"){const c=e.rtlTranslate?-1:1;r=e&&e.translate&&e.translate*c||0}const t=e.params,n=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:o,isEnd:a}=e;const s=o,l=a;n===0?(i=0,o=!0,a=!0):(i=(r-e.minTranslate())/n,o=i<=0,a=i>=1),Object.assign(e,{progress:i,isBeginning:o,isEnd:a}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(r),o&&!s&&e.emit("reachBeginning toEdge"),a&&!l&&e.emit("reachEnd toEdge"),(s&&!o||l&&!a)&&e.emit("fromEdge"),e.emit("progress",i)}function CM(){const r=this,{slides:e,params:t,$wrapperEl:n,activeIndex:i,realIndex:o}=r,a=r.virtual&&t.virtual.enabled;e.removeClass(`${t.slideActiveClass} ${t.slideNextClass} ${t.slidePrevClass} ${t.slideDuplicateActiveClass} ${t.slideDuplicateNextClass} ${t.slideDuplicatePrevClass}`);let s;a?s=r.$wrapperEl.find(`.${t.slideClass}[data-swiper-slide-index="${i}"]`):s=e.eq(i),s.addClass(t.slideActiveClass),t.loop&&(s.hasClass(t.slideDuplicateClass)?n.children(`.${t.slideClass}:not(.${t.slideDuplicateClass})[data-swiper-slide-index="${o}"]`).addClass(t.slideDuplicateActiveClass):n.children(`.${t.slideClass}.${t.slideDuplicateClass}[data-swiper-slide-index="${o}"]`).addClass(t.slideDuplicateActiveClass));let l=s.nextAll(`.${t.slideClass}`).eq(0).addClass(t.slideNextClass);t.loop&&l.length===0&&(l=e.eq(0),l.addClass(t.slideNextClass));let c=s.prevAll(`.${t.slideClass}`).eq(0).addClass(t.slidePrevClass);t.loop&&c.length===0&&(c=e.eq(-1),c.addClass(t.slidePrevClass)),t.loop&&(l.hasClass(t.slideDuplicateClass)?n.children(`.${t.slideClass}:not(.${t.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicateNextClass):n.children(`.${t.slideClass}.${t.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicateNextClass),c.hasClass(t.slideDuplicateClass)?n.children(`.${t.slideClass}:not(.${t.slideDuplicateClass})[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicatePrevClass):n.children(`.${t.slideClass}.${t.slideDuplicateClass}[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicatePrevClass)),r.emitSlidesClasses()}function SM(r){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:n,snapGrid:i,params:o,activeIndex:a,realIndex:s,snapIndex:l}=e;let c=r,u;if(typeof c=="undefined"){for(let d=0;d<n.length;d+=1)typeof n[d+1]!="undefined"?t>=n[d]&&t<n[d+1]-(n[d+1]-n[d])/2?c=d:t>=n[d]&&t<n[d+1]&&(c=d+1):t>=n[d]&&(c=d);o.normalizeSlideIndex&&(c<0||typeof c=="undefined")&&(c=0)}if(i.indexOf(t)>=0)u=i.indexOf(t);else{const d=Math.min(o.slidesPerGroupSkip,c);u=d+Math.floor((c-d)/o.slidesPerGroup)}if(u>=i.length&&(u=i.length-1),c===a){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}const p=parseInt(e.slides.eq(c).attr("data-swiper-slide-index")||c,10);Object.assign(e,{snapIndex:u,realIndex:p,previousIndex:a,activeIndex:c}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),s!==p&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function EM(r){const e=this,t=e.params,n=te(r).closest(`.${t.slideClass}`)[0];let i=!1,o;if(n){for(let a=0;a<e.slides.length;a+=1)if(e.slides[a]===n){i=!0,o=a;break}}if(n&&i)e.clickedSlide=n,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(te(n).attr("data-swiper-slide-index"),10):e.clickedIndex=o;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}t.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}var DM={updateSize:vM,updateSlides:bM,updateAutoHeight:wM,updateSlidesOffset:yM,updateSlidesProgress:xM,updateProgress:kM,updateSlidesClasses:CM,updateActiveIndex:SM,updateClickedSlide:EM};function AM(r){r===void 0&&(r=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:n,translate:i,$wrapperEl:o}=e;if(t.virtualTranslate)return n?-i:i;if(t.cssMode)return i;let a=Yp(o[0],r);return n&&(a=-a),a||0}function TM(r,e){const t=this,{rtlTranslate:n,params:i,$wrapperEl:o,wrapperEl:a,progress:s}=t;let l=0,c=0;const u=0;t.isHorizontal()?l=n?-r:r:c=r,i.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),i.cssMode?a[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-l:-c:i.virtualTranslate||o.transform(`translate3d(${l}px, ${c}px, ${u}px)`),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?l:c;let p;const d=t.maxTranslate()-t.minTranslate();d===0?p=0:p=(r-t.minTranslate())/d,p!==s&&t.updateProgress(r),t.emit("setTranslate",t.translate,e)}function MM(){return-this.snapGrid[0]}function OM(){return-this.snapGrid[this.snapGrid.length-1]}function _M(r,e,t,n,i){r===void 0&&(r=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),n===void 0&&(n=!0);const o=this,{params:a,wrapperEl:s}=o;if(o.animating&&a.preventInteractionOnTransition)return!1;const l=o.minTranslate(),c=o.maxTranslate();let u;if(n&&r>l?u=l:n&&r<c?u=c:u=r,o.updateProgress(u),a.cssMode){const p=o.isHorizontal();if(e===0)s[p?"scrollLeft":"scrollTop"]=-u;else{if(!o.support.smoothScroll)return Vw({swiper:o,targetPosition:-u,side:p?"left":"top"}),!0;s.scrollTo({[p?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(u),t&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(u),t&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(d){!o||o.destroyed||d.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,t&&o.emit("transitionEnd"))}),o.$wrapperEl[0].addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd))),!0}var NM={getTranslate:AM,setTranslate:TM,minTranslate:MM,maxTranslate:OM,translateTo:_M};function PM(r,e){const t=this;t.params.cssMode||t.$wrapperEl.transition(r),t.emit("setTransition",r,e)}function qw(r){let{swiper:e,runCallbacks:t,direction:n,step:i}=r;const{activeIndex:o,previousIndex:a}=e;let s=n;if(s||(o>a?s="next":o<a?s="prev":s="reset"),e.emit(`transition${i}`),t&&o!==a){if(s==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),s==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function IM(r,e){r===void 0&&(r=!0);const t=this,{params:n}=t;n.cssMode||(n.autoHeight&&t.updateAutoHeight(),qw({swiper:t,runCallbacks:r,direction:e,step:"Start"}))}function zM(r,e){r===void 0&&(r=!0);const t=this,{params:n}=t;t.animating=!1,!n.cssMode&&(t.setTransition(0),qw({swiper:t,runCallbacks:r,direction:e,step:"End"}))}var FM={setTransition:PM,transitionStart:IM,transitionEnd:zM};function RM(r,e,t,n,i){if(r===void 0&&(r=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),typeof r!="number"&&typeof r!="string")throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof r}] given.`);if(typeof r=="string"){const C=parseInt(r,10);if(!isFinite(C))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${r}] given.`);r=C}const o=this;let a=r;a<0&&(a=0);const{params:s,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:p,rtlTranslate:d,wrapperEl:h,enabled:f}=o;if(o.animating&&s.preventInteractionOnTransition||!f&&!n&&!i)return!1;const g=Math.min(o.params.slidesPerGroupSkip,a);let m=g+Math.floor((a-g)/o.params.slidesPerGroup);m>=l.length&&(m=l.length-1),(p||s.initialSlide||0)===(u||0)&&t&&o.emit("beforeSlideChangeStart");const b=-l[m];if(o.updateProgress(b),s.normalizeSlideIndex)for(let C=0;C<c.length;C+=1){const k=-Math.floor(b*100),_=Math.floor(c[C]*100),N=Math.floor(c[C+1]*100);typeof c[C+1]!="undefined"?k>=_&&k<N-(N-_)/2?a=C:k>=_&&k<N&&(a=C+1):k>=_&&(a=C)}if(o.initialized&&a!==p&&(!o.allowSlideNext&&b<o.translate&&b<o.minTranslate()||!o.allowSlidePrev&&b>o.translate&&b>o.maxTranslate()&&(p||0)!==a))return!1;let v;if(a>p?v="next":a<p?v="prev":v="reset",d&&-b===o.translate||!d&&b===o.translate)return o.updateActiveIndex(a),s.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),s.effect!=="slide"&&o.setTranslate(b),v!=="reset"&&(o.transitionStart(t,v),o.transitionEnd(t,v)),!1;if(s.cssMode){const C=o.isHorizontal(),k=d?b:-b;if(e===0){const _=o.virtual&&o.params.virtual.enabled;_&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),h[C?"scrollLeft":"scrollTop"]=k,_&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._swiperImmediateVirtual=!1})}else{if(!o.support.smoothScroll)return Vw({swiper:o,targetPosition:k,side:C?"left":"top"}),!0;h.scrollTo({[C?"left":"top"]:k,behavior:"smooth"})}return!0}return o.setTransition(e),o.setTranslate(b),o.updateActiveIndex(a),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,n),o.transitionStart(t,v),e===0?o.transitionEnd(t,v):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(k){!o||o.destroyed||k.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,v))}),o.$wrapperEl[0].addEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd)),!0}function LM(r,e,t,n){r===void 0&&(r=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0);const i=this;let o=r;return i.params.loop&&(o+=i.loopedSlides),i.slideTo(o,e,t,n)}function BM(r,e,t){r===void 0&&(r=this.params.speed),e===void 0&&(e=!0);const n=this,{animating:i,enabled:o,params:a}=n;if(!o)return n;let s=a.slidesPerGroup;a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(s=Math.max(n.slidesPerViewDynamic("current",!0),1));const l=n.activeIndex<a.slidesPerGroupSkip?1:s;if(a.loop){if(i&&a.loopPreventsSlide)return!1;n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft}return a.rewind&&n.isEnd?n.slideTo(0,r,e,t):n.slideTo(n.activeIndex+l,r,e,t)}function $M(r,e,t){r===void 0&&(r=this.params.speed),e===void 0&&(e=!0);const n=this,{params:i,animating:o,snapGrid:a,slidesGrid:s,rtlTranslate:l,enabled:c}=n;if(!c)return n;if(i.loop){if(o&&i.loopPreventsSlide)return!1;n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft}const u=l?n.translate:-n.translate;function p(m){return m<0?-Math.floor(Math.abs(m)):Math.floor(m)}const d=p(u),h=a.map(m=>p(m));let f=a[h.indexOf(d)-1];if(typeof f=="undefined"&&i.cssMode){let m;a.forEach((b,v)=>{d>=b&&(m=v)}),typeof m!="undefined"&&(f=a[m>0?m-1:m])}let g=0;if(typeof f!="undefined"&&(g=s.indexOf(f),g<0&&(g=n.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(g=g-n.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),i.rewind&&n.isBeginning){const m=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(m,r,e,t)}return n.slideTo(g,r,e,t)}function HM(r,e,t){r===void 0&&(r=this.params.speed),e===void 0&&(e=!0);const n=this;return n.slideTo(n.activeIndex,r,e,t)}function jM(r,e,t,n){r===void 0&&(r=this.params.speed),e===void 0&&(e=!0),n===void 0&&(n=.5);const i=this;let o=i.activeIndex;const a=Math.min(i.params.slidesPerGroupSkip,o),s=a+Math.floor((o-a)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[s]){const c=i.snapGrid[s],u=i.snapGrid[s+1];l-c>(u-c)*n&&(o+=i.params.slidesPerGroup)}else{const c=i.snapGrid[s-1],u=i.snapGrid[s];l-c<=(u-c)*n&&(o-=i.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,i.slidesGrid.length-1),i.slideTo(o,r,e,t)}function WM(){const r=this,{params:e,$wrapperEl:t}=r,n=e.slidesPerView==="auto"?r.slidesPerViewDynamic():e.slidesPerView;let i=r.clickedIndex,o;if(e.loop){if(r.animating)return;o=parseInt(te(r.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?i<r.loopedSlides-n/2||i>r.slides.length-r.loopedSlides+n/2?(r.loopFix(),i=t.children(`.${e.slideClass}[data-swiper-slide-index="${o}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),to(()=>{r.slideTo(i)})):r.slideTo(i):i>r.slides.length-n?(r.loopFix(),i=t.children(`.${e.slideClass}[data-swiper-slide-index="${o}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),to(()=>{r.slideTo(i)})):r.slideTo(i)}else r.slideTo(i)}var VM={slideTo:RM,slideToLoop:LM,slideNext:BM,slidePrev:$M,slideReset:HM,slideToClosest:jM,slideToClickedSlide:WM};function YM(){const r=this,e=ar(),{params:t,$wrapperEl:n}=r,i=n.children().length>0?te(n.children()[0].parentNode):n;i.children(`.${t.slideClass}.${t.slideDuplicateClass}`).remove();let o=i.children(`.${t.slideClass}`);if(t.loopFillGroupWithBlank){const l=t.slidesPerGroup-o.length%t.slidesPerGroup;if(l!==t.slidesPerGroup){for(let c=0;c<l;c+=1){const u=te(e.createElement("div")).addClass(`${t.slideClass} ${t.slideBlankClass}`);i.append(u)}o=i.children(`.${t.slideClass}`)}}t.slidesPerView==="auto"&&!t.loopedSlides&&(t.loopedSlides=o.length),r.loopedSlides=Math.ceil(parseFloat(t.loopedSlides||t.slidesPerView,10)),r.loopedSlides+=t.loopAdditionalSlides,r.loopedSlides>o.length&&(r.loopedSlides=o.length);const a=[],s=[];o.each((l,c)=>{const u=te(l);c<r.loopedSlides&&s.push(l),c<o.length&&c>=o.length-r.loopedSlides&&a.push(l),u.attr("data-swiper-slide-index",c)});for(let l=0;l<s.length;l+=1)i.append(te(s[l].cloneNode(!0)).addClass(t.slideDuplicateClass));for(let l=a.length-1;l>=0;l-=1)i.prepend(te(a[l].cloneNode(!0)).addClass(t.slideDuplicateClass))}function qM(){const r=this;r.emit("beforeLoopFix");const{activeIndex:e,slides:t,loopedSlides:n,allowSlidePrev:i,allowSlideNext:o,snapGrid:a,rtlTranslate:s}=r;let l;r.allowSlidePrev=!0,r.allowSlideNext=!0;const u=-a[e]-r.getTranslate();e<n?(l=t.length-n*3+e,l+=n,r.slideTo(l,0,!1,!0)&&u!==0&&r.setTranslate((s?-r.translate:r.translate)-u)):e>=t.length-n&&(l=-t.length+e+n,l+=n,r.slideTo(l,0,!1,!0)&&u!==0&&r.setTranslate((s?-r.translate:r.translate)-u)),r.allowSlidePrev=i,r.allowSlideNext=o,r.emit("loopFix")}function UM(){const r=this,{$wrapperEl:e,params:t,slides:n}=r;e.children(`.${t.slideClass}.${t.slideDuplicateClass},.${t.slideClass}.${t.slideBlankClass}`).remove(),n.removeAttr("data-swiper-slide-index")}var JM={loopCreate:YM,loopFix:qM,loopDestroy:UM};function XM(r){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;t.style.cursor="move",t.style.cursor=r?"grabbing":"grab"}function GM(){const r=this;r.support.touch||r.params.watchOverflow&&r.isLocked||r.params.cssMode||(r[r.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="")}var KM={setGrabCursor:XM,unsetGrabCursor:GM};function ZM(r,e){e===void 0&&(e=this);function t(n){if(!n||n===ar()||n===Nt())return null;n.assignedSlot&&(n=n.assignedSlot);const i=n.closest(r);return!i&&!n.getRootNode?null:i||t(n.getRootNode().host)}return t(e)}function QM(r){const e=this,t=ar(),n=Nt(),i=e.touchEventsData,{params:o,touches:a,enabled:s}=e;if(!s||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let l=r;l.originalEvent&&(l=l.originalEvent);let c=te(l.target);if(o.touchEventsTarget==="wrapper"&&!c.closest(e.wrapperEl).length||(i.isTouchEvent=l.type==="touchstart",!i.isTouchEvent&&"which"in l&&l.which===3)||!i.isTouchEvent&&"button"in l&&l.button>0||i.isTouched&&i.isMoved)return;!!o.noSwipingClass&&o.noSwipingClass!==""&&l.target&&l.target.shadowRoot&&r.path&&r.path[0]&&(c=te(r.path[0]));const p=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,d=!!(l.target&&l.target.shadowRoot);if(o.noSwiping&&(d?ZM(p,c[0]):c.closest(p)[0])){e.allowClick=!0;return}if(o.swipeHandler&&!c.closest(o.swipeHandler)[0])return;a.currentX=l.type==="touchstart"?l.targetTouches[0].pageX:l.pageX,a.currentY=l.type==="touchstart"?l.targetTouches[0].pageY:l.pageY;const h=a.currentX,f=a.currentY,g=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection,m=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if(g&&(h<=m||h>=n.innerWidth-m))if(g==="prevent")r.preventDefault();else return;if(Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=h,a.startY=f,i.touchStartTime=Nn(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(i.allowThresholdMove=!1),l.type!=="touchstart"){let b=!0;c.is(i.focusableElements)&&(b=!1,c[0].nodeName==="SELECT"&&(i.isTouched=!1)),t.activeElement&&te(t.activeElement).is(i.focusableElements)&&t.activeElement!==c[0]&&t.activeElement.blur();const v=b&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||v)&&!c[0].isContentEditable&&l.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function e5(r){const e=ar(),t=this,n=t.touchEventsData,{params:i,touches:o,rtlTranslate:a,enabled:s}=t;if(!s)return;let l=r;if(l.originalEvent&&(l=l.originalEvent),!n.isTouched){n.startMoving&&n.isScrolling&&t.emit("touchMoveOpposite",l);return}if(n.isTouchEvent&&l.type!=="touchmove")return;const c=l.type==="touchmove"&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),u=l.type==="touchmove"?c.pageX:l.pageX,p=l.type==="touchmove"?c.pageY:l.pageY;if(l.preventedByNestedSwiper){o.startX=u,o.startY=p;return}if(!t.allowTouchMove){te(l.target).is(n.focusableElements)||(t.allowClick=!1),n.isTouched&&(Object.assign(o,{startX:u,startY:p,currentX:u,currentY:p}),n.touchStartTime=Nn());return}if(n.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop){if(t.isVertical()){if(p<o.startY&&t.translate<=t.maxTranslate()||p>o.startY&&t.translate>=t.minTranslate()){n.isTouched=!1,n.isMoved=!1;return}}else if(u<o.startX&&t.translate<=t.maxTranslate()||u>o.startX&&t.translate>=t.minTranslate())return}if(n.isTouchEvent&&e.activeElement&&l.target===e.activeElement&&te(l.target).is(n.focusableElements)){n.isMoved=!0,t.allowClick=!1;return}if(n.allowTouchCallbacks&&t.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;o.currentX=u,o.currentY=p;const d=o.currentX-o.startX,h=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(d**2+h**2)<t.params.threshold)return;if(typeof n.isScrolling=="undefined"){let b;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?n.isScrolling=!1:d*d+h*h>=25&&(b=Math.atan2(Math.abs(h),Math.abs(d))*180/Math.PI,n.isScrolling=t.isHorizontal()?b>i.touchAngle:90-b>i.touchAngle)}if(n.isScrolling&&t.emit("touchMoveOpposite",l),typeof n.startMoving=="undefined"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(n.startMoving=!0),n.isScrolling){n.isTouched=!1;return}if(!n.startMoving)return;t.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation(),n.isMoved||(i.loop&&!i.cssMode&&t.loopFix(),n.startTranslate=t.getTranslate(),t.setTransition(0),t.animating&&t.$wrapperEl.trigger("webkitTransitionEnd transitionend"),n.allowMomentumBounce=!1,i.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",l)),t.emit("sliderMove",l),n.isMoved=!0;let f=t.isHorizontal()?d:h;o.diff=f,f*=i.touchRatio,a&&(f=-f),t.swipeDirection=f>0?"prev":"next",n.currentTranslate=f+n.startTranslate;let g=!0,m=i.resistanceRatio;if(i.touchReleaseOnEdges&&(m=0),f>0&&n.currentTranslate>t.minTranslate()?(g=!1,i.resistance&&(n.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+n.startTranslate+f)**m)):f<0&&n.currentTranslate<t.maxTranslate()&&(g=!1,i.resistance&&(n.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-n.startTranslate-f)**m)),g&&(l.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(n.currentTranslate=n.startTranslate),i.threshold>0)if(Math.abs(f)>i.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,n.currentTranslate=n.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{n.currentTranslate=n.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&t.freeMode||i.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),t.params.freeMode&&i.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(n.currentTranslate),t.setTranslate(n.currentTranslate))}function t5(r){const e=this,t=e.touchEventsData,{params:n,touches:i,rtlTranslate:o,slidesGrid:a,enabled:s}=e;if(!s)return;let l=r;if(l.originalEvent&&(l=l.originalEvent),t.allowTouchCallbacks&&e.emit("touchEnd",l),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&n.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}n.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const c=Nn(),u=c-t.touchStartTime;if(e.allowClick){const v=l.path||l.composedPath&&l.composedPath();e.updateClickedSlide(v&&v[0]||l.target),e.emit("tap click",l),u<300&&c-t.lastClickTime<300&&e.emit("doubleTap doubleClick",l)}if(t.lastClickTime=Nn(),to(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||i.diff===0||t.currentTranslate===t.startTranslate){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let p;if(n.followFinger?p=o?e.translate:-e.translate:p=-t.currentTranslate,n.cssMode)return;if(e.params.freeMode&&n.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:p});return}let d=0,h=e.slidesSizesGrid[0];for(let v=0;v<a.length;v+=v<n.slidesPerGroupSkip?1:n.slidesPerGroup){const C=v<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;typeof a[v+C]!="undefined"?p>=a[v]&&p<a[v+C]&&(d=v,h=a[v+C]-a[v]):p>=a[v]&&(d=v,h=a[a.length-1]-a[a.length-2])}let f=null,g=null;n.rewind&&(e.isBeginning?g=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(f=0));const m=(p-a[d])/h,b=d<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;if(u>n.longSwipesMs){if(!n.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(m>=n.longSwipesRatio?e.slideTo(n.rewind&&e.isEnd?f:d+b):e.slideTo(d)),e.swipeDirection==="prev"&&(m>1-n.longSwipesRatio?e.slideTo(d+b):g!==null&&m<0&&Math.abs(m)>n.longSwipesRatio?e.slideTo(g):e.slideTo(d))}else{if(!n.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(l.target===e.navigation.nextEl||l.target===e.navigation.prevEl)?l.target===e.navigation.nextEl?e.slideTo(d+b):e.slideTo(d):(e.swipeDirection==="next"&&e.slideTo(f!==null?f:d+b),e.swipeDirection==="prev"&&e.slideTo(g!==null?g:d))}}function ag(){const r=this,{params:e,el:t}=r;if(t&&t.offsetWidth===0)return;e.breakpoints&&r.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:i,snapGrid:o}=r;r.allowSlideNext=!0,r.allowSlidePrev=!0,r.updateSize(),r.updateSlides(),r.updateSlidesClasses(),(e.slidesPerView==="auto"||e.slidesPerView>1)&&r.isEnd&&!r.isBeginning&&!r.params.centeredSlides?r.slideTo(r.slides.length-1,0,!1,!0):r.slideTo(r.activeIndex,0,!1,!0),r.autoplay&&r.autoplay.running&&r.autoplay.paused&&r.autoplay.run(),r.allowSlidePrev=i,r.allowSlideNext=n,r.params.watchOverflow&&o!==r.snapGrid&&r.checkOverflow()}function r5(r){const e=this;!e.enabled||e.allowClick||(e.params.preventClicks&&r.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(r.stopPropagation(),r.stopImmediatePropagation()))}function n5(){const r=this,{wrapperEl:e,rtlTranslate:t,enabled:n}=r;if(!n)return;r.previousTranslate=r.translate,r.isHorizontal()?r.translate=-e.scrollLeft:r.translate=-e.scrollTop,r.translate===0&&(r.translate=0),r.updateActiveIndex(),r.updateSlidesClasses();let i;const o=r.maxTranslate()-r.minTranslate();o===0?i=0:i=(r.translate-r.minTranslate())/o,i!==r.progress&&r.updateProgress(t?-r.translate:r.translate),r.emit("setTranslate",r.translate,!1)}let sg=!1;function i5(){}const Uw=(r,e)=>{const t=ar(),{params:n,touchEvents:i,el:o,wrapperEl:a,device:s,support:l}=r,c=!!n.nested,u=e==="on"?"addEventListener":"removeEventListener",p=e;if(!l.touch)o[u](i.start,r.onTouchStart,!1),t[u](i.move,r.onTouchMove,c),t[u](i.end,r.onTouchEnd,!1);else{const d=i.start==="touchstart"&&l.passiveListener&&n.passiveListeners?{passive:!0,capture:!1}:!1;o[u](i.start,r.onTouchStart,d),o[u](i.move,r.onTouchMove,l.passiveListener?{passive:!1,capture:c}:c),o[u](i.end,r.onTouchEnd,d),i.cancel&&o[u](i.cancel,r.onTouchEnd,d)}(n.preventClicks||n.preventClicksPropagation)&&o[u]("click",r.onClick,!0),n.cssMode&&a[u]("scroll",r.onScroll),n.updateOnWindowResize?r[p](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",ag,!0):r[p]("observerUpdate",ag,!0)};function o5(){const r=this,e=ar(),{params:t,support:n}=r;r.onTouchStart=QM.bind(r),r.onTouchMove=e5.bind(r),r.onTouchEnd=t5.bind(r),t.cssMode&&(r.onScroll=n5.bind(r)),r.onClick=r5.bind(r),n.touch&&!sg&&(e.addEventListener("touchstart",i5),sg=!0),Uw(r,"on")}function a5(){Uw(this,"off")}var s5={attachEvents:o5,detachEvents:a5};const lg=(r,e)=>r.grid&&e.grid&&e.grid.rows>1;function l5(){const r=this,{activeIndex:e,initialized:t,loopedSlides:n=0,params:i,$el:o}=r,a=i.breakpoints;if(!a||a&&Object.keys(a).length===0)return;const s=r.getBreakpoint(a,r.params.breakpointsBase,r.el);if(!s||r.currentBreakpoint===s)return;const c=(s in a?a[s]:void 0)||r.originalParams,u=lg(r,i),p=lg(r,c),d=i.enabled;u&&!p?(o.removeClass(`${i.containerModifierClass}grid ${i.containerModifierClass}grid-column`),r.emitContainerClasses()):!u&&p&&(o.addClass(`${i.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&i.grid.fill==="column")&&o.addClass(`${i.containerModifierClass}grid-column`),r.emitContainerClasses());const h=c.direction&&c.direction!==i.direction,f=i.loop&&(c.slidesPerView!==i.slidesPerView||h);h&&t&&r.changeDirection(),_n(r.params,c);const g=r.params.enabled;Object.assign(r,{allowTouchMove:r.params.allowTouchMove,allowSlideNext:r.params.allowSlideNext,allowSlidePrev:r.params.allowSlidePrev}),d&&!g?r.disable():!d&&g&&r.enable(),r.currentBreakpoint=s,r.emit("_beforeBreakpoint",c),f&&t&&(r.loopDestroy(),r.loopCreate(),r.updateSlides(),r.slideTo(e-n+r.loopedSlides,0,!1)),r.emit("breakpoint",c)}function c5(r,e,t){if(e===void 0&&(e="window"),!r||e==="container"&&!t)return;let n=!1;const i=Nt(),o=e==="window"?i.innerHeight:t.clientHeight,a=Object.keys(r).map(s=>{if(typeof s=="string"&&s.indexOf("@")===0){const l=parseFloat(s.substr(1));return{value:o*l,point:s}}return{value:s,point:s}});a.sort((s,l)=>parseInt(s.value,10)-parseInt(l.value,10));for(let s=0;s<a.length;s+=1){const{point:l,value:c}=a[s];e==="window"?i.matchMedia(`(min-width: ${c}px)`).matches&&(n=l):c<=t.clientWidth&&(n=l)}return n||"max"}var u5={setBreakpoint:l5,getBreakpoint:c5};function p5(r,e){const t=[];return r.forEach(n=>{typeof n=="object"?Object.keys(n).forEach(i=>{n[i]&&t.push(e+i)}):typeof n=="string"&&t.push(e+n)}),t}function d5(){const r=this,{classNames:e,params:t,rtl:n,$el:i,device:o,support:a}=r,s=p5(["initialized",t.direction,{"pointer-events":!a.touch},{"free-mode":r.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:n},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...s),i.addClass([...e].join(" ")),r.emitContainerClasses()}function f5(){const r=this,{$el:e,classNames:t}=r;e.removeClass(t.join(" ")),r.emitContainerClasses()}var h5={addClasses:d5,removeClasses:f5};function g5(r,e,t,n,i,o){const a=Nt();let s;function l(){o&&o()}!te(r).parent("picture")[0]&&(!r.complete||!i)&&e?(s=new a.Image,s.onload=l,s.onerror=l,n&&(s.sizes=n),t&&(s.srcset=t),e&&(s.src=e)):l()}function m5(){const r=this;r.imagesToLoad=r.$el.find("img");function e(){typeof r=="undefined"||r===null||!r||r.destroyed||(r.imagesLoaded!==void 0&&(r.imagesLoaded+=1),r.imagesLoaded===r.imagesToLoad.length&&(r.params.updateOnImagesReady&&r.update(),r.emit("imagesReady")))}for(let t=0;t<r.imagesToLoad.length;t+=1){const n=r.imagesToLoad[t];r.loadImage(n,n.currentSrc||n.getAttribute("src"),n.srcset||n.getAttribute("srcset"),n.sizes||n.getAttribute("sizes"),!0,e)}}var v5={loadImage:g5,preloadImages:m5};function b5(){const r=this,{isLocked:e,params:t}=r,{slidesOffsetBefore:n}=t;if(n){const i=r.slides.length-1,o=r.slidesGrid[i]+r.slidesSizesGrid[i]+n*2;r.isLocked=r.size>o}else r.isLocked=r.snapGrid.length===1;t.allowSlideNext===!0&&(r.allowSlideNext=!r.isLocked),t.allowSlidePrev===!0&&(r.allowSlidePrev=!r.isLocked),e&&e!==r.isLocked&&(r.isEnd=!1),e!==r.isLocked&&r.emit(r.isLocked?"lock":"unlock")}var w5={checkOverflow:b5},cg={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function y5(r,e){return function(n){n===void 0&&(n={});const i=Object.keys(n)[0],o=n[i];if(typeof o!="object"||o===null){_n(e,n);return}if(["navigation","pagination","scrollbar"].indexOf(i)>=0&&r[i]===!0&&(r[i]={auto:!0}),!(i in r&&"enabled"in o)){_n(e,n);return}r[i]===!0&&(r[i]={enabled:!0}),typeof r[i]=="object"&&!("enabled"in r[i])&&(r[i].enabled=!0),r[i]||(r[i]={enabled:!1}),_n(e,n)}}const Vu={eventsEmitter:mM,update:DM,translate:NM,transition:FM,slide:VM,loop:JM,grabCursor:KM,events:s5,breakpoints:u5,checkOverflow:w5,classes:h5,images:v5},Yu={};class On{constructor(){let e,t;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];if(i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?t=i[0]:[e,t]=i,t||(t={}),t=_n({},t),e&&!t.el&&(t.el=e),t.el&&te(t.el).length>1){const c=[];return te(t.el).each(u=>{const p=_n({},t,{el:u});c.push(new On(p))}),c}const a=this;a.__swiper__=!0,a.support=Yw(),a.device=pM({userAgent:t.userAgent}),a.browser=fM(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],t.modules&&Array.isArray(t.modules)&&a.modules.push(...t.modules);const s={};a.modules.forEach(c=>{c({swiper:a,extendParams:y5(t,s),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const l=_n({},cg,s);return a.params=_n({},l,Yu,t),a.originalParams=_n({},a.params),a.passedParams=_n({},t),a.params&&a.params.on&&Object.keys(a.params.on).forEach(c=>{a.on(c,a.params.on[c])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),a.$=te,Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:te(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEvents:function(){const u=["touchstart","touchmove","touchend","touchcancel"],p=["pointerdown","pointermove","pointerup"];return a.touchEventsTouch={start:u[0],move:u[1],end:u[2],cancel:u[3]},a.touchEventsDesktop={start:p[0],move:p[1],end:p[2]},a.support.touch||!a.params.simulateTouch?a.touchEventsTouch:a.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:Nn(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;!e.enabled||(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const n=this;e=Math.min(Math.max(e,0),1);const i=n.minTranslate(),a=(n.maxTranslate()-i)*e+i;n.translateTo(a,typeof t=="undefined"?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(n=>n.indexOf("swiper")===0||n.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(n=>n.indexOf("swiper-slide")===0||n.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.each(n=>{const i=e.getSlideClasses(n);t.push({slideEl:n,classNames:i}),e.emit("_slideClass",n,i)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const n=this,{params:i,slides:o,slidesGrid:a,slidesSizesGrid:s,size:l,activeIndex:c}=n;let u=1;if(i.centeredSlides){let p=o[c].swiperSlideSize,d;for(let h=c+1;h<o.length;h+=1)o[h]&&!d&&(p+=o[h].swiperSlideSize,u+=1,p>l&&(d=!0));for(let h=c-1;h>=0;h-=1)o[h]&&!d&&(p+=o[h].swiperSlideSize,u+=1,p>l&&(d=!0))}else if(e==="current")for(let p=c+1;p<o.length;p+=1)(t?a[p]+s[p]-a[c]<l:a[p]-a[c]<l)&&(u+=1);else for(let p=c-1;p>=0;p-=1)a[c]-a[p]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:n}=e;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const a=e.rtlTranslate?e.translate*-1:e.translate,s=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(s),e.updateActiveIndex(),e.updateSlidesClasses()}let o;e.params.freeMode&&e.params.freeMode.enabled?(i(),e.params.autoHeight&&e.updateAutoHeight()):((e.params.slidesPerView==="auto"||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?o=e.slideTo(e.slides.length-1,0,!1,!0):o=e.slideTo(e.activeIndex,0,!1,!0),o||i()),n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const n=this,i=n.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(n.$el.removeClass(`${n.params.containerModifierClass}${i}`).addClass(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.each(o=>{e==="vertical"?o.style.width="":o.style.height=""}),n.emit("changeDirection"),t&&n.update()),n}mount(e){const t=this;if(t.mounted)return!0;const n=te(e||t.params.el);if(e=n[0],!e)return!1;e.swiper=t;const i=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const s=te(e.shadowRoot.querySelector(i()));return s.children=l=>n.children(l),s}return n.children?n.children(i()):te(n).children(i())})();if(a.length===0&&t.params.createElements){const l=ar().createElement("div");a=te(l),l.className=t.params.wrapperClass,n.append(l),n.children(`.${t.params.slideClass}`).each(c=>{a.append(c)})}return Object.assign(t,{$el:n,el:e,$wrapperEl:a,wrapperEl:a[0],mounted:!0,rtl:e.dir.toLowerCase()==="rtl"||n.css("direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(e.dir.toLowerCase()==="rtl"||n.css("direction")==="rtl"),wrongRTL:a.css("display")==="-webkit-box"}),!0}init(e){const t=this;return t.initialized||t.mount(e)===!1||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const n=this,{params:i,$el:o,$wrapperEl:a,slides:s}=n;return typeof n.params=="undefined"||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),i.loop&&n.loopDestroy(),t&&(n.removeClasses(),o.removeAttr("style"),a.removeAttr("style"),s&&s.length&&s.removeClass([i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(l=>{n.off(l)}),e!==!1&&(n.$el[0].swiper=null,aM(n)),n.destroyed=!0),null}static extendDefaults(e){_n(Yu,e)}static get extendedDefaults(){return Yu}static get defaults(){return cg}static installModule(e){On.prototype.__modules__||(On.prototype.__modules__=[]);const t=On.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>On.installModule(t)),On):(On.installModule(e),On)}}Object.keys(Vu).forEach(r=>{Object.keys(Vu[r]).forEach(e=>{On.prototype[e]=Vu[r][e]})});On.use([hM,gM]);function x5(r){let{swiper:e,extendParams:t,on:n,emit:i}=r;t({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});let o;e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};function a(d,h){const f=e.params.virtual;if(f.cache&&e.virtual.cache[h])return e.virtual.cache[h];const g=f.renderSlide?te(f.renderSlide.call(e,d,h)):te(`<div class="${e.params.slideClass}" data-swiper-slide-index="${h}">${d}</div>`);return g.attr("data-swiper-slide-index")||g.attr("data-swiper-slide-index",h),f.cache&&(e.virtual.cache[h]=g),g}function s(d){const{slidesPerView:h,slidesPerGroup:f,centeredSlides:g}=e.params,{addSlidesBefore:m,addSlidesAfter:b}=e.params.virtual,{from:v,to:C,slides:k,slidesGrid:_,offset:N}=e.virtual;e.params.cssMode||e.updateActiveIndex();const I=e.activeIndex||0;let L;e.rtlTranslate?L="right":L=e.isHorizontal()?"left":"top";let q,A;g?(q=Math.floor(h/2)+f+b,A=Math.floor(h/2)+f+m):(q=h+(f-1)+b,A=f+m);const z=Math.max((I||0)-A,0),H=Math.min((I||0)+q,k.length-1),U=(e.slidesGrid[z]||0)-(e.slidesGrid[0]||0);Object.assign(e.virtual,{from:z,to:H,offset:U,slidesGrid:e.slidesGrid});function ie(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load(),i("virtualUpdate")}if(v===z&&C===H&&!d){e.slidesGrid!==_&&U!==N&&e.slides.css(L,`${U}px`),e.updateProgress(),i("virtualUpdate");return}if(e.params.virtual.renderExternal){e.params.virtual.renderExternal.call(e,{offset:U,from:z,to:H,slides:function(){const ne=[];for(let ue=z;ue<=H;ue+=1)ne.push(k[ue]);return ne}()}),e.params.virtual.renderExternalUpdate?ie():i("virtualUpdate");return}const ke=[],Se=[];if(d)e.$wrapperEl.find(`.${e.params.slideClass}`).remove();else for(let $=v;$<=C;$+=1)($<z||$>H)&&e.$wrapperEl.find(`.${e.params.slideClass}[data-swiper-slide-index="${$}"]`).remove();for(let $=0;$<k.length;$+=1)$>=z&&$<=H&&(typeof C=="undefined"||d?Se.push($):($>C&&Se.push($),$<v&&ke.push($)));Se.forEach($=>{e.$wrapperEl.append(a(k[$],$))}),ke.sort(($,ne)=>ne-$).forEach($=>{e.$wrapperEl.prepend(a(k[$],$))}),e.$wrapperEl.children(".swiper-slide").css(L,`${U}px`),ie()}function l(d){if(typeof d=="object"&&"length"in d)for(let h=0;h<d.length;h+=1)d[h]&&e.virtual.slides.push(d[h]);else e.virtual.slides.push(d);s(!0)}function c(d){const h=e.activeIndex;let f=h+1,g=1;if(Array.isArray(d)){for(let m=0;m<d.length;m+=1)d[m]&&e.virtual.slides.unshift(d[m]);f=h+d.length,g=d.length}else e.virtual.slides.unshift(d);if(e.params.virtual.cache){const m=e.virtual.cache,b={};Object.keys(m).forEach(v=>{const C=m[v],k=C.attr("data-swiper-slide-index");k&&C.attr("data-swiper-slide-index",parseInt(k,10)+g),b[parseInt(v,10)+g]=C}),e.virtual.cache=b}s(!0),e.slideTo(f,0)}function u(d){if(typeof d=="undefined"||d===null)return;let h=e.activeIndex;if(Array.isArray(d))for(let f=d.length-1;f>=0;f-=1)e.virtual.slides.splice(d[f],1),e.params.virtual.cache&&delete e.virtual.cache[d[f]],d[f]<h&&(h-=1),h=Math.max(h,0);else e.virtual.slides.splice(d,1),e.params.virtual.cache&&delete e.virtual.cache[d],d<h&&(h-=1),h=Math.max(h,0);s(!0),e.slideTo(h,0)}function p(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),s(!0),e.slideTo(0,0)}n("beforeInit",()=>{!e.params.virtual.enabled||(e.virtual.slides=e.params.virtual.slides,e.classNames.push(`${e.params.containerModifierClass}virtual`),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,e.params.initialSlide||s())}),n("setTranslate",()=>{!e.params.virtual.enabled||(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(o),o=setTimeout(()=>{s()},100)):s())}),n("init update resize",()=>{!e.params.virtual.enabled||e.params.cssMode&&Xa(e.wrapperEl,"--swiper-virtual-size",`${e.virtualSize}px`)}),Object.assign(e.virtual,{appendSlide:l,prependSlide:c,removeSlide:u,removeAllSlides:p,update:s})}function k5(r){let{swiper:e,extendParams:t,on:n,emit:i}=r;const o=ar(),a=Nt();e.keyboard={enabled:!1},t({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}});function s(u){if(!e.enabled)return;const{rtlTranslate:p}=e;let d=u;d.originalEvent&&(d=d.originalEvent);const h=d.keyCode||d.charCode,f=e.params.keyboard.pageUpDown,g=f&&h===33,m=f&&h===34,b=h===37,v=h===39,C=h===38,k=h===40;if(!e.allowSlideNext&&(e.isHorizontal()&&v||e.isVertical()&&k||m)||!e.allowSlidePrev&&(e.isHorizontal()&&b||e.isVertical()&&C||g))return!1;if(!(d.shiftKey||d.altKey||d.ctrlKey||d.metaKey)&&!(o.activeElement&&o.activeElement.nodeName&&(o.activeElement.nodeName.toLowerCase()==="input"||o.activeElement.nodeName.toLowerCase()==="textarea"))){if(e.params.keyboard.onlyInViewport&&(g||m||b||v||C||k)){let _=!1;if(e.$el.parents(`.${e.params.slideClass}`).length>0&&e.$el.parents(`.${e.params.slideActiveClass}`).length===0)return;const N=e.$el,I=N[0].clientWidth,L=N[0].clientHeight,q=a.innerWidth,A=a.innerHeight,z=e.$el.offset();p&&(z.left-=e.$el[0].scrollLeft);const H=[[z.left,z.top],[z.left+I,z.top],[z.left,z.top+L],[z.left+I,z.top+L]];for(let U=0;U<H.length;U+=1){const ie=H[U];if(ie[0]>=0&&ie[0]<=q&&ie[1]>=0&&ie[1]<=A){if(ie[0]===0&&ie[1]===0)continue;_=!0}}if(!_)return}e.isHorizontal()?((g||m||b||v)&&(d.preventDefault?d.preventDefault():d.returnValue=!1),((m||v)&&!p||(g||b)&&p)&&e.slideNext(),((g||b)&&!p||(m||v)&&p)&&e.slidePrev()):((g||m||C||k)&&(d.preventDefault?d.preventDefault():d.returnValue=!1),(m||k)&&e.slideNext(),(g||C)&&e.slidePrev()),i("keyPress",h)}}function l(){e.keyboard.enabled||(te(o).on("keydown",s),e.keyboard.enabled=!0)}function c(){!e.keyboard.enabled||(te(o).off("keydown",s),e.keyboard.enabled=!1)}n("init",()=>{e.params.keyboard.enabled&&l()}),n("destroy",()=>{e.keyboard.enabled&&c()}),Object.assign(e.keyboard,{enable:l,disable:c})}function C5(r){let{swiper:e,extendParams:t,on:n,emit:i}=r;const o=Nt();t({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}}),e.mousewheel={enabled:!1};let a,s=Nn(),l;const c=[];function u(C){let I=0,L=0,q=0,A=0;return"detail"in C&&(L=C.detail),"wheelDelta"in C&&(L=-C.wheelDelta/120),"wheelDeltaY"in C&&(L=-C.wheelDeltaY/120),"wheelDeltaX"in C&&(I=-C.wheelDeltaX/120),"axis"in C&&C.axis===C.HORIZONTAL_AXIS&&(I=L,L=0),q=I*10,A=L*10,"deltaY"in C&&(A=C.deltaY),"deltaX"in C&&(q=C.deltaX),C.shiftKey&&!q&&(q=A,A=0),(q||A)&&C.deltaMode&&(C.deltaMode===1?(q*=40,A*=40):(q*=800,A*=800)),q&&!I&&(I=q<1?-1:1),A&&!L&&(L=A<1?-1:1),{spinX:I,spinY:L,pixelX:q,pixelY:A}}function p(){!e.enabled||(e.mouseEntered=!0)}function d(){!e.enabled||(e.mouseEntered=!1)}function h(C){return e.params.mousewheel.thresholdDelta&&C.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&Nn()-s<e.params.mousewheel.thresholdTime?!1:C.delta>=6&&Nn()-s<60?!0:(C.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),i("scroll",C.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),i("scroll",C.raw)),s=new o.Date().getTime(),!1)}function f(C){const k=e.params.mousewheel;if(C.direction<0){if(e.isEnd&&!e.params.loop&&k.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&k.releaseOnEdges)return!0;return!1}function g(C){let k=C,_=!0;if(!e.enabled)return;const N=e.params.mousewheel;e.params.cssMode&&k.preventDefault();let I=e.$el;if(e.params.mousewheel.eventsTarget!=="container"&&(I=te(e.params.mousewheel.eventsTarget)),!e.mouseEntered&&!I[0].contains(k.target)&&!N.releaseOnEdges)return!0;k.originalEvent&&(k=k.originalEvent);let L=0;const q=e.rtlTranslate?-1:1,A=u(k);if(N.forceToAxis)if(e.isHorizontal())if(Math.abs(A.pixelX)>Math.abs(A.pixelY))L=-A.pixelX*q;else return!0;else if(Math.abs(A.pixelY)>Math.abs(A.pixelX))L=-A.pixelY;else return!0;else L=Math.abs(A.pixelX)>Math.abs(A.pixelY)?-A.pixelX*q:-A.pixelY;if(L===0)return!0;N.invert&&(L=-L);let z=e.getTranslate()+L*N.sensitivity;if(z>=e.minTranslate()&&(z=e.minTranslate()),z<=e.maxTranslate()&&(z=e.maxTranslate()),_=e.params.loop?!0:!(z===e.minTranslate()||z===e.maxTranslate()),_&&e.params.nested&&k.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){const H={time:Nn(),delta:Math.abs(L),direction:Math.sign(L),raw:C};c.length>=2&&c.shift();const U=c.length?c[c.length-1]:void 0;if(c.push(H),U?(H.direction!==U.direction||H.delta>U.delta||H.time>U.time+150)&&h(H):h(H),f(H))return!0}else{const H={time:Nn(),delta:Math.abs(L),direction:Math.sign(L)},U=l&&H.time<l.time+500&&H.delta<=l.delta&&H.direction===l.direction;if(!U){l=void 0,e.params.loop&&e.loopFix();let ie=e.getTranslate()+L*N.sensitivity;const ke=e.isBeginning,Se=e.isEnd;if(ie>=e.minTranslate()&&(ie=e.minTranslate()),ie<=e.maxTranslate()&&(ie=e.maxTranslate()),e.setTransition(0),e.setTranslate(ie),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!ke&&e.isBeginning||!Se&&e.isEnd)&&e.updateSlidesClasses(),e.params.freeMode.sticky){clearTimeout(a),a=void 0,c.length>=15&&c.shift();const $=c.length?c[c.length-1]:void 0,ne=c[0];if(c.push(H),$&&(H.delta>$.delta||H.direction!==$.direction))c.splice(0);else if(c.length>=15&&H.time-ne.time<500&&ne.delta-H.delta>=1&&H.delta<=6){const ue=L>0?.8:.2;l=H,c.splice(0),a=to(()=>{e.slideToClosest(e.params.speed,!0,void 0,ue)},0)}a||(a=to(()=>{l=H,c.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5)},500))}if(U||i("scroll",k),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),ie===e.minTranslate()||ie===e.maxTranslate())return!0}}return k.preventDefault?k.preventDefault():k.returnValue=!1,!1}function m(C){let k=e.$el;e.params.mousewheel.eventsTarget!=="container"&&(k=te(e.params.mousewheel.eventsTarget)),k[C]("mouseenter",p),k[C]("mouseleave",d),k[C]("wheel",g)}function b(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",g),!0):e.mousewheel.enabled?!1:(m("on"),e.mousewheel.enabled=!0,!0)}function v(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,g),!0):e.mousewheel.enabled?(m("off"),e.mousewheel.enabled=!1,!0):!1}n("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&v(),e.params.mousewheel.enabled&&b()}),n("destroy",()=>{e.params.cssMode&&b(),e.mousewheel.enabled&&v()}),Object.assign(e.mousewheel,{enable:b,disable:v})}function wf(r,e,t,n){const i=ar();return r.params.createElements&&Object.keys(n).forEach(o=>{if(!t[o]&&t.auto===!0){let a=r.$el.children(`.${n[o]}`)[0];a||(a=i.createElement("div"),a.className=n[o],r.$el.append(a)),t[o]=a,e[o]=a}}),t}function S5(r){let{swiper:e,extendParams:t,on:n,emit:i}=r;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}}),e.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null};function o(d){let h;return d&&(h=te(d),e.params.uniqueNavElements&&typeof d=="string"&&h.length>1&&e.$el.find(d).length===1&&(h=e.$el.find(d))),h}function a(d,h){const f=e.params.navigation;d&&d.length>0&&(d[h?"addClass":"removeClass"](f.disabledClass),d[0]&&d[0].tagName==="BUTTON"&&(d[0].disabled=h),e.params.watchOverflow&&e.enabled&&d[e.isLocked?"addClass":"removeClass"](f.lockClass))}function s(){if(e.params.loop)return;const{$nextEl:d,$prevEl:h}=e.navigation;a(h,e.isBeginning&&!e.params.rewind),a(d,e.isEnd&&!e.params.rewind)}function l(d){d.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&e.slidePrev()}function c(d){d.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&e.slideNext()}function u(){const d=e.params.navigation;if(e.params.navigation=wf(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(d.nextEl||d.prevEl))return;const h=o(d.nextEl),f=o(d.prevEl);h&&h.length>0&&h.on("click",c),f&&f.length>0&&f.on("click",l),Object.assign(e.navigation,{$nextEl:h,nextEl:h&&h[0],$prevEl:f,prevEl:f&&f[0]}),e.enabled||(h&&h.addClass(d.lockClass),f&&f.addClass(d.lockClass))}function p(){const{$nextEl:d,$prevEl:h}=e.navigation;d&&d.length&&(d.off("click",c),d.removeClass(e.params.navigation.disabledClass)),h&&h.length&&(h.off("click",l),h.removeClass(e.params.navigation.disabledClass))}n("init",()=>{u(),s()}),n("toEdge fromEdge lock unlock",()=>{s()}),n("destroy",()=>{p()}),n("enable disable",()=>{const{$nextEl:d,$prevEl:h}=e.navigation;d&&d[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass),h&&h[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass)}),n("click",(d,h)=>{const{$nextEl:f,$prevEl:g}=e.navigation,m=h.target;if(e.params.navigation.hideOnClick&&!te(m).is(g)&&!te(m).is(f)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===m||e.pagination.el.contains(m)))return;let b;f?b=f.hasClass(e.params.navigation.hiddenClass):g&&(b=g.hasClass(e.params.navigation.hiddenClass)),i(b===!0?"navigationShow":"navigationHide"),f&&f.toggleClass(e.params.navigation.hiddenClass),g&&g.toggleClass(e.params.navigation.hiddenClass)}}),Object.assign(e.navigation,{update:s,init:u,destroy:p})}function Ni(r){return r===void 0&&(r=""),`.${r.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function E5(r){let{swiper:e,extendParams:t,on:n,emit:i}=r;const o="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:f=>f,formatFractionTotal:f=>f,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`}}),e.pagination={el:null,$el:null,bullets:[]};let a,s=0;function l(){return!e.params.pagination.el||!e.pagination.el||!e.pagination.$el||e.pagination.$el.length===0}function c(f,g){const{bulletActiveClass:m}=e.params.pagination;f[g]().addClass(`${m}-${g}`)[g]().addClass(`${m}-${g}-${g}`)}function u(){const f=e.rtl,g=e.params.pagination;if(l())return;const m=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,b=e.pagination.$el;let v;const C=e.params.loop?Math.ceil((m-e.loopedSlides*2)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(v=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup),v>m-1-e.loopedSlides*2&&(v-=m-e.loopedSlides*2),v>C-1&&(v-=C),v<0&&e.params.paginationType!=="bullets"&&(v=C+v)):typeof e.snapIndex!="undefined"?v=e.snapIndex:v=e.activeIndex||0,g.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const k=e.pagination.bullets;let _,N,I;if(g.dynamicBullets&&(a=k.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),b.css(e.isHorizontal()?"width":"height",`${a*(g.dynamicMainBullets+4)}px`),g.dynamicMainBullets>1&&e.previousIndex!==void 0&&(s+=v-(e.previousIndex-e.loopedSlides||0),s>g.dynamicMainBullets-1?s=g.dynamicMainBullets-1:s<0&&(s=0)),_=Math.max(v-s,0),N=_+(Math.min(k.length,g.dynamicMainBullets)-1),I=(N+_)/2),k.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(L=>`${g.bulletActiveClass}${L}`).join(" ")),b.length>1)k.each(L=>{const q=te(L),A=q.index();A===v&&q.addClass(g.bulletActiveClass),g.dynamicBullets&&(A>=_&&A<=N&&q.addClass(`${g.bulletActiveClass}-main`),A===_&&c(q,"prev"),A===N&&c(q,"next"))});else{const L=k.eq(v),q=L.index();if(L.addClass(g.bulletActiveClass),g.dynamicBullets){const A=k.eq(_),z=k.eq(N);for(let H=_;H<=N;H+=1)k.eq(H).addClass(`${g.bulletActiveClass}-main`);if(e.params.loop)if(q>=k.length){for(let H=g.dynamicMainBullets;H>=0;H-=1)k.eq(k.length-H).addClass(`${g.bulletActiveClass}-main`);k.eq(k.length-g.dynamicMainBullets-1).addClass(`${g.bulletActiveClass}-prev`)}else c(A,"prev"),c(z,"next");else c(A,"prev"),c(z,"next")}}if(g.dynamicBullets){const L=Math.min(k.length,g.dynamicMainBullets+4),q=(a*L-a)/2-I*a,A=f?"right":"left";k.css(e.isHorizontal()?A:"top",`${q}px`)}}if(g.type==="fraction"&&(b.find(Ni(g.currentClass)).text(g.formatFractionCurrent(v+1)),b.find(Ni(g.totalClass)).text(g.formatFractionTotal(C))),g.type==="progressbar"){let k;g.progressbarOpposite?k=e.isHorizontal()?"vertical":"horizontal":k=e.isHorizontal()?"horizontal":"vertical";const _=(v+1)/C;let N=1,I=1;k==="horizontal"?N=_:I=_,b.find(Ni(g.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${N}) scaleY(${I})`).transition(e.params.speed)}g.type==="custom"&&g.renderCustom?(b.html(g.renderCustom(e,v+1,C)),i("paginationRender",b[0])):i("paginationUpdate",b[0]),e.params.watchOverflow&&e.enabled&&b[e.isLocked?"addClass":"removeClass"](g.lockClass)}function p(){const f=e.params.pagination;if(l())return;const g=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,m=e.pagination.$el;let b="";if(f.type==="bullets"){let v=e.params.loop?Math.ceil((g-e.loopedSlides*2)/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&!e.params.loop&&v>g&&(v=g);for(let C=0;C<v;C+=1)f.renderBullet?b+=f.renderBullet.call(e,C,f.bulletClass):b+=`<${f.bulletElement} class="${f.bulletClass}"></${f.bulletElement}>`;m.html(b),e.pagination.bullets=m.find(Ni(f.bulletClass))}f.type==="fraction"&&(f.renderFraction?b=f.renderFraction.call(e,f.currentClass,f.totalClass):b=`<span class="${f.currentClass}"></span> / <span class="${f.totalClass}"></span>`,m.html(b)),f.type==="progressbar"&&(f.renderProgressbar?b=f.renderProgressbar.call(e,f.progressbarFillClass):b=`<span class="${f.progressbarFillClass}"></span>`,m.html(b)),f.type!=="custom"&&i("paginationRender",e.pagination.$el[0])}function d(){e.params.pagination=wf(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const f=e.params.pagination;if(!f.el)return;let g=te(f.el);g.length!==0&&(e.params.uniqueNavElements&&typeof f.el=="string"&&g.length>1&&(g=e.$el.find(f.el),g.length>1&&(g=g.filter(m=>te(m).parents(".swiper")[0]===e.el))),f.type==="bullets"&&f.clickable&&g.addClass(f.clickableClass),g.addClass(f.modifierClass+f.type),g.addClass(e.isHorizontal()?f.horizontalClass:f.verticalClass),f.type==="bullets"&&f.dynamicBullets&&(g.addClass(`${f.modifierClass}${f.type}-dynamic`),s=0,f.dynamicMainBullets<1&&(f.dynamicMainBullets=1)),f.type==="progressbar"&&f.progressbarOpposite&&g.addClass(f.progressbarOppositeClass),f.clickable&&g.on("click",Ni(f.bulletClass),function(b){b.preventDefault();let v=te(this).index()*e.params.slidesPerGroup;e.params.loop&&(v+=e.loopedSlides),e.slideTo(v)}),Object.assign(e.pagination,{$el:g,el:g[0]}),e.enabled||g.addClass(f.lockClass))}function h(){const f=e.params.pagination;if(l())return;const g=e.pagination.$el;g.removeClass(f.hiddenClass),g.removeClass(f.modifierClass+f.type),g.removeClass(e.isHorizontal()?f.horizontalClass:f.verticalClass),e.pagination.bullets&&e.pagination.bullets.removeClass&&e.pagination.bullets.removeClass(f.bulletActiveClass),f.clickable&&g.off("click",Ni(f.bulletClass))}n("init",()=>{d(),p(),u()}),n("activeIndexChange",()=>{(e.params.loop||typeof e.snapIndex=="undefined")&&u()}),n("snapIndexChange",()=>{e.params.loop||u()}),n("slidesLengthChange",()=>{e.params.loop&&(p(),u())}),n("snapGridLengthChange",()=>{e.params.loop||(p(),u())}),n("destroy",()=>{h()}),n("enable disable",()=>{const{$el:f}=e.pagination;f&&f[e.enabled?"removeClass":"addClass"](e.params.pagination.lockClass)}),n("lock unlock",()=>{u()}),n("click",(f,g)=>{const m=g.target,{$el:b}=e.pagination;if(e.params.pagination.el&&e.params.pagination.hideOnClick&&b.length>0&&!te(m).hasClass(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&m===e.navigation.nextEl||e.navigation.prevEl&&m===e.navigation.prevEl))return;const v=b.hasClass(e.params.pagination.hiddenClass);i(v===!0?"paginationShow":"paginationHide"),b.toggleClass(e.params.pagination.hiddenClass)}}),Object.assign(e.pagination,{render:p,update:u,init:d,destroy:h})}function D5(r){let{swiper:e,extendParams:t,on:n,emit:i}=r;const o=ar();let a=!1,s=null,l=null,c,u,p,d;t({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}}),e.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null};function h(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:A,rtlTranslate:z,progress:H}=e,{$dragEl:U,$el:ie}=A,ke=e.params.scrollbar;let Se=u,$=(p-u)*H;z?($=-$,$>0?(Se=u-$,$=0):-$+u>p&&(Se=p+$)):$<0?(Se=u+$,$=0):$+u>p&&(Se=p-$),e.isHorizontal()?(U.transform(`translate3d(${$}px, 0, 0)`),U[0].style.width=`${Se}px`):(U.transform(`translate3d(0px, ${$}px, 0)`),U[0].style.height=`${Se}px`),ke.hide&&(clearTimeout(s),ie[0].style.opacity=1,s=setTimeout(()=>{ie[0].style.opacity=0,ie.transition(400)},1e3))}function f(A){!e.params.scrollbar.el||!e.scrollbar.el||e.scrollbar.$dragEl.transition(A)}function g(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:A}=e,{$dragEl:z,$el:H}=A;z[0].style.width="",z[0].style.height="",p=e.isHorizontal()?H[0].offsetWidth:H[0].offsetHeight,d=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?u=p*d:u=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?z[0].style.width=`${u}px`:z[0].style.height=`${u}px`,d>=1?H[0].style.display="none":H[0].style.display="",e.params.scrollbar.hide&&(H[0].style.opacity=0),e.params.watchOverflow&&e.enabled&&A.$el[e.isLocked?"addClass":"removeClass"](e.params.scrollbar.lockClass)}function m(A){return e.isHorizontal()?A.type==="touchstart"||A.type==="touchmove"?A.targetTouches[0].clientX:A.clientX:A.type==="touchstart"||A.type==="touchmove"?A.targetTouches[0].clientY:A.clientY}function b(A){const{scrollbar:z,rtlTranslate:H}=e,{$el:U}=z;let ie;ie=(m(A)-U.offset()[e.isHorizontal()?"left":"top"]-(c!==null?c:u/2))/(p-u),ie=Math.max(Math.min(ie,1),0),H&&(ie=1-ie);const ke=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*ie;e.updateProgress(ke),e.setTranslate(ke),e.updateActiveIndex(),e.updateSlidesClasses()}function v(A){const z=e.params.scrollbar,{scrollbar:H,$wrapperEl:U}=e,{$el:ie,$dragEl:ke}=H;a=!0,c=A.target===ke[0]||A.target===ke?m(A)-A.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,A.preventDefault(),A.stopPropagation(),U.transition(100),ke.transition(100),b(A),clearTimeout(l),ie.transition(0),z.hide&&ie.css("opacity",1),e.params.cssMode&&e.$wrapperEl.css("scroll-snap-type","none"),i("scrollbarDragStart",A)}function C(A){const{scrollbar:z,$wrapperEl:H}=e,{$el:U,$dragEl:ie}=z;!a||(A.preventDefault?A.preventDefault():A.returnValue=!1,b(A),H.transition(0),U.transition(0),ie.transition(0),i("scrollbarDragMove",A))}function k(A){const z=e.params.scrollbar,{scrollbar:H,$wrapperEl:U}=e,{$el:ie}=H;!a||(a=!1,e.params.cssMode&&(e.$wrapperEl.css("scroll-snap-type",""),U.transition("")),z.hide&&(clearTimeout(l),l=to(()=>{ie.css("opacity",0),ie.transition(400)},1e3)),i("scrollbarDragEnd",A),z.snapOnRelease&&e.slideToClosest())}function _(A){const{scrollbar:z,touchEventsTouch:H,touchEventsDesktop:U,params:ie,support:ke}=e,$=z.$el[0],ne=ke.passiveListener&&ie.passiveListeners?{passive:!1,capture:!1}:!1,ue=ke.passiveListener&&ie.passiveListeners?{passive:!0,capture:!1}:!1;if(!$)return;const Ee=A==="on"?"addEventListener":"removeEventListener";ke.touch?($[Ee](H.start,v,ne),$[Ee](H.move,C,ne),$[Ee](H.end,k,ue)):($[Ee](U.start,v,ne),o[Ee](U.move,C,ne),o[Ee](U.end,k,ue))}function N(){!e.params.scrollbar.el||_("on")}function I(){!e.params.scrollbar.el||_("off")}function L(){const{scrollbar:A,$el:z}=e;e.params.scrollbar=wf(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const H=e.params.scrollbar;if(!H.el)return;let U=te(H.el);e.params.uniqueNavElements&&typeof H.el=="string"&&U.length>1&&z.find(H.el).length===1&&(U=z.find(H.el));let ie=U.find(`.${e.params.scrollbar.dragClass}`);ie.length===0&&(ie=te(`<div class="${e.params.scrollbar.dragClass}"></div>`),U.append(ie)),Object.assign(A,{$el:U,el:U[0],$dragEl:ie,dragEl:ie[0]}),H.draggable&&N(),U&&U[e.enabled?"removeClass":"addClass"](e.params.scrollbar.lockClass)}function q(){I()}n("init",()=>{L(),g(),h()}),n("update resize observerUpdate lock unlock",()=>{g()}),n("setTranslate",()=>{h()}),n("setTransition",(A,z)=>{f(z)}),n("enable disable",()=>{const{$el:A}=e.scrollbar;A&&A[e.enabled?"removeClass":"addClass"](e.params.scrollbar.lockClass)}),n("destroy",()=>{q()}),Object.assign(e.scrollbar,{updateSize:g,setTranslate:h,init:L,destroy:q})}function A5(r){let{swiper:e,extendParams:t,on:n}=r;t({parallax:{enabled:!1}});const i=(s,l)=>{const{rtl:c}=e,u=te(s),p=c?-1:1,d=u.attr("data-swiper-parallax")||"0";let h=u.attr("data-swiper-parallax-x"),f=u.attr("data-swiper-parallax-y");const g=u.attr("data-swiper-parallax-scale"),m=u.attr("data-swiper-parallax-opacity");if(h||f?(h=h||"0",f=f||"0"):e.isHorizontal()?(h=d,f="0"):(f=d,h="0"),h.indexOf("%")>=0?h=`${parseInt(h,10)*l*p}%`:h=`${h*l*p}px`,f.indexOf("%")>=0?f=`${parseInt(f,10)*l}%`:f=`${f*l}px`,typeof m!="undefined"&&m!==null){const b=m-(m-1)*(1-Math.abs(l));u[0].style.opacity=b}if(typeof g=="undefined"||g===null)u.transform(`translate3d(${h}, ${f}, 0px)`);else{const b=g-(g-1)*(1-Math.abs(l));u.transform(`translate3d(${h}, ${f}, 0px) scale(${b})`)}},o=()=>{const{$el:s,slides:l,progress:c,snapGrid:u}=e;s.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(p=>{i(p,c)}),l.each((p,d)=>{let h=p.progress;e.params.slidesPerGroup>1&&e.params.slidesPerView!=="auto"&&(h+=Math.ceil(d/2)-c*(u.length-1)),h=Math.min(Math.max(h,-1),1),te(p).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(f=>{i(f,h)})})},a=function(s){s===void 0&&(s=e.params.speed);const{$el:l}=e;l.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(c=>{const u=te(c);let p=parseInt(u.attr("data-swiper-parallax-duration"),10)||s;s===0&&(p=0),u.transition(p)})};n("beforeInit",()=>{!e.params.parallax.enabled||(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)}),n("init",()=>{!e.params.parallax.enabled||o()}),n("setTranslate",()=>{!e.params.parallax.enabled||o()}),n("setTransition",(s,l)=>{!e.params.parallax.enabled||a(l)})}function T5(r){let{swiper:e,extendParams:t,on:n,emit:i}=r;const o=Nt();t({zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};let a=1,s=!1,l,c,u;const p={$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},d={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},h={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let f=1;Object.defineProperty(e.zoom,"scale",{get(){return f},set($){if(f!==$){const ne=p.$imageEl?p.$imageEl[0]:void 0,ue=p.$slideEl?p.$slideEl[0]:void 0;i("zoomChange",$,ne,ue)}f=$}});function g($){if($.targetTouches.length<2)return 1;const ne=$.targetTouches[0].pageX,ue=$.targetTouches[0].pageY,Ee=$.targetTouches[1].pageX,He=$.targetTouches[1].pageY;return Math.sqrt((Ee-ne)**2+(He-ue)**2)}function m($){const ne=e.support,ue=e.params.zoom;if(c=!1,u=!1,!ne.gestures){if($.type!=="touchstart"||$.type==="touchstart"&&$.targetTouches.length<2)return;c=!0,p.scaleStart=g($)}if((!p.$slideEl||!p.$slideEl.length)&&(p.$slideEl=te($.target).closest(`.${e.params.slideClass}`),p.$slideEl.length===0&&(p.$slideEl=e.slides.eq(e.activeIndex)),p.$imageEl=p.$slideEl.find(`.${ue.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),p.$imageWrapEl=p.$imageEl.parent(`.${ue.containerClass}`),p.maxRatio=p.$imageWrapEl.attr("data-swiper-zoom")||ue.maxRatio,p.$imageWrapEl.length===0)){p.$imageEl=void 0;return}p.$imageEl&&p.$imageEl.transition(0),s=!0}function b($){const ne=e.support,ue=e.params.zoom,Ee=e.zoom;if(!ne.gestures){if($.type!=="touchmove"||$.type==="touchmove"&&$.targetTouches.length<2)return;u=!0,p.scaleMove=g($)}if(!p.$imageEl||p.$imageEl.length===0){$.type==="gesturechange"&&m($);return}ne.gestures?Ee.scale=$.scale*a:Ee.scale=p.scaleMove/p.scaleStart*a,Ee.scale>p.maxRatio&&(Ee.scale=p.maxRatio-1+(Ee.scale-p.maxRatio+1)**.5),Ee.scale<ue.minRatio&&(Ee.scale=ue.minRatio+1-(ue.minRatio-Ee.scale+1)**.5),p.$imageEl.transform(`translate3d(0,0,0) scale(${Ee.scale})`)}function v($){const ne=e.device,ue=e.support,Ee=e.params.zoom,He=e.zoom;if(!ue.gestures){if(!c||!u||$.type!=="touchend"||$.type==="touchend"&&$.changedTouches.length<2&&!ne.android)return;c=!1,u=!1}!p.$imageEl||p.$imageEl.length===0||(He.scale=Math.max(Math.min(He.scale,p.maxRatio),Ee.minRatio),p.$imageEl.transition(e.params.speed).transform(`translate3d(0,0,0) scale(${He.scale})`),a=He.scale,s=!1,He.scale===1&&(p.$slideEl=void 0))}function C($){const ne=e.device;!p.$imageEl||p.$imageEl.length===0||d.isTouched||(ne.android&&$.cancelable&&$.preventDefault(),d.isTouched=!0,d.touchesStart.x=$.type==="touchstart"?$.targetTouches[0].pageX:$.pageX,d.touchesStart.y=$.type==="touchstart"?$.targetTouches[0].pageY:$.pageY)}function k($){const ne=e.zoom;if(!p.$imageEl||p.$imageEl.length===0||(e.allowClick=!1,!d.isTouched||!p.$slideEl))return;d.isMoved||(d.width=p.$imageEl[0].offsetWidth,d.height=p.$imageEl[0].offsetHeight,d.startX=Yp(p.$imageWrapEl[0],"x")||0,d.startY=Yp(p.$imageWrapEl[0],"y")||0,p.slideWidth=p.$slideEl[0].offsetWidth,p.slideHeight=p.$slideEl[0].offsetHeight,p.$imageWrapEl.transition(0));const ue=d.width*ne.scale,Ee=d.height*ne.scale;if(!(ue<p.slideWidth&&Ee<p.slideHeight)){if(d.minX=Math.min(p.slideWidth/2-ue/2,0),d.maxX=-d.minX,d.minY=Math.min(p.slideHeight/2-Ee/2,0),d.maxY=-d.minY,d.touchesCurrent.x=$.type==="touchmove"?$.targetTouches[0].pageX:$.pageX,d.touchesCurrent.y=$.type==="touchmove"?$.targetTouches[0].pageY:$.pageY,!d.isMoved&&!s){if(e.isHorizontal()&&(Math.floor(d.minX)===Math.floor(d.startX)&&d.touchesCurrent.x<d.touchesStart.x||Math.floor(d.maxX)===Math.floor(d.startX)&&d.touchesCurrent.x>d.touchesStart.x)){d.isTouched=!1;return}if(!e.isHorizontal()&&(Math.floor(d.minY)===Math.floor(d.startY)&&d.touchesCurrent.y<d.touchesStart.y||Math.floor(d.maxY)===Math.floor(d.startY)&&d.touchesCurrent.y>d.touchesStart.y)){d.isTouched=!1;return}}$.cancelable&&$.preventDefault(),$.stopPropagation(),d.isMoved=!0,d.currentX=d.touchesCurrent.x-d.touchesStart.x+d.startX,d.currentY=d.touchesCurrent.y-d.touchesStart.y+d.startY,d.currentX<d.minX&&(d.currentX=d.minX+1-(d.minX-d.currentX+1)**.8),d.currentX>d.maxX&&(d.currentX=d.maxX-1+(d.currentX-d.maxX+1)**.8),d.currentY<d.minY&&(d.currentY=d.minY+1-(d.minY-d.currentY+1)**.8),d.currentY>d.maxY&&(d.currentY=d.maxY-1+(d.currentY-d.maxY+1)**.8),h.prevPositionX||(h.prevPositionX=d.touchesCurrent.x),h.prevPositionY||(h.prevPositionY=d.touchesCurrent.y),h.prevTime||(h.prevTime=Date.now()),h.x=(d.touchesCurrent.x-h.prevPositionX)/(Date.now()-h.prevTime)/2,h.y=(d.touchesCurrent.y-h.prevPositionY)/(Date.now()-h.prevTime)/2,Math.abs(d.touchesCurrent.x-h.prevPositionX)<2&&(h.x=0),Math.abs(d.touchesCurrent.y-h.prevPositionY)<2&&(h.y=0),h.prevPositionX=d.touchesCurrent.x,h.prevPositionY=d.touchesCurrent.y,h.prevTime=Date.now(),p.$imageWrapEl.transform(`translate3d(${d.currentX}px, ${d.currentY}px,0)`)}}function _(){const $=e.zoom;if(!p.$imageEl||p.$imageEl.length===0)return;if(!d.isTouched||!d.isMoved){d.isTouched=!1,d.isMoved=!1;return}d.isTouched=!1,d.isMoved=!1;let ne=300,ue=300;const Ee=h.x*ne,He=d.currentX+Ee,mr=h.y*ue,xn=d.currentY+mr;h.x!==0&&(ne=Math.abs((He-d.currentX)/h.x)),h.y!==0&&(ue=Math.abs((xn-d.currentY)/h.y));const kn=Math.max(ne,ue);d.currentX=He,d.currentY=xn;const Ar=d.width*$.scale,ut=d.height*$.scale;d.minX=Math.min(p.slideWidth/2-Ar/2,0),d.maxX=-d.minX,d.minY=Math.min(p.slideHeight/2-ut/2,0),d.maxY=-d.minY,d.currentX=Math.max(Math.min(d.currentX,d.maxX),d.minX),d.currentY=Math.max(Math.min(d.currentY,d.maxY),d.minY),p.$imageWrapEl.transition(kn).transform(`translate3d(${d.currentX}px, ${d.currentY}px,0)`)}function N(){const $=e.zoom;p.$slideEl&&e.previousIndex!==e.activeIndex&&(p.$imageEl&&p.$imageEl.transform("translate3d(0,0,0) scale(1)"),p.$imageWrapEl&&p.$imageWrapEl.transform("translate3d(0,0,0)"),$.scale=1,a=1,p.$slideEl=void 0,p.$imageEl=void 0,p.$imageWrapEl=void 0)}function I($){const ne=e.zoom,ue=e.params.zoom;if(p.$slideEl||($&&$.target&&(p.$slideEl=te($.target).closest(`.${e.params.slideClass}`)),p.$slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?p.$slideEl=e.$wrapperEl.children(`.${e.params.slideActiveClass}`):p.$slideEl=e.slides.eq(e.activeIndex)),p.$imageEl=p.$slideEl.find(`.${ue.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),p.$imageWrapEl=p.$imageEl.parent(`.${ue.containerClass}`)),!p.$imageEl||p.$imageEl.length===0||!p.$imageWrapEl||p.$imageWrapEl.length===0)return;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),p.$slideEl.addClass(`${ue.zoomedSlideClass}`);let Ee,He,mr,xn,kn,Ar,ut,pr,Br,un,Kt,Cn,Mt,Tr,vr,vt,Rt,re;typeof d.touchesStart.x=="undefined"&&$?(Ee=$.type==="touchend"?$.changedTouches[0].pageX:$.pageX,He=$.type==="touchend"?$.changedTouches[0].pageY:$.pageY):(Ee=d.touchesStart.x,He=d.touchesStart.y),ne.scale=p.$imageWrapEl.attr("data-swiper-zoom")||ue.maxRatio,a=p.$imageWrapEl.attr("data-swiper-zoom")||ue.maxRatio,$?(Rt=p.$slideEl[0].offsetWidth,re=p.$slideEl[0].offsetHeight,mr=p.$slideEl.offset().left+o.scrollX,xn=p.$slideEl.offset().top+o.scrollY,kn=mr+Rt/2-Ee,Ar=xn+re/2-He,Br=p.$imageEl[0].offsetWidth,un=p.$imageEl[0].offsetHeight,Kt=Br*ne.scale,Cn=un*ne.scale,Mt=Math.min(Rt/2-Kt/2,0),Tr=Math.min(re/2-Cn/2,0),vr=-Mt,vt=-Tr,ut=kn*ne.scale,pr=Ar*ne.scale,ut<Mt&&(ut=Mt),ut>vr&&(ut=vr),pr<Tr&&(pr=Tr),pr>vt&&(pr=vt)):(ut=0,pr=0),p.$imageWrapEl.transition(300).transform(`translate3d(${ut}px, ${pr}px,0)`),p.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${ne.scale})`)}function L(){const $=e.zoom,ne=e.params.zoom;p.$slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?p.$slideEl=e.$wrapperEl.children(`.${e.params.slideActiveClass}`):p.$slideEl=e.slides.eq(e.activeIndex),p.$imageEl=p.$slideEl.find(`.${ne.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),p.$imageWrapEl=p.$imageEl.parent(`.${ne.containerClass}`)),!(!p.$imageEl||p.$imageEl.length===0||!p.$imageWrapEl||p.$imageWrapEl.length===0)&&(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),$.scale=1,a=1,p.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),p.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),p.$slideEl.removeClass(`${ne.zoomedSlideClass}`),p.$slideEl=void 0)}function q($){const ne=e.zoom;ne.scale&&ne.scale!==1?L():I($)}function A(){const $=e.support,ne=e.touchEvents.start==="touchstart"&&$.passiveListener&&e.params.passiveListeners?{passive:!0,capture:!1}:!1,ue=$.passiveListener?{passive:!1,capture:!0}:!0;return{passiveListener:ne,activeListenerWithCapture:ue}}function z(){return`.${e.params.slideClass}`}function H($){const{passiveListener:ne}=A(),ue=z();e.$wrapperEl[$]("gesturestart",ue,m,ne),e.$wrapperEl[$]("gesturechange",ue,b,ne),e.$wrapperEl[$]("gestureend",ue,v,ne)}function U(){l||(l=!0,H("on"))}function ie(){!l||(l=!1,H("off"))}function ke(){const $=e.zoom;if($.enabled)return;$.enabled=!0;const ne=e.support,{passiveListener:ue,activeListenerWithCapture:Ee}=A(),He=z();ne.gestures?(e.$wrapperEl.on(e.touchEvents.start,U,ue),e.$wrapperEl.on(e.touchEvents.end,ie,ue)):e.touchEvents.start==="touchstart"&&(e.$wrapperEl.on(e.touchEvents.start,He,m,ue),e.$wrapperEl.on(e.touchEvents.move,He,b,Ee),e.$wrapperEl.on(e.touchEvents.end,He,v,ue),e.touchEvents.cancel&&e.$wrapperEl.on(e.touchEvents.cancel,He,v,ue)),e.$wrapperEl.on(e.touchEvents.move,`.${e.params.zoom.containerClass}`,k,Ee)}function Se(){const $=e.zoom;if(!$.enabled)return;const ne=e.support;$.enabled=!1;const{passiveListener:ue,activeListenerWithCapture:Ee}=A(),He=z();ne.gestures?(e.$wrapperEl.off(e.touchEvents.start,U,ue),e.$wrapperEl.off(e.touchEvents.end,ie,ue)):e.touchEvents.start==="touchstart"&&(e.$wrapperEl.off(e.touchEvents.start,He,m,ue),e.$wrapperEl.off(e.touchEvents.move,He,b,Ee),e.$wrapperEl.off(e.touchEvents.end,He,v,ue),e.touchEvents.cancel&&e.$wrapperEl.off(e.touchEvents.cancel,He,v,ue)),e.$wrapperEl.off(e.touchEvents.move,`.${e.params.zoom.containerClass}`,k,Ee)}n("init",()=>{e.params.zoom.enabled&&ke()}),n("destroy",()=>{Se()}),n("touchStart",($,ne)=>{!e.zoom.enabled||C(ne)}),n("touchEnd",($,ne)=>{!e.zoom.enabled||_()}),n("doubleTap",($,ne)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&q(ne)}),n("transitionEnd",()=>{e.zoom.enabled&&e.params.zoom.enabled&&N()}),n("slideChange",()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&N()}),Object.assign(e.zoom,{enable:ke,disable:Se,in:I,out:L,toggle:q})}function M5(r){let{swiper:e,extendParams:t,on:n,emit:i}=r;t({lazy:{checkInView:!1,enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,scrollingElement:"",elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}}),e.lazy={};let o=!1,a=!1;function s(u,p){p===void 0&&(p=!0);const d=e.params.lazy;if(typeof u=="undefined"||e.slides.length===0)return;const f=e.virtual&&e.params.virtual.enabled?e.$wrapperEl.children(`.${e.params.slideClass}[data-swiper-slide-index="${u}"]`):e.slides.eq(u),g=f.find(`.${d.elementClass}:not(.${d.loadedClass}):not(.${d.loadingClass})`);f.hasClass(d.elementClass)&&!f.hasClass(d.loadedClass)&&!f.hasClass(d.loadingClass)&&g.push(f[0]),g.length!==0&&g.each(m=>{const b=te(m);b.addClass(d.loadingClass);const v=b.attr("data-background"),C=b.attr("data-src"),k=b.attr("data-srcset"),_=b.attr("data-sizes"),N=b.parent("picture");e.loadImage(b[0],C||v,k,_,!1,()=>{if(!(typeof e=="undefined"||e===null||!e||e&&!e.params||e.destroyed)){if(v?(b.css("background-image",`url("${v}")`),b.removeAttr("data-background")):(k&&(b.attr("srcset",k),b.removeAttr("data-srcset")),_&&(b.attr("sizes",_),b.removeAttr("data-sizes")),N.length&&N.children("source").each(I=>{const L=te(I);L.attr("data-srcset")&&(L.attr("srcset",L.attr("data-srcset")),L.removeAttr("data-srcset"))}),C&&(b.attr("src",C),b.removeAttr("data-src"))),b.addClass(d.loadedClass).removeClass(d.loadingClass),f.find(`.${d.preloaderClass}`).remove(),e.params.loop&&p){const I=f.attr("data-swiper-slide-index");if(f.hasClass(e.params.slideDuplicateClass)){const L=e.$wrapperEl.children(`[data-swiper-slide-index="${I}"]:not(.${e.params.slideDuplicateClass})`);s(L.index(),!1)}else{const L=e.$wrapperEl.children(`.${e.params.slideDuplicateClass}[data-swiper-slide-index="${I}"]`);s(L.index(),!1)}}i("lazyImageReady",f[0],b[0]),e.params.autoHeight&&e.updateAutoHeight()}}),i("lazyImageLoad",f[0],b[0])})}function l(){const{$wrapperEl:u,params:p,slides:d,activeIndex:h}=e,f=e.virtual&&p.virtual.enabled,g=p.lazy;let m=p.slidesPerView;m==="auto"&&(m=0);function b(C){if(f){if(u.children(`.${p.slideClass}[data-swiper-slide-index="${C}"]`).length)return!0}else if(d[C])return!0;return!1}function v(C){return f?te(C).attr("data-swiper-slide-index"):te(C).index()}if(a||(a=!0),e.params.watchSlidesProgress)u.children(`.${p.slideVisibleClass}`).each(C=>{const k=f?te(C).attr("data-swiper-slide-index"):te(C).index();s(k)});else if(m>1)for(let C=h;C<h+m;C+=1)b(C)&&s(C);else s(h);if(g.loadPrevNext)if(m>1||g.loadPrevNextAmount&&g.loadPrevNextAmount>1){const C=g.loadPrevNextAmount,k=m,_=Math.min(h+k+Math.max(C,k),d.length),N=Math.max(h-Math.max(k,C),0);for(let I=h+m;I<_;I+=1)b(I)&&s(I);for(let I=N;I<h;I+=1)b(I)&&s(I)}else{const C=u.children(`.${p.slideNextClass}`);C.length>0&&s(v(C));const k=u.children(`.${p.slidePrevClass}`);k.length>0&&s(v(k))}}function c(){const u=Nt();if(!e||e.destroyed)return;const p=e.params.lazy.scrollingElement?te(e.params.lazy.scrollingElement):te(u),d=p[0]===u,h=d?u.innerWidth:p[0].offsetWidth,f=d?u.innerHeight:p[0].offsetHeight,g=e.$el.offset(),{rtlTranslate:m}=e;let b=!1;m&&(g.left-=e.$el[0].scrollLeft);const v=[[g.left,g.top],[g.left+e.width,g.top],[g.left,g.top+e.height],[g.left+e.width,g.top+e.height]];for(let k=0;k<v.length;k+=1){const _=v[k];if(_[0]>=0&&_[0]<=h&&_[1]>=0&&_[1]<=f){if(_[0]===0&&_[1]===0)continue;b=!0}}const C=e.touchEvents.start==="touchstart"&&e.support.passiveListener&&e.params.passiveListeners?{passive:!0,capture:!1}:!1;b?(l(),p.off("scroll",c,C)):o||(o=!0,p.on("scroll",c,C))}n("beforeInit",()=>{e.params.lazy.enabled&&e.params.preloadImages&&(e.params.preloadImages=!1)}),n("init",()=>{e.params.lazy.enabled&&(e.params.lazy.checkInView?c():l())}),n("scroll",()=>{e.params.freeMode&&e.params.freeMode.enabled&&!e.params.freeMode.sticky&&l()}),n("scrollbarDragMove resize _freeModeNoMomentumRelease",()=>{e.params.lazy.enabled&&(e.params.lazy.checkInView?c():l())}),n("transitionStart",()=>{e.params.lazy.enabled&&(e.params.lazy.loadOnTransitionStart||!e.params.lazy.loadOnTransitionStart&&!a)&&(e.params.lazy.checkInView?c():l())}),n("transitionEnd",()=>{e.params.lazy.enabled&&!e.params.lazy.loadOnTransitionStart&&(e.params.lazy.checkInView?c():l())}),n("slideChange",()=>{const{lazy:u,cssMode:p,watchSlidesProgress:d,touchReleaseOnEdges:h,resistanceRatio:f}=e.params;u.enabled&&(p||d&&(h||f===0))&&l()}),Object.assign(e.lazy,{load:l,loadInSlide:s})}function O5(r){let{swiper:e,extendParams:t,on:n}=r;t({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0};function i(c,u){const p=function(){let g,m,b;return(v,C)=>{for(m=-1,g=v.length;g-m>1;)b=g+m>>1,v[b]<=C?m=b:g=b;return g}}();this.x=c,this.y=u,this.lastIndex=c.length-1;let d,h;return this.interpolate=function(g){return g?(h=p(this.x,g),d=h-1,(g-this.x[d])*(this.y[h]-this.y[d])/(this.x[h]-this.x[d])+this.y[d]):0},this}function o(c){e.controller.spline||(e.controller.spline=e.params.loop?new i(e.slidesGrid,c.slidesGrid):new i(e.snapGrid,c.snapGrid))}function a(c,u){const p=e.controller.control;let d,h;const f=e.constructor;function g(m){const b=e.rtlTranslate?-e.translate:e.translate;e.params.controller.by==="slide"&&(o(m),h=-e.controller.spline.interpolate(-b)),(!h||e.params.controller.by==="container")&&(d=(m.maxTranslate()-m.minTranslate())/(e.maxTranslate()-e.minTranslate()),h=(b-e.minTranslate())*d+m.minTranslate()),e.params.controller.inverse&&(h=m.maxTranslate()-h),m.updateProgress(h),m.setTranslate(h,e),m.updateActiveIndex(),m.updateSlidesClasses()}if(Array.isArray(p))for(let m=0;m<p.length;m+=1)p[m]!==u&&p[m]instanceof f&&g(p[m]);else p instanceof f&&u!==p&&g(p)}function s(c,u){const p=e.constructor,d=e.controller.control;let h;function f(g){g.setTransition(c,e),c!==0&&(g.transitionStart(),g.params.autoHeight&&to(()=>{g.updateAutoHeight()}),g.$wrapperEl.transitionEnd(()=>{!d||(g.params.loop&&e.params.controller.by==="slide"&&g.loopFix(),g.transitionEnd())}))}if(Array.isArray(d))for(h=0;h<d.length;h+=1)d[h]!==u&&d[h]instanceof p&&f(d[h]);else d instanceof p&&u!==d&&f(d)}function l(){!e.controller.control||e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}n("beforeInit",()=>{e.controller.control=e.params.controller.control}),n("update",()=>{l()}),n("resize",()=>{l()}),n("observerUpdate",()=>{l()}),n("setTranslate",(c,u,p)=>{!e.controller.control||e.controller.setTranslate(u,p)}),n("setTransition",(c,u,p)=>{!e.controller.control||e.controller.setTransition(u,p)}),Object.assign(e.controller,{setTranslate:a,setTransition:s})}function _5(r){let{swiper:e,extendParams:t,on:n}=r;t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}});let i=null;function o(A){const z=i;z.length!==0&&(z.html(""),z.html(A))}function a(A){A===void 0&&(A=16);const z=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(A).replace(/x/g,z)}function s(A){A.attr("tabIndex","0")}function l(A){A.attr("tabIndex","-1")}function c(A,z){A.attr("role",z)}function u(A,z){A.attr("aria-roledescription",z)}function p(A,z){A.attr("aria-controls",z)}function d(A,z){A.attr("aria-label",z)}function h(A,z){A.attr("id",z)}function f(A,z){A.attr("aria-live",z)}function g(A){A.attr("aria-disabled",!0)}function m(A){A.attr("aria-disabled",!1)}function b(A){if(A.keyCode!==13&&A.keyCode!==32)return;const z=e.params.a11y,H=te(A.target);e.navigation&&e.navigation.$nextEl&&H.is(e.navigation.$nextEl)&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?o(z.lastSlideMessage):o(z.nextSlideMessage)),e.navigation&&e.navigation.$prevEl&&H.is(e.navigation.$prevEl)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?o(z.firstSlideMessage):o(z.prevSlideMessage)),e.pagination&&H.is(Ni(e.params.pagination.bulletClass))&&H[0].click()}function v(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{$nextEl:A,$prevEl:z}=e.navigation;z&&z.length>0&&(e.isBeginning?(g(z),l(z)):(m(z),s(z))),A&&A.length>0&&(e.isEnd?(g(A),l(A)):(m(A),s(A)))}function C(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function k(){return C()&&e.params.pagination.clickable}function _(){const A=e.params.a11y;!C()||e.pagination.bullets.each(z=>{const H=te(z);e.params.pagination.clickable&&(s(H),e.params.pagination.renderBullet||(c(H,"button"),d(H,A.paginationBulletMessage.replace(/\{\{index\}\}/,H.index()+1)))),H.is(`.${e.params.pagination.bulletActiveClass}`)?H.attr("aria-current","true"):H.removeAttr("aria-current")})}const N=(A,z,H)=>{s(A),A[0].tagName!=="BUTTON"&&(c(A,"button"),A.on("keydown",b)),d(A,H),p(A,z)},I=A=>{const z=A.target.closest(`.${e.params.slideClass}`);if(!z||!e.slides.includes(z))return;const H=e.slides.indexOf(z)===e.activeIndex,U=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(z);H||U||e.slideTo(e.slides.indexOf(z),0)};function L(){const A=e.params.a11y;e.$el.append(i);const z=e.$el;A.containerRoleDescriptionMessage&&u(z,A.containerRoleDescriptionMessage),A.containerMessage&&d(z,A.containerMessage);const H=e.$wrapperEl,U=A.id||H.attr("id")||`swiper-wrapper-${a(16)}`,ie=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";h(H,U),f(H,ie),A.itemRoleDescriptionMessage&&u(te(e.slides),A.itemRoleDescriptionMessage),c(te(e.slides),A.slideRole);const ke=e.params.loop?e.slides.filter(ne=>!ne.classList.contains(e.params.slideDuplicateClass)).length:e.slides.length;e.slides.each((ne,ue)=>{const Ee=te(ne),He=e.params.loop?parseInt(Ee.attr("data-swiper-slide-index"),10):ue,mr=A.slideLabelMessage.replace(/\{\{index\}\}/,He+1).replace(/\{\{slidesLength\}\}/,ke);d(Ee,mr)});let Se,$;e.navigation&&e.navigation.$nextEl&&(Se=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&($=e.navigation.$prevEl),Se&&Se.length&&N(Se,U,A.nextSlideMessage),$&&$.length&&N($,U,A.prevSlideMessage),k()&&e.pagination.$el.on("keydown",Ni(e.params.pagination.bulletClass),b),e.$el.on("focus",I,!0)}function q(){i&&i.length>0&&i.remove();let A,z;e.navigation&&e.navigation.$nextEl&&(A=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(z=e.navigation.$prevEl),A&&A.off("keydown",b),z&&z.off("keydown",b),k()&&e.pagination.$el.off("keydown",Ni(e.params.pagination.bulletClass),b),e.$el.off("focus",I,!0)}n("beforeInit",()=>{i=te(`<span class="${e.params.a11y.notificationClass}" aria-live="assertive" aria-atomic="true"></span>`)}),n("afterInit",()=>{!e.params.a11y.enabled||L()}),n("fromEdge toEdge afterInit lock unlock",()=>{!e.params.a11y.enabled||v()}),n("paginationUpdate",()=>{!e.params.a11y.enabled||_()}),n("destroy",()=>{!e.params.a11y.enabled||q()})}function N5(r){let{swiper:e,extendParams:t,on:n}=r;t({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let i=!1,o={};const a=h=>h.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),s=h=>{const f=Nt();let g;h?g=new URL(h):g=f.location;const m=g.pathname.slice(1).split("/").filter(k=>k!==""),b=m.length,v=m[b-2],C=m[b-1];return{key:v,value:C}},l=(h,f)=>{const g=Nt();if(!i||!e.params.history.enabled)return;let m;e.params.url?m=new URL(e.params.url):m=g.location;const b=e.slides.eq(f);let v=a(b.attr("data-history"));if(e.params.history.root.length>0){let k=e.params.history.root;k[k.length-1]==="/"&&(k=k.slice(0,k.length-1)),v=`${k}/${h}/${v}`}else m.pathname.includes(h)||(v=`${h}/${v}`);e.params.history.keepQuery&&(v+=m.search);const C=g.history.state;C&&C.value===v||(e.params.history.replaceState?g.history.replaceState({value:v},null,v):g.history.pushState({value:v},null,v))},c=(h,f,g)=>{if(f)for(let m=0,b=e.slides.length;m<b;m+=1){const v=e.slides.eq(m);if(a(v.attr("data-history"))===f&&!v.hasClass(e.params.slideDuplicateClass)){const k=v.index();e.slideTo(k,h,g)}}else e.slideTo(0,h,g)},u=()=>{o=s(e.params.url),c(e.params.speed,o.value,!1)},p=()=>{const h=Nt();if(!!e.params.history){if(!h.history||!h.history.pushState){e.params.history.enabled=!1,e.params.hashNavigation.enabled=!0;return}i=!0,o=s(e.params.url),!(!o.key&&!o.value)&&(c(0,o.value,e.params.runCallbacksOnInit),e.params.history.replaceState||h.addEventListener("popstate",u))}},d=()=>{const h=Nt();e.params.history.replaceState||h.removeEventListener("popstate",u)};n("init",()=>{e.params.history.enabled&&p()}),n("destroy",()=>{e.params.history.enabled&&d()}),n("transitionEnd _freeModeNoMomentumRelease",()=>{i&&l(e.params.history.key,e.activeIndex)}),n("slideChange",()=>{i&&e.params.cssMode&&l(e.params.history.key,e.activeIndex)})}function P5(r){let{swiper:e,extendParams:t,emit:n,on:i}=r,o=!1;const a=ar(),s=Nt();t({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}});const l=()=>{n("hashChange");const d=a.location.hash.replace("#",""),h=e.slides.eq(e.activeIndex).attr("data-hash");if(d!==h){const f=e.$wrapperEl.children(`.${e.params.slideClass}[data-hash="${d}"]`).index();if(typeof f=="undefined")return;e.slideTo(f)}},c=()=>{if(!(!o||!e.params.hashNavigation.enabled))if(e.params.hashNavigation.replaceState&&s.history&&s.history.replaceState)s.history.replaceState(null,null,`#${e.slides.eq(e.activeIndex).attr("data-hash")}`||""),n("hashSet");else{const d=e.slides.eq(e.activeIndex),h=d.attr("data-hash")||d.attr("data-history");a.location.hash=h||"",n("hashSet")}},u=()=>{if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;o=!0;const d=a.location.hash.replace("#","");if(d)for(let f=0,g=e.slides.length;f<g;f+=1){const m=e.slides.eq(f);if((m.attr("data-hash")||m.attr("data-history"))===d&&!m.hasClass(e.params.slideDuplicateClass)){const v=m.index();e.slideTo(v,0,e.params.runCallbacksOnInit,!0)}}e.params.hashNavigation.watchState&&te(s).on("hashchange",l)},p=()=>{e.params.hashNavigation.watchState&&te(s).off("hashchange",l)};i("init",()=>{e.params.hashNavigation.enabled&&u()}),i("destroy",()=>{e.params.hashNavigation.enabled&&p()}),i("transitionEnd _freeModeNoMomentumRelease",()=>{o&&c()}),i("slideChange",()=>{o&&e.params.cssMode&&c()})}function I5(r){let{swiper:e,extendParams:t,on:n,emit:i}=r,o;e.autoplay={running:!1,paused:!1},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});function a(){const m=e.slides.eq(e.activeIndex);let b=e.params.autoplay.delay;m.attr("data-swiper-autoplay")&&(b=m.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(o),o=to(()=>{let v;e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),v=e.slidePrev(e.params.speed,!0,!0),i("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?l():(v=e.slideTo(e.slides.length-1,e.params.speed,!0,!0),i("autoplay")):(v=e.slidePrev(e.params.speed,!0,!0),i("autoplay")):e.params.loop?(e.loopFix(),v=e.slideNext(e.params.speed,!0,!0),i("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?l():(v=e.slideTo(0,e.params.speed,!0,!0),i("autoplay")):(v=e.slideNext(e.params.speed,!0,!0),i("autoplay")),(e.params.cssMode&&e.autoplay.running||v===!1)&&a()},b)}function s(){return typeof o!="undefined"||e.autoplay.running?!1:(e.autoplay.running=!0,i("autoplayStart"),a(),!0)}function l(){return!e.autoplay.running||typeof o=="undefined"?!1:(o&&(clearTimeout(o),o=void 0),e.autoplay.running=!1,i("autoplayStop"),!0)}function c(m){!e.autoplay.running||e.autoplay.paused||(o&&clearTimeout(o),e.autoplay.paused=!0,m===0||!e.params.autoplay.waitForTransition?(e.autoplay.paused=!1,a()):["transitionend","webkitTransitionEnd"].forEach(b=>{e.$wrapperEl[0].addEventListener(b,p)}))}function u(){const m=ar();m.visibilityState==="hidden"&&e.autoplay.running&&c(),m.visibilityState==="visible"&&e.autoplay.paused&&(a(),e.autoplay.paused=!1)}function p(m){!e||e.destroyed||!e.$wrapperEl||m.target===e.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(b=>{e.$wrapperEl[0].removeEventListener(b,p)}),e.autoplay.paused=!1,e.autoplay.running?a():l())}function d(){e.params.autoplay.disableOnInteraction?l():(i("autoplayPause"),c()),["transitionend","webkitTransitionEnd"].forEach(m=>{e.$wrapperEl[0].removeEventListener(m,p)})}function h(){e.params.autoplay.disableOnInteraction||(e.autoplay.paused=!1,i("autoplayResume"),a())}function f(){e.params.autoplay.pauseOnMouseEnter&&(e.$el.on("mouseenter",d),e.$el.on("mouseleave",h))}function g(){e.$el.off("mouseenter",d),e.$el.off("mouseleave",h)}n("init",()=>{e.params.autoplay.enabled&&(s(),ar().addEventListener("visibilitychange",u),f())}),n("beforeTransitionStart",(m,b,v)=>{e.autoplay.running&&(v||!e.params.autoplay.disableOnInteraction?e.autoplay.pause(b):l())}),n("sliderFirstMove",()=>{e.autoplay.running&&(e.params.autoplay.disableOnInteraction?l():c())}),n("touchEnd",()=>{e.params.cssMode&&e.autoplay.paused&&!e.params.autoplay.disableOnInteraction&&a()}),n("destroy",()=>{g(),e.autoplay.running&&l(),ar().removeEventListener("visibilitychange",u)}),Object.assign(e.autoplay,{pause:c,run:a,start:s,stop:l})}function z5(r){let{swiper:e,extendParams:t,on:n}=r;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let i=!1,o=!1;e.thumbs={swiper:null};function a(){const c=e.thumbs.swiper;if(!c||c.destroyed)return;const u=c.clickedIndex,p=c.clickedSlide;if(p&&te(p).hasClass(e.params.thumbs.slideThumbActiveClass)||typeof u=="undefined"||u===null)return;let d;if(c.params.loop?d=parseInt(te(c.clickedSlide).attr("data-swiper-slide-index"),10):d=u,e.params.loop){let h=e.activeIndex;e.slides.eq(h).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,h=e.activeIndex);const f=e.slides.eq(h).prevAll(`[data-swiper-slide-index="${d}"]`).eq(0).index(),g=e.slides.eq(h).nextAll(`[data-swiper-slide-index="${d}"]`).eq(0).index();typeof f=="undefined"?d=g:typeof g=="undefined"?d=f:g-h<h-f?d=g:d=f}e.slideTo(d)}function s(){const{thumbs:c}=e.params;if(i)return!1;i=!0;const u=e.constructor;if(c.swiper instanceof u)e.thumbs.swiper=c.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1});else if(Ja(c.swiper)){const p=Object.assign({},c.swiper);Object.assign(p,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new u(p),o=!0}return e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",a),!0}function l(c){const u=e.thumbs.swiper;if(!u||u.destroyed)return;const p=u.params.slidesPerView==="auto"?u.slidesPerViewDynamic():u.params.slidesPerView,d=e.params.thumbs.autoScrollOffset,h=d&&!u.params.loop;if(e.realIndex!==u.realIndex||h){let m=u.activeIndex,b,v;if(u.params.loop){u.slides.eq(m).hasClass(u.params.slideDuplicateClass)&&(u.loopFix(),u._clientLeft=u.$wrapperEl[0].clientLeft,m=u.activeIndex);const C=u.slides.eq(m).prevAll(`[data-swiper-slide-index="${e.realIndex}"]`).eq(0).index(),k=u.slides.eq(m).nextAll(`[data-swiper-slide-index="${e.realIndex}"]`).eq(0).index();typeof C=="undefined"?b=k:typeof k=="undefined"?b=C:k-m===m-C?b=u.params.slidesPerGroup>1?k:m:k-m<m-C?b=k:b=C,v=e.activeIndex>e.previousIndex?"next":"prev"}else b=e.realIndex,v=b>e.previousIndex?"next":"prev";h&&(b+=v==="next"?d:-1*d),u.visibleSlidesIndexes&&u.visibleSlidesIndexes.indexOf(b)<0&&(u.params.centeredSlides?b>m?b=b-Math.floor(p/2)+1:b=b+Math.floor(p/2)-1:b>m&&u.params.slidesPerGroup,u.slideTo(b,c?0:void 0))}let f=1;const g=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(f=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(f=1),f=Math.floor(f),u.slides.removeClass(g),u.params.loop||u.params.virtual&&u.params.virtual.enabled)for(let m=0;m<f;m+=1)u.$wrapperEl.children(`[data-swiper-slide-index="${e.realIndex+m}"]`).addClass(g);else for(let m=0;m<f;m+=1)u.slides.eq(e.realIndex+m).addClass(g)}n("beforeInit",()=>{const{thumbs:c}=e.params;!c||!c.swiper||(s(),l(!0))}),n("slideChange update resize observerUpdate",()=>{l()}),n("setTransition",(c,u)=>{const p=e.thumbs.swiper;!p||p.destroyed||p.setTransition(u)}),n("beforeDestroy",()=>{const c=e.thumbs.swiper;!c||c.destroyed||o&&c.destroy()}),Object.assign(e.thumbs,{init:s,update:l})}function F5(r){let{swiper:e,extendParams:t,emit:n,once:i}=r;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function o(){const l=e.getTranslate();e.setTranslate(l),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function a(){const{touchEventsData:l,touches:c}=e;l.velocities.length===0&&l.velocities.push({position:c[e.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:c[e.isHorizontal()?"currentX":"currentY"],time:Nn()})}function s(l){let{currentPos:c}=l;const{params:u,$wrapperEl:p,rtlTranslate:d,snapGrid:h,touchEventsData:f}=e,m=Nn()-f.touchStartTime;if(c<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(c>-e.maxTranslate()){e.slides.length<h.length?e.slideTo(h.length-1):e.slideTo(e.slides.length-1);return}if(u.freeMode.momentum){if(f.velocities.length>1){const L=f.velocities.pop(),q=f.velocities.pop(),A=L.position-q.position,z=L.time-q.time;e.velocity=A/z,e.velocity/=2,Math.abs(e.velocity)<u.freeMode.minimumVelocity&&(e.velocity=0),(z>150||Nn()-L.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=u.freeMode.momentumVelocityRatio,f.velocities.length=0;let b=1e3*u.freeMode.momentumRatio;const v=e.velocity*b;let C=e.translate+v;d&&(C=-C);let k=!1,_;const N=Math.abs(e.velocity)*20*u.freeMode.momentumBounceRatio;let I;if(C<e.maxTranslate())u.freeMode.momentumBounce?(C+e.maxTranslate()<-N&&(C=e.maxTranslate()-N),_=e.maxTranslate(),k=!0,f.allowMomentumBounce=!0):C=e.maxTranslate(),u.loop&&u.centeredSlides&&(I=!0);else if(C>e.minTranslate())u.freeMode.momentumBounce?(C-e.minTranslate()>N&&(C=e.minTranslate()+N),_=e.minTranslate(),k=!0,f.allowMomentumBounce=!0):C=e.minTranslate(),u.loop&&u.centeredSlides&&(I=!0);else if(u.freeMode.sticky){let L;for(let q=0;q<h.length;q+=1)if(h[q]>-C){L=q;break}Math.abs(h[L]-C)<Math.abs(h[L-1]-C)||e.swipeDirection==="next"?C=h[L]:C=h[L-1],C=-C}if(I&&i("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(d?b=Math.abs((-C-e.translate)/e.velocity):b=Math.abs((C-e.translate)/e.velocity),u.freeMode.sticky){const L=Math.abs((d?-C:C)-e.translate),q=e.slidesSizesGrid[e.activeIndex];L<q?b=u.speed:L<2*q?b=u.speed*1.5:b=u.speed*2.5}}else if(u.freeMode.sticky){e.slideToClosest();return}u.freeMode.momentumBounce&&k?(e.updateProgress(_),e.setTransition(b),e.setTranslate(C),e.transitionStart(!0,e.swipeDirection),e.animating=!0,p.transitionEnd(()=>{!e||e.destroyed||!f.allowMomentumBounce||(n("momentumBounce"),e.setTransition(u.speed),setTimeout(()=>{e.setTranslate(_),p.transitionEnd(()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(n("_freeModeNoMomentumRelease"),e.updateProgress(C),e.setTransition(b),e.setTranslate(C),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,p.transitionEnd(()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(C),e.updateActiveIndex(),e.updateSlidesClasses()}else if(u.freeMode.sticky){e.slideToClosest();return}else u.freeMode&&n("_freeModeNoMomentumRelease");(!u.freeMode.momentum||m>=u.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:o,onTouchMove:a,onTouchEnd:s}})}function R5(r){let{swiper:e,extendParams:t}=r;t({grid:{rows:1,fill:"column"}});let n,i,o;const a=c=>{const{slidesPerView:u}=e.params,{rows:p,fill:d}=e.params.grid;i=n/p,o=Math.floor(c/p),Math.floor(c/p)===c/p?n=c:n=Math.ceil(c/p)*p,u!=="auto"&&d==="row"&&(n=Math.max(n,u*p))},s=(c,u,p,d)=>{const{slidesPerGroup:h,spaceBetween:f}=e.params,{rows:g,fill:m}=e.params.grid;let b,v,C;if(m==="row"&&h>1){const k=Math.floor(c/(h*g)),_=c-g*h*k,N=k===0?h:Math.min(Math.ceil((p-k*g*h)/g),h);C=Math.floor(_/N),v=_-C*N+k*h,b=v+C*n/g,u.css({"-webkit-order":b,order:b})}else m==="column"?(v=Math.floor(c/g),C=c-v*g,(v>o||v===o&&C===g-1)&&(C+=1,C>=g&&(C=0,v+=1))):(C=Math.floor(c/i),v=c-C*i);u.css(d("margin-top"),C!==0?f&&`${f}px`:"")},l=(c,u,p)=>{const{spaceBetween:d,centeredSlides:h,roundLengths:f}=e.params,{rows:g}=e.params.grid;if(e.virtualSize=(c+d)*n,e.virtualSize=Math.ceil(e.virtualSize/g)-d,e.$wrapperEl.css({[p("width")]:`${e.virtualSize+d}px`}),h){u.splice(0,u.length);const m=[];for(let b=0;b<u.length;b+=1){let v=u[b];f&&(v=Math.floor(v)),u[b]<e.virtualSize+u[0]&&m.push(v)}u.push(...m)}};e.grid={initSlides:a,updateSlide:s,updateWrapperSize:l}}function L5(r){const e=this,{$wrapperEl:t,params:n}=e;if(n.loop&&e.loopDestroy(),typeof r=="object"&&"length"in r)for(let i=0;i<r.length;i+=1)r[i]&&t.append(r[i]);else t.append(r);n.loop&&e.loopCreate(),n.observer||e.update()}function B5(r){const e=this,{params:t,$wrapperEl:n,activeIndex:i}=e;t.loop&&e.loopDestroy();let o=i+1;if(typeof r=="object"&&"length"in r){for(let a=0;a<r.length;a+=1)r[a]&&n.prepend(r[a]);o=i+r.length}else n.prepend(r);t.loop&&e.loopCreate(),t.observer||e.update(),e.slideTo(o,0,!1)}function $5(r,e){const t=this,{$wrapperEl:n,params:i,activeIndex:o}=t;let a=o;i.loop&&(a-=t.loopedSlides,t.loopDestroy(),t.slides=n.children(`.${i.slideClass}`));const s=t.slides.length;if(r<=0){t.prependSlide(e);return}if(r>=s){t.appendSlide(e);return}let l=a>r?a+1:a;const c=[];for(let u=s-1;u>=r;u-=1){const p=t.slides.eq(u);p.remove(),c.unshift(p)}if(typeof e=="object"&&"length"in e){for(let u=0;u<e.length;u+=1)e[u]&&n.append(e[u]);l=a>r?a+e.length:a}else n.append(e);for(let u=0;u<c.length;u+=1)n.append(c[u]);i.loop&&t.loopCreate(),i.observer||t.update(),i.loop?t.slideTo(l+t.loopedSlides,0,!1):t.slideTo(l,0,!1)}function H5(r){const e=this,{params:t,$wrapperEl:n,activeIndex:i}=e;let o=i;t.loop&&(o-=e.loopedSlides,e.loopDestroy(),e.slides=n.children(`.${t.slideClass}`));let a=o,s;if(typeof r=="object"&&"length"in r){for(let l=0;l<r.length;l+=1)s=r[l],e.slides[s]&&e.slides.eq(s).remove(),s<a&&(a-=1);a=Math.max(a,0)}else s=r,e.slides[s]&&e.slides.eq(s).remove(),s<a&&(a-=1),a=Math.max(a,0);t.loop&&e.loopCreate(),t.observer||e.update(),t.loop?e.slideTo(a+e.loopedSlides,0,!1):e.slideTo(a,0,!1)}function j5(){const r=this,e=[];for(let t=0;t<r.slides.length;t+=1)e.push(t);r.removeSlide(e)}function W5(r){let{swiper:e}=r;Object.assign(e,{appendSlide:L5.bind(e),prependSlide:B5.bind(e),addSlide:$5.bind(e),removeSlide:H5.bind(e),removeAllSlides:j5.bind(e)})}function Ia(r){const{effect:e,swiper:t,on:n,setTranslate:i,setTransition:o,overwriteParams:a,perspective:s,recreateShadows:l,getEffectParams:c}=r;n("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),s&&s()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const p=a?a():{};Object.assign(t.params,p),Object.assign(t.originalParams,p)}),n("setTranslate",()=>{t.params.effect===e&&i()}),n("setTransition",(p,d)=>{t.params.effect===e&&o(d)}),n("transitionEnd",()=>{if(t.params.effect===e&&l){if(!c||!c().slideShadows)return;t.slides.each(p=>{t.$(p).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()}),l()}});let u;n("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(u=!0),requestAnimationFrame(()=>{u&&t.slides&&t.slides.length&&(i(),u=!1)}))})}function Us(r,e){return r.transformEl?e.find(r.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):e}function tu(r){let{swiper:e,duration:t,transformEl:n,allSlides:i}=r;const{slides:o,activeIndex:a,$wrapperEl:s}=e;if(e.params.virtualTranslate&&t!==0){let l=!1,c;i?c=n?o.find(n):o:c=n?o.eq(a).find(n):o.eq(a),c.transitionEnd(()=>{if(l||!e||e.destroyed)return;l=!0,e.animating=!1;const u=["webkitTransitionEnd","transitionend"];for(let p=0;p<u.length;p+=1)s.trigger(u[p])})}}function V5(r){let{swiper:e,extendParams:t,on:n}=r;t({fadeEffect:{crossFade:!1,transformEl:null}}),Ia({effect:"fade",swiper:e,on:n,setTranslate:()=>{const{slides:a}=e,s=e.params.fadeEffect;for(let l=0;l<a.length;l+=1){const c=e.slides.eq(l);let p=-c[0].swiperSlideOffset;e.params.virtualTranslate||(p-=e.translate);let d=0;e.isHorizontal()||(d=p,p=0);const h=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(c[0].progress),0):1+Math.min(Math.max(c[0].progress,-1),0);Us(s,c).css({opacity:h}).transform(`translate3d(${p}px, ${d}px, 0px)`)}},setTransition:a=>{const{transformEl:s}=e.params.fadeEffect;(s?e.slides.find(s):e.slides).transition(a),tu({swiper:e,duration:a,transformEl:s,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function Y5(r){let{swiper:e,extendParams:t,on:n}=r;t({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const i=(l,c,u)=>{let p=u?l.find(".swiper-slide-shadow-left"):l.find(".swiper-slide-shadow-top"),d=u?l.find(".swiper-slide-shadow-right"):l.find(".swiper-slide-shadow-bottom");p.length===0&&(p=te(`<div class="swiper-slide-shadow-${u?"left":"top"}"></div>`),l.append(p)),d.length===0&&(d=te(`<div class="swiper-slide-shadow-${u?"right":"bottom"}"></div>`),l.append(d)),p.length&&(p[0].style.opacity=Math.max(-c,0)),d.length&&(d[0].style.opacity=Math.max(c,0))};Ia({effect:"cube",swiper:e,on:n,setTranslate:()=>{const{$el:l,$wrapperEl:c,slides:u,width:p,height:d,rtlTranslate:h,size:f,browser:g}=e,m=e.params.cubeEffect,b=e.isHorizontal(),v=e.virtual&&e.params.virtual.enabled;let C=0,k;m.shadow&&(b?(k=c.find(".swiper-cube-shadow"),k.length===0&&(k=te('<div class="swiper-cube-shadow"></div>'),c.append(k)),k.css({height:`${p}px`})):(k=l.find(".swiper-cube-shadow"),k.length===0&&(k=te('<div class="swiper-cube-shadow"></div>'),l.append(k))));for(let N=0;N<u.length;N+=1){const I=u.eq(N);let L=N;v&&(L=parseInt(I.attr("data-swiper-slide-index"),10));let q=L*90,A=Math.floor(q/360);h&&(q=-q,A=Math.floor(-q/360));const z=Math.max(Math.min(I[0].progress,1),-1);let H=0,U=0,ie=0;L%4===0?(H=-A*4*f,ie=0):(L-1)%4===0?(H=0,ie=-A*4*f):(L-2)%4===0?(H=f+A*4*f,ie=f):(L-3)%4===0&&(H=-f,ie=3*f+f*4*A),h&&(H=-H),b||(U=H,H=0);const ke=`rotateX(${b?0:-q}deg) rotateY(${b?q:0}deg) translate3d(${H}px, ${U}px, ${ie}px)`;z<=1&&z>-1&&(C=L*90+z*90,h&&(C=-L*90-z*90)),I.transform(ke),m.slideShadows&&i(I,z,b)}if(c.css({"-webkit-transform-origin":`50% 50% -${f/2}px`,"transform-origin":`50% 50% -${f/2}px`}),m.shadow)if(b)k.transform(`translate3d(0px, ${p/2+m.shadowOffset}px, ${-p/2}px) rotateX(90deg) rotateZ(0deg) scale(${m.shadowScale})`);else{const N=Math.abs(C)-Math.floor(Math.abs(C)/90)*90,I=1.5-(Math.sin(N*2*Math.PI/360)/2+Math.cos(N*2*Math.PI/360)/2),L=m.shadowScale,q=m.shadowScale/I,A=m.shadowOffset;k.transform(`scale3d(${L}, 1, ${q}) translate3d(0px, ${d/2+A}px, ${-d/2/q}px) rotateX(-90deg)`)}const _=g.isSafari||g.isWebView?-f/2:0;c.transform(`translate3d(0px,0,${_}px) rotateX(${e.isHorizontal()?0:C}deg) rotateY(${e.isHorizontal()?-C:0}deg)`),c[0].style.setProperty("--swiper-cube-translate-z",`${_}px`)},setTransition:l=>{const{$el:c,slides:u}=e;u.transition(l).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(l),e.params.cubeEffect.shadow&&!e.isHorizontal()&&c.find(".swiper-cube-shadow").transition(l)},recreateShadows:()=>{const l=e.isHorizontal();e.slides.each(c=>{const u=Math.max(Math.min(c.progress,1),-1);i(te(c),u,l)})},getEffectParams:()=>e.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})}function ya(r,e,t){const n=`swiper-slide-shadow${t?`-${t}`:""}`,i=r.transformEl?e.find(r.transformEl):e;let o=i.children(`.${n}`);return o.length||(o=te(`<div class="swiper-slide-shadow${t?`-${t}`:""}"></div>`),i.append(o)),o}function q5(r){let{swiper:e,extendParams:t,on:n}=r;t({flipEffect:{slideShadows:!0,limitRotation:!0,transformEl:null}});const i=(l,c,u)=>{let p=e.isHorizontal()?l.find(".swiper-slide-shadow-left"):l.find(".swiper-slide-shadow-top"),d=e.isHorizontal()?l.find(".swiper-slide-shadow-right"):l.find(".swiper-slide-shadow-bottom");p.length===0&&(p=ya(u,l,e.isHorizontal()?"left":"top")),d.length===0&&(d=ya(u,l,e.isHorizontal()?"right":"bottom")),p.length&&(p[0].style.opacity=Math.max(-c,0)),d.length&&(d[0].style.opacity=Math.max(c,0))};Ia({effect:"flip",swiper:e,on:n,setTranslate:()=>{const{slides:l,rtlTranslate:c}=e,u=e.params.flipEffect;for(let p=0;p<l.length;p+=1){const d=l.eq(p);let h=d[0].progress;e.params.flipEffect.limitRotation&&(h=Math.max(Math.min(d[0].progress,1),-1));const f=d[0].swiperSlideOffset;let m=-180*h,b=0,v=e.params.cssMode?-f-e.translate:-f,C=0;e.isHorizontal()?c&&(m=-m):(C=v,v=0,b=-m,m=0),d[0].style.zIndex=-Math.abs(Math.round(h))+l.length,u.slideShadows&&i(d,h,u);const k=`translate3d(${v}px, ${C}px, 0px) rotateX(${b}deg) rotateY(${m}deg)`;Us(u,d).transform(k)}},setTransition:l=>{const{transformEl:c}=e.params.flipEffect;(c?e.slides.find(c):e.slides).transition(l).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(l),tu({swiper:e,duration:l,transformEl:c})},recreateShadows:()=>{const l=e.params.flipEffect;e.slides.each(c=>{const u=te(c);let p=u[0].progress;e.params.flipEffect.limitRotation&&(p=Math.max(Math.min(c.progress,1),-1)),i(u,p,l)})},getEffectParams:()=>e.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function U5(r){let{swiper:e,extendParams:t,on:n}=r;t({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0,transformEl:null}}),Ia({effect:"coverflow",swiper:e,on:n,setTranslate:()=>{const{width:a,height:s,slides:l,slidesSizesGrid:c}=e,u=e.params.coverflowEffect,p=e.isHorizontal(),d=e.translate,h=p?-d+a/2:-d+s/2,f=p?u.rotate:-u.rotate,g=u.depth;for(let m=0,b=l.length;m<b;m+=1){const v=l.eq(m),C=c[m],k=v[0].swiperSlideOffset,_=(h-k-C/2)/C,N=typeof u.modifier=="function"?u.modifier(_):_*u.modifier;let I=p?f*N:0,L=p?0:f*N,q=-g*Math.abs(N),A=u.stretch;typeof A=="string"&&A.indexOf("%")!==-1&&(A=parseFloat(u.stretch)/100*C);let z=p?0:A*N,H=p?A*N:0,U=1-(1-u.scale)*Math.abs(N);Math.abs(H)<.001&&(H=0),Math.abs(z)<.001&&(z=0),Math.abs(q)<.001&&(q=0),Math.abs(I)<.001&&(I=0),Math.abs(L)<.001&&(L=0),Math.abs(U)<.001&&(U=0);const ie=`translate3d(${H}px,${z}px,${q}px)  rotateX(${L}deg) rotateY(${I}deg) scale(${U})`;if(Us(u,v).transform(ie),v[0].style.zIndex=-Math.abs(Math.round(N))+1,u.slideShadows){let Se=p?v.find(".swiper-slide-shadow-left"):v.find(".swiper-slide-shadow-top"),$=p?v.find(".swiper-slide-shadow-right"):v.find(".swiper-slide-shadow-bottom");Se.length===0&&(Se=ya(u,v,p?"left":"top")),$.length===0&&($=ya(u,v,p?"right":"bottom")),Se.length&&(Se[0].style.opacity=N>0?N:0),$.length&&($[0].style.opacity=-N>0?-N:0)}}},setTransition:a=>{const{transformEl:s}=e.params.coverflowEffect;(s?e.slides.find(s):e.slides).transition(a).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(a)},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}function J5(r){let{swiper:e,extendParams:t,on:n}=r;t({creativeEffect:{transformEl:null,limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const i=s=>typeof s=="string"?s:`${s}px`;Ia({effect:"creative",swiper:e,on:n,setTranslate:()=>{const{slides:s,$wrapperEl:l,slidesSizesGrid:c}=e,u=e.params.creativeEffect,{progressMultiplier:p}=u,d=e.params.centeredSlides;if(d){const h=c[0]/2-e.params.slidesOffsetBefore||0;l.transform(`translateX(calc(50% - ${h}px))`)}for(let h=0;h<s.length;h+=1){const f=s.eq(h),g=f[0].progress,m=Math.min(Math.max(f[0].progress,-u.limitProgress),u.limitProgress);let b=m;d||(b=Math.min(Math.max(f[0].originalProgress,-u.limitProgress),u.limitProgress));const v=f[0].swiperSlideOffset,C=[e.params.cssMode?-v-e.translate:-v,0,0],k=[0,0,0];let _=!1;e.isHorizontal()||(C[1]=C[0],C[0]=0);let N={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};m<0?(N=u.next,_=!0):m>0&&(N=u.prev,_=!0),C.forEach((U,ie)=>{C[ie]=`calc(${U}px + (${i(N.translate[ie])} * ${Math.abs(m*p)}))`}),k.forEach((U,ie)=>{k[ie]=N.rotate[ie]*Math.abs(m*p)}),f[0].style.zIndex=-Math.abs(Math.round(g))+s.length;const I=C.join(", "),L=`rotateX(${k[0]}deg) rotateY(${k[1]}deg) rotateZ(${k[2]}deg)`,q=b<0?`scale(${1+(1-N.scale)*b*p})`:`scale(${1-(1-N.scale)*b*p})`,A=b<0?1+(1-N.opacity)*b*p:1-(1-N.opacity)*b*p,z=`translate3d(${I}) ${L} ${q}`;if(_&&N.shadow||!_){let U=f.children(".swiper-slide-shadow");if(U.length===0&&N.shadow&&(U=ya(u,f)),U.length){const ie=u.shadowPerProgress?m*(1/u.limitProgress):m;U[0].style.opacity=Math.min(Math.max(Math.abs(ie),0),1)}}const H=Us(u,f);H.transform(z).css({opacity:A}),N.origin&&H.css("transform-origin",N.origin)}},setTransition:s=>{const{transformEl:l}=e.params.creativeEffect;(l?e.slides.find(l):e.slides).transition(s).find(".swiper-slide-shadow").transition(s),tu({swiper:e,duration:s,transformEl:l,allSlides:!0})},perspective:()=>e.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}function X5(r){let{swiper:e,extendParams:t,on:n}=r;t({cardsEffect:{slideShadows:!0,transformEl:null,rotate:!0}}),Ia({effect:"cards",swiper:e,on:n,setTranslate:()=>{const{slides:a,activeIndex:s}=e,l=e.params.cardsEffect,{startTranslate:c,isTouched:u}=e.touchEventsData,p=e.translate;for(let d=0;d<a.length;d+=1){const h=a.eq(d),f=h[0].progress,g=Math.min(Math.max(f,-4),4);let m=h[0].swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&e.$wrapperEl.transform(`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(m-=a[0].swiperSlideOffset);let b=e.params.cssMode?-m-e.translate:-m,v=0;const C=-100*Math.abs(g);let k=1,_=-2*g,N=8-Math.abs(g)*.75;const I=e.virtual&&e.params.virtual.enabled?e.virtual.from+d:d,L=(I===s||I===s-1)&&g>0&&g<1&&(u||e.params.cssMode)&&p<c,q=(I===s||I===s+1)&&g<0&&g>-1&&(u||e.params.cssMode)&&p>c;if(L||q){const U=(1-Math.abs((Math.abs(g)-.5)/.5))**.5;_+=-28*g*U,k+=-.5*U,N+=96*U,v=`${-25*U*Math.abs(g)}%`}if(g<0?b=`calc(${b}px + (${N*Math.abs(g)}%))`:g>0?b=`calc(${b}px + (-${N*Math.abs(g)}%))`:b=`${b}px`,!e.isHorizontal()){const U=v;v=b,b=U}const A=g<0?`${1+(1-k)*g}`:`${1-(1-k)*g}`,z=`
        translate3d(${b}, ${v}, ${C}px)
        rotateZ(${l.rotate?_:0}deg)
        scale(${A})
      `;if(l.slideShadows){let U=h.find(".swiper-slide-shadow");U.length===0&&(U=ya(l,h)),U.length&&(U[0].style.opacity=Math.min(Math.max((Math.abs(g)-.5)/.5,0),1))}h[0].style.zIndex=-Math.abs(Math.round(f))+a.length,Us(l,h).transform(z)}},setTransition:a=>{const{transformEl:s}=e.params.cardsEffect;(s?e.slides.find(s):e.slides).transition(a).find(".swiper-slide-shadow").transition(a),tu({swiper:e,duration:a,transformEl:s})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}const G5=[x5,k5,C5,S5,E5,D5,A5,T5,M5,O5,_5,N5,P5,I5,z5,F5,R5,W5,V5,Y5,q5,U5,J5,X5];On.use(G5);/*!
 * Viewer.js v1.10.5
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2022-04-05T08:21:02.491Z
 */function ug(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function yf(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ug(Object(t),!0).forEach(function(n){Q5(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ug(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function qp(r){return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(r)}function K5(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function pg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function Z5(r,e,t){return e&&pg(r.prototype,e),t&&pg(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Q5(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var dg={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},eO='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',ru=typeof window!="undefined"&&typeof window.document!="undefined",Fi=ru?window:{},na=ru&&Fi.document.documentElement?"ontouchstart"in Fi.document.documentElement:!1,xf=ru?"PointerEvent"in Fi:!1,ot="viewer",kl="move",Jw="switch",Ga="zoom",ul="".concat(ot,"-active"),tO="".concat(ot,"-close"),Cl="".concat(ot,"-fade"),Up="".concat(ot,"-fixed"),rO="".concat(ot,"-fullscreen"),fg="".concat(ot,"-fullscreen-exit"),go="".concat(ot,"-hide"),nO="".concat(ot,"-hide-md-down"),iO="".concat(ot,"-hide-sm-down"),oO="".concat(ot,"-hide-xs-down"),mi="".concat(ot,"-in"),ps="".concat(ot,"-invisible"),ia="".concat(ot,"-loading"),aO="".concat(ot,"-move"),hg="".concat(ot,"-open"),Ho="".concat(ot,"-show"),Gt="".concat(ot,"-transition"),xa="click",Jp="dblclick",gg="dragstart",mg="focusin",vg="keydown",Gn="load",Eo="error",sO=na?"touchend touchcancel":"mouseup",lO=na?"touchmove":"mousemove",cO=na?"touchstart":"mousedown",bg=xf?"pointerdown":cO,wg=xf?"pointermove":lO,yg=xf?"pointerup pointercancel":sO,xg="resize",ti="transitionend",kg="wheel",Cg="ready",Sg="show",Eg="shown",Dg="hide",Ag="hidden",Tg="view",Os="viewed",Mg="move",Og="moved",_g="rotate",Ng="rotated",Pg="scale",Ig="scaled",zg="zoom",Fg="zoomed",Rg="play",Lg="stop",fc="".concat(ot,"Action"),kf=/\s\s*/,pl=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function _s(r){return typeof r=="string"}var uO=Number.isNaN||Fi.isNaN;function ir(r){return typeof r=="number"&&!uO(r)}function Go(r){return typeof r=="undefined"}function ka(r){return qp(r)==="object"&&r!==null}var pO=Object.prototype.hasOwnProperty;function Ka(r){if(!ka(r))return!1;try{var e=r.constructor,t=e.prototype;return e&&t&&pO.call(t,"isPrototypeOf")}catch{return!1}}function Ot(r){return typeof r=="function"}function It(r,e){if(r&&Ot(e))if(Array.isArray(r)||ir(r.length)){var t=r.length,n;for(n=0;n<t&&e.call(r,r[n],n,r)!==!1;n+=1);}else ka(r)&&Object.keys(r).forEach(function(i){e.call(r,r[i],i,r)});return r}var Pn=Object.assign||function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return ka(e)&&n.length>0&&n.forEach(function(o){ka(o)&&Object.keys(o).forEach(function(a){e[a]=o[a]})}),e},dO=/^(?:width|height|left|top|marginLeft|marginTop)$/;function ii(r,e){var t=r.style;It(e,function(n,i){dO.test(i)&&ir(n)&&(n+="px"),t[i]=n})}function fO(r){return _s(r)?r.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):r}function jo(r,e){return!r||!e?!1:r.classList?r.classList.contains(e):r.className.indexOf(e)>-1}function Je(r,e){if(!(!r||!e)){if(ir(r.length)){It(r,function(n){Je(n,e)});return}if(r.classList){r.classList.add(e);return}var t=r.className.trim();t?t.indexOf(e)<0&&(r.className="".concat(t," ").concat(e)):r.className=e}}function St(r,e){if(!(!r||!e)){if(ir(r.length)){It(r,function(t){St(t,e)});return}if(r.classList){r.classList.remove(e);return}r.className.indexOf(e)>=0&&(r.className=r.className.replace(e,""))}}function Ns(r,e,t){if(!!e){if(ir(r.length)){It(r,function(n){Ns(n,e,t)});return}t?Je(r,e):St(r,e)}}var hO=/([a-z\d])([A-Z])/g;function Cf(r){return r.replace(hO,"$1-$2").toLowerCase()}function Ko(r,e){return ka(r[e])?r[e]:r.dataset?r.dataset[e]:r.getAttribute("data-".concat(Cf(e)))}function Xp(r,e,t){ka(t)?r[e]=t:r.dataset?r.dataset[e]=t:r.setAttribute("data-".concat(Cf(e)),t)}var Xw=function(){var r=!1;if(ru){var e=!1,t=function(){},n=Object.defineProperty({},"once",{get:function(){return r=!0,e},set:function(o){e=o}});Fi.addEventListener("test",t,n),Fi.removeEventListener("test",t,n)}return r}();function _t(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=t;e.trim().split(kf).forEach(function(o){if(!Xw){var a=r.listeners;a&&a[o]&&a[o][t]&&(i=a[o][t],delete a[o][t],Object.keys(a[o]).length===0&&delete a[o],Object.keys(a).length===0&&delete r.listeners)}r.removeEventListener(o,i,n)})}function Ge(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=t;e.trim().split(kf).forEach(function(o){if(n.once&&!Xw){var a=r.listeners,s=a===void 0?{}:a;i=function(){delete s[o][t],r.removeEventListener(o,i,n);for(var c=arguments.length,u=new Array(c),p=0;p<c;p++)u[p]=arguments[p];t.apply(r,u)},s[o]||(s[o]={}),s[o][t]&&r.removeEventListener(o,s[o][t],n),s[o][t]=i,r.listeners=s}r.addEventListener(o,i,n)})}function Qt(r,e,t,n){var i;return Ot(Event)&&Ot(CustomEvent)?i=new CustomEvent(e,yf({bubbles:!0,cancelable:!0,detail:t},n)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,!0,!0,t)),r.dispatchEvent(i)}function gO(r){var e=r.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function Sl(r){var e=r.rotate,t=r.scaleX,n=r.scaleY,i=r.translateX,o=r.translateY,a=[];ir(i)&&i!==0&&a.push("translateX(".concat(i,"px)")),ir(o)&&o!==0&&a.push("translateY(".concat(o,"px)")),ir(e)&&e!==0&&a.push("rotate(".concat(e,"deg)")),ir(t)&&t!==1&&a.push("scaleX(".concat(t,")")),ir(n)&&n!==1&&a.push("scaleY(".concat(n,")"));var s=a.length?a.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function mO(r){return _s(r)?decodeURIComponent(r.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var qu=Fi.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(Fi.navigator.userAgent);function Gw(r,e,t){var n=document.createElement("img");if(r.naturalWidth&&!qu)return t(r.naturalWidth,r.naturalHeight),n;var i=document.body||document.documentElement;return n.onload=function(){t(n.width,n.height),qu||i.removeChild(n)},It(e.inheritedAttributes,function(o){var a=r.getAttribute(o);a!==null&&n.setAttribute(o,a)}),n.src=r.src,qu||(n.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(n)),n}function dl(r){switch(r){case 2:return oO;case 3:return iO;case 4:return nO;default:return""}}function vO(r){var e=yf({},r),t=[];return It(r,function(n,i){delete e[i],It(e,function(o){var a=Math.abs(n.startX-o.startX),s=Math.abs(n.startY-o.startY),l=Math.abs(n.endX-o.endX),c=Math.abs(n.endY-o.endY),u=Math.sqrt(a*a+s*s),p=Math.sqrt(l*l+c*c),d=(p-u)/u;t.push(d)})}),t.sort(function(n,i){return Math.abs(n)<Math.abs(i)}),t[0]}function fl(r,e){var t=r.pageX,n=r.pageY,i={endX:t,endY:n};return e?i:yf({timeStamp:Date.now(),startX:t,startY:n},i)}function bO(r){var e=0,t=0,n=0;return It(r,function(i){var o=i.startX,a=i.startY;e+=o,t+=a,n+=1}),e/=n,t/=n,{pageX:e,pageY:t}}var wO={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,t=e.body||e.documentElement;this.body=t,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=t.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(t).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,t=this.parent,n;e.inline&&(n={width:Math.max(t.offsetWidth,e.minWidth),height:Math.max(t.offsetHeight,e.minHeight)},this.parentData=n),(this.fulled||!n)&&(n=this.containerData),this.viewerData=Pn({},n)},renderViewer:function(){this.options.inline&&!this.fulled&&ii(this.viewer,this.viewerData)},initList:function(){var e=this,t=this.element,n=this.options,i=this.list,o=[];i.innerHTML="",It(this.images,function(a,s){var l=a.src,c=a.alt||mO(l),u=e.getImageURL(a);if(l||u){var p=document.createElement("li"),d=document.createElement("img");It(n.inheritedAttributes,function(h){var f=a.getAttribute(h);f!==null&&d.setAttribute(h,f)}),d.src=l||u,d.alt=c,d.setAttribute("data-original-url",u||l),p.setAttribute("data-index",s),p.setAttribute("data-viewer-action","view"),p.setAttribute("role","button"),n.keyboard&&p.setAttribute("tabindex",0),p.appendChild(d),i.appendChild(p),o.push(p)}}),this.items=o,It(o,function(a){var s=a.firstElementChild,l,c;Xp(s,"filled",!0),n.loading&&Je(a,ia),Ge(s,Gn,l=function(p){_t(s,Eo,c),n.loading&&St(a,ia),e.loadImage(p)},{once:!0}),Ge(s,Eo,c=function(){_t(s,Gn,l),n.loading&&St(a,ia)},{once:!0})}),n.transition&&Ge(t,Os,function(){Je(i,Gt)},{once:!0})},renderList:function(){var e=this.index,t=this.items[e];if(!!t){var n=t.nextElementSibling,i=parseInt(window.getComputedStyle(n||t).marginLeft,10),o=t.offsetWidth,a=o+i;ii(this.list,Pn({width:a*this.length-i},Sl({translateX:(this.viewerData.width-o)/2-a*e})))}},resetList:function(){var e=this.list;e.innerHTML="",St(e,Gt),ii(e,Sl({translateX:0}))},initImage:function(e){var t=this,n=this.options,i=this.image,o=this.viewerData,a=this.footer.offsetHeight,s=o.width,l=Math.max(o.height-a,a),c=this.imageData||{},u;this.imageInitializing={abort:function(){u.onload=null}},u=Gw(i,n,function(p,d){var h=p/d,f=s,g=l;t.imageInitializing=!1,l*h>s?g=s/h:f=l*h,f=Math.min(f*.9,p),g=Math.min(g*.9,d);var m=(s-f)/2,b=(l-g)/2,v={left:m,top:b,x:m,y:b,width:f,height:g,oldRatio:1,ratio:f/p,aspectRatio:h,naturalWidth:p,naturalHeight:d},C=Pn({},v);n.rotatable&&(v.rotate=c.rotate||0,C.rotate=0),n.scalable&&(v.scaleX=c.scaleX||1,v.scaleY=c.scaleY||1,C.scaleX=1,C.scaleY=1),t.imageData=v,t.initialImageData=C,e&&e()})},renderImage:function(e){var t=this,n=this.image,i=this.imageData;if(ii(n,Pn({width:i.width,height:i.height,marginLeft:i.x,marginTop:i.y},Sl(i))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&jo(n,Gt)){var o=function(){t.imageRendering=!1,e()};this.imageRendering={abort:function(){_t(n,ti,o)}},Ge(n,ti,o,{once:!0})}else e()},resetImage:function(){if(this.viewing||this.viewed){var e=this.image;this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null}}},yO={bind:function(){var e=this.options,t=this.viewer,n=this.canvas,i=this.element.ownerDocument;Ge(t,xa,this.onClick=this.click.bind(this)),Ge(t,gg,this.onDragStart=this.dragstart.bind(this)),Ge(n,bg,this.onPointerDown=this.pointerdown.bind(this)),Ge(i,wg,this.onPointerMove=this.pointermove.bind(this)),Ge(i,yg,this.onPointerUp=this.pointerup.bind(this)),Ge(i,vg,this.onKeyDown=this.keydown.bind(this)),Ge(window,xg,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&Ge(t,kg,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&Ge(n,Jp,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,t=this.viewer,n=this.canvas,i=this.element.ownerDocument;_t(t,xa,this.onClick),_t(t,gg,this.onDragStart),_t(n,bg,this.onPointerDown),_t(i,wg,this.onPointerMove),_t(i,yg,this.onPointerUp),_t(i,vg,this.onKeyDown),_t(window,xg,this.onResize),e.zoomable&&e.zoomOnWheel&&_t(t,kg,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&_t(n,Jp,this.onDblclick)}},xO={click:function(e){var t=this.options,n=this.imageData,i=e.target,o=Ko(i,fc);switch(!o&&i.localName==="img"&&i.parentElement.localName==="li"&&(i=i.parentElement,o=Ko(i,fc)),na&&e.isTrusted&&i===this.canvas&&clearTimeout(this.clickCanvasTimeout),o){case"mix":this.played?this.stop():t.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.hide();break;case"view":this.view(Ko(i,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(t.loop);break;case"play":this.play(t.fullscreen);break;case"next":this.next(t.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-n.scaleX||-1);break;case"flip-vertical":this.scaleY(-n.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(na&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var t=this.element,n=this.options,i=this.image,o=this.index,a=this.viewerData;St(i,ps),n.loading&&St(this.canvas,ia),i.style.cssText="height:0;"+"margin-left:".concat(a.width/2,"px;")+"margin-top:".concat(a.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){Ns(i,aO,n.movable),Ns(i,Gt,n.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,Ot(n.viewed)&&Ge(t,Os,n.viewed,{once:!0}),Qt(t,Os,{originalImage:e.images[o],index:o,image:i},{cancelable:!1})})})},loadImage:function(e){var t=e.target,n=t.parentNode,i=n.offsetWidth||30,o=n.offsetHeight||50,a=!!Ko(t,"filled");Gw(t,this.options,function(s,l){var c=s/l,u=i,p=o;o*c>i?a?u=o*c:p=i/c:a?p=i/c:u=o*c,ii(t,Pn({width:u,height:p},Sl({translateX:(i-u)/2,translateY:(o-p)/2})))})},keydown:function(e){var t=this.options;if(!!t.keyboard){var n=e.keyCode||e.which||e.charCode;switch(n){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(!!this.fulled)switch(n){case 27:this.played?this.stop():t.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.prev(t.loop);break;case 38:e.preventDefault(),this.zoom(t.zoomRatio,!0);break;case 39:this.next(t.loop);break;case 40:e.preventDefault(),this.zoom(-t.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var t=this.options,n=this.pointers,i=e.buttons,o=e.button;if(!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(ir(i)&&i!==1||ir(o)&&o!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?It(e.changedTouches,function(s){n[s.identifier]=fl(s)}):n[e.pointerId||0]=fl(e);var a=t.movable?kl:!1;t.zoomOnTouch&&t.zoomable&&Object.keys(n).length>1?a=Ga:t.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(a=Jw),t.transition&&(a===kl||a===Ga)&&St(this.image,Gt),this.action=a}},pointermove:function(e){var t=this.pointers,n=this.action;!this.viewed||!n||(e.preventDefault(),e.changedTouches?It(e.changedTouches,function(i){Pn(t[i.identifier]||{},fl(i,!0))}):Pn(t[e.pointerId||0]||{},fl(e,!0)),this.change(e))},pointerup:function(e){var t=this,n=this.options,i=this.action,o=this.pointers,a;e.changedTouches?It(e.changedTouches,function(s){a=o[s.identifier],delete o[s.identifier]}):(a=o[e.pointerId||0],delete o[e.pointerId||0]),i&&(e.preventDefault(),n.transition&&(i===kl||i===Ga)&&Je(this.image,Gt),this.action=!1,na&&i!==Ga&&a&&Date.now()-a.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),n.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){Qt(t.image,Jp,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){t.imageClicked=!1},500)):(this.imageClicked=!1,n.backdrop&&n.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){Qt(t.canvas,xa,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}It(this.player.getElementsByTagName("img"),function(t){Ge(t,Gn,e.loadImage.bind(e),{once:!0}),Qt(t,Gn)})}},wheel:function(e){var t=this;if(!!this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){t.wheeling=!1},50);var n=Number(this.options.zoomRatio)||.1,i=1;e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*n,!0,e)}}},kO={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.element,n=this.options;if(n.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(Ot(n.show)&&Ge(t,Sg,n.show,{once:!0}),Qt(t,Sg)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var i=this.viewer;if(St(i,go),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("aria-hidden"),n.transition&&!e){var o=this.shown.bind(this);this.transitioning={abort:function(){_t(i,ti,o),St(i,mi)}},Je(i,Gt),i.initialOffsetWidth=i.offsetWidth,Ge(i,ti,o,{once:!0}),Je(i,mi)}else Je(i,mi),this.shown();return this},hide:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.element,i=this.options;if(i.inline||this.hiding||!(this.isShown||this.showing))return this;if(Ot(i.hide)&&Ge(n,Dg,i.hide,{once:!0}),Qt(n,Dg)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var o=this.viewer,a=this.image,s=function(){St(o,mi),e.hidden()};if(i.transition&&!t){var l=function u(p){p&&p.target===o&&(_t(o,ti,u),e.hidden())},c=function(){jo(o,Gt)?(Ge(o,ti,l),St(o,mi)):s()};this.transitioning={abort:function(){e.viewed&&jo(a,Gt)?_t(a,ti,c):jo(o,Gt)&&_t(o,ti,l)}},this.viewed&&jo(a,Gt)?(Ge(a,ti,c,{once:!0}),this.zoomTo(0,!1,null,!0)):c()}else s();return this},view:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(t=Number(t)||0,this.hiding||this.played||t<0||t>=this.length||this.viewed&&t===this.index)return this;if(!this.isShown)return this.index=t,this.show();this.viewing&&this.viewing.abort();var n=this.element,i=this.options,o=this.title,a=this.canvas,s=this.items[t],l=s.querySelector("img"),c=Ko(l,"originalUrl"),u=l.getAttribute("alt"),p=document.createElement("img");if(It(i.inheritedAttributes,function(m){var b=l.getAttribute(m);b!==null&&p.setAttribute(m,b)}),p.src=c,p.alt=u,Ot(i.view)&&Ge(n,Tg,i.view,{once:!0}),Qt(n,Tg,{originalImage:this.images[t],index:t,image:p})===!1||!this.isShown||this.hiding||this.played)return this;var d=this.items[this.index];d&&(St(d,ul),d.removeAttribute("aria-selected")),Je(s,ul),s.setAttribute("aria-selected",!0),i.focus&&s.focus(),this.image=p,this.viewed=!1,this.index=t,this.imageData={},Je(p,ps),i.loading&&Je(a,ia),a.innerHTML="",a.appendChild(p),this.renderList(),o.innerHTML="";var h=function(){var b=e.imageData,v=Array.isArray(i.title)?i.title[1]:i.title;o.innerHTML=fO(Ot(v)?v.call(e,p,b):"".concat(u," (").concat(b.naturalWidth," \xD7 ").concat(b.naturalHeight,")"))},f,g;return Ge(n,Os,h,{once:!0}),this.viewing={abort:function(){_t(n,Os,h),p.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(p.src="",_t(p,Gn,f),e.timeout&&clearTimeout(e.timeout))}},p.complete?this.load():(Ge(p,Gn,f=function(){_t(p,Eo,g),e.load()},{once:!0}),Ge(p,Eo,g=function(){_t(p,Gn,f),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),St(p,ps),i.loading&&St(e.canvas,ia)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){St(p,ps),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.index-1;return t<0&&(t=e?this.length-1:0),this.view(t),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.length-1,n=this.index+1;return n>t&&(n=e?0:t),this.view(n),this},move:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=this.imageData;return this.moveTo(Go(e)?e:n.x+Number(e),Go(t)?t:n.y+Number(t)),this},moveTo:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=this.element,a=this.options,s=this.imageData;if(e=Number(e),n=Number(n),this.viewed&&!this.played&&a.movable){var l=s.x,c=s.y,u=!1;if(ir(e)?u=!0:e=l,ir(n)?u=!0:n=c,u){if(Ot(a.move)&&Ge(o,Mg,a.move,{once:!0}),Qt(o,Mg,{x:e,y:n,oldX:l,oldY:c,originalEvent:i})===!1)return this;s.x=e,s.y=n,s.left=e,s.top=n,this.moving=!0,this.renderImage(function(){t.moving=!1,Ot(a.moved)&&Ge(o,Og,a.moved,{once:!0}),Qt(o,Og,{x:e,y:n,oldX:l,oldY:c,originalEvent:i},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var t=this,n=this.element,i=this.options,o=this.imageData;if(e=Number(e),ir(e)&&this.viewed&&!this.played&&i.rotatable){var a=o.rotate;if(Ot(i.rotate)&&Ge(n,_g,i.rotate,{once:!0}),Qt(n,_g,{degree:e,oldDegree:a})===!1)return this;o.rotate=e,this.rotating=!0,this.renderImage(function(){t.rotating=!1,Ot(i.rotated)&&Ge(n,Ng,i.rotated,{once:!0}),Qt(n,Ng,{degree:e,oldDegree:a},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=this.element,o=this.options,a=this.imageData;if(e=Number(e),n=Number(n),this.viewed&&!this.played&&o.scalable){var s=a.scaleX,l=a.scaleY,c=!1;if(ir(e)?c=!0:e=s,ir(n)?c=!0:n=l,c){if(Ot(o.scale)&&Ge(i,Pg,o.scale,{once:!0}),Qt(i,Pg,{scaleX:e,scaleY:n,oldScaleX:s,oldScaleY:l})===!1)return this;a.scaleX=e,a.scaleY=n,this.scaling=!0,this.renderImage(function(){t.scaling=!1,Ot(o.scaled)&&Ge(i,Ig,o.scaled,{once:!0}),Qt(i,Ig,{scaleX:e,scaleY:n,oldScaleX:s,oldScaleY:l},{cancelable:!1})})}}return this},zoom:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(i.width*e/i.naturalWidth,t,n),this},zoomTo:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=this.element,s=this.options,l=this.pointers,c=this.imageData,u=c.x,p=c.y,d=c.width,h=c.height,f=c.naturalWidth,g=c.naturalHeight;if(e=Math.max(0,e),ir(e)&&this.viewed&&!this.played&&(o||s.zoomable)){if(!o){var m=Math.max(.01,s.minZoomRatio),b=Math.min(100,s.maxZoomRatio);e=Math.min(Math.max(e,m),b)}if(i)switch(i.type){case"wheel":s.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var v=f*e,C=g*e,k=v-d,_=C-h,N=c.ratio;if(Ot(s.zoom)&&Ge(a,zg,s.zoom,{once:!0}),Qt(a,zg,{ratio:e,oldRatio:N,originalEvent:i})===!1)return this;if(this.zooming=!0,i){var I=gO(this.viewer),L=l&&Object.keys(l).length>0?bO(l):{pageX:i.pageX,pageY:i.pageY};c.x-=k*((L.pageX-I.left-u)/d),c.y-=_*((L.pageY-I.top-p)/h)}else c.x-=k/2,c.y-=_/2;c.left=c.x,c.top=c.y,c.width=v,c.height=C,c.oldRatio=N,c.ratio=e,this.renderImage(function(){t.zooming=!1,Ot(s.zoomed)&&Ge(a,Fg,s.zoomed,{once:!0}),Qt(a,Fg,{ratio:e,oldRatio:N,originalEvent:i},{cancelable:!1})}),n&&this.tooltip()}return this},play:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var n=this.element,i=this.options;if(Ot(i.play)&&Ge(n,Rg,i.play,{once:!0}),Qt(n,Rg)===!1)return this;var o=this.player,a=this.loadImage.bind(this),s=[],l=0,c=0;if(this.played=!0,this.onLoadWhenPlay=a,t&&this.requestFullscreen(t),Je(o,Ho),It(this.items,function(p,d){var h=p.querySelector("img"),f=document.createElement("img");f.src=Ko(h,"originalUrl"),f.alt=h.getAttribute("alt"),f.referrerPolicy=h.referrerPolicy,l+=1,Je(f,Cl),Ns(f,Gt,i.transition),jo(p,ul)&&(Je(f,mi),c=d),s.push(f),Ge(f,Gn,a,{once:!0}),o.appendChild(f)}),ir(i.interval)&&i.interval>0){var u=function p(){e.playing=setTimeout(function(){St(s[c],mi),c+=1,c=c<l?c:0,Je(s[c],mi),p()},i.interval)};l>1&&u()}return this},stop:function(){var e=this;if(!this.played)return this;var t=this.element,n=this.options;if(Ot(n.stop)&&Ge(t,Lg,n.stop,{once:!0}),Qt(t,Lg)===!1)return this;var i=this.player;return this.played=!1,clearTimeout(this.playing),It(i.getElementsByTagName("img"),function(o){_t(o,Gn,e.onLoadWhenPlay)}),St(i,Ho),i.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,t=this.options,n=this.viewer,i=this.image,o=this.list;return!this.isShown||this.played||this.fulled||!t.inline?this:(this.fulled=!0,this.open(),Je(this.button,fg),t.transition&&(St(o,Gt),this.viewed&&St(i,Gt)),Je(n,Up),n.setAttribute("role","dialog"),n.setAttribute("aria-labelledby",this.title.id),n.setAttribute("aria-modal",!0),n.removeAttribute("style"),ii(n,{zIndex:t.zIndex}),t.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=Pn({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){t.transition&&setTimeout(function(){Je(i,Gt),Je(o,Gt)},0)})}),this)},exit:function(){var e=this,t=this.options,n=this.viewer,i=this.image,o=this.list;return!this.isShown||this.played||!this.fulled||!t.inline?this:(this.fulled=!1,this.close(),St(this.button,fg),t.transition&&(St(o,Gt),this.viewed&&St(i,Gt)),t.focus&&this.clearEnforceFocus(),n.removeAttribute("role"),n.removeAttribute("aria-labelledby"),n.removeAttribute("aria-modal"),St(n,Up),ii(n,{zIndex:t.zIndexInline}),this.viewerData=Pn({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){t.transition&&setTimeout(function(){Je(i,Gt),Je(o,Gt)},0)})}),this)},tooltip:function(){var e=this,t=this.options,n=this.tooltipBox,i=this.imageData;return!this.viewed||this.played||!t.tooltip?this:(n.textContent="".concat(Math.round(i.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):t.transition?(this.fading&&Qt(n,ti),Je(n,Ho),Je(n,Cl),Je(n,Gt),n.removeAttribute("aria-hidden"),n.initialOffsetWidth=n.offsetWidth,Je(n,mi)):(Je(n,Ho),n.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){t.transition?(Ge(n,ti,function(){St(n,Ho),St(n,Cl),St(n,Gt),n.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),St(n,mi),e.fading=!0):(St(n,Ho),n.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,e):this.zoomTo(1,!0,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=Pn({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,t=this.element,n=this.options,i=this.isImg;if(i&&!t.parentNode)return this.destroy();var o=[];if(It(i?[t]:t.querySelectorAll("img"),function(c){Ot(n.filter)?n.filter.call(e,c)&&o.push(c):e.getImageURL(c)&&o.push(c)}),!o.length)return this;if(this.images=o,this.length=o.length,this.ready){var a=[];if(It(this.items,function(c,u){var p=c.querySelector("img"),d=o[u];d&&p?(d.src!==p.src||d.alt!==p.alt)&&a.push(u):a.push(u)}),ii(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var s=a.indexOf(this.index);if(s>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-s,this.length-1),0));else{var l=this.items[this.index];Je(l,ul),l.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,t=this.options;return e[ot]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),t.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):t.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),t.inline||_t(e,xa,this.onStart),e[ot]=void 0,this):this}},CO={getImageURL:function(e){var t=this.options.url;return _s(t)?t=e.getAttribute(t):Ot(t)?t=t.call(this,e):t="",t},enforceFocus:function(){var e=this;this.clearEnforceFocus(),Ge(document,mg,this.onFocusin=function(t){var n=e.viewer,i=t.target;if(!(i===document||i===n||n.contains(i))){for(;i;){if(i.getAttribute("tabindex")!==null||i.getAttribute("aria-modal")==="true")return;i=i.parentElement}n.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(_t(document,mg,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;Je(e,hg),e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px")},close:function(){var e=this.body;St(e,hg),e.style.paddingRight=this.initialBodyPaddingRight},shown:function(){var e=this.element,t=this.options,n=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,t.focus&&(n.focus(),this.enforceFocus()),Ot(t.shown)&&Ge(e,Eg,t.shown,{once:!0}),Qt(e,Eg)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,t=this.options,n=this.viewer;t.fucus&&this.clearEnforceFocus(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.close(),this.unbind(),Je(n,go),n.removeAttribute("role"),n.removeAttribute("aria-labelledby"),n.removeAttribute("aria-modal"),n.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.hiding=!1,this.destroyed||(Ot(t.hidden)&&Ge(e,Ag,t.hidden,{once:!0}),Qt(e,Ag,null,{cancelable:!1}))},requestFullscreen:function(e){var t=this.element.ownerDocument;if(this.fulled&&!(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)){var n=t.documentElement;n.requestFullscreen?Ka(e)?n.requestFullscreen(e):n.requestFullscreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):n.mozRequestFullScreen?n.mozRequestFullScreen():n.msRequestFullscreen&&n.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var t=this.options,n=this.pointers,i=n[Object.keys(n)[0]];if(!!i){var o=i.endX-i.startX,a=i.endY-i.startY;switch(this.action){case kl:this.move(o,a,e);break;case Ga:this.zoom(vO(n),!1,e);break;case Jw:{this.action="switched";var s=Math.abs(o);s>1&&s>Math.abs(a)&&(this.pointers={},o>1?this.prev(t.loop):o<-1&&this.next(t.loop));break}}It(n,function(l){l.startX=l.endX,l.startY=l.endY})}},isSwitchable:function(){var e=this.imageData,t=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=t.width&&e.height<=t.height}},SO=Fi.Viewer,EO=function(r){return function(){return r+=1,r}}(-1),Kw=function(){function r(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(K5(this,r),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=Pn({},dg,Ka(t)&&t),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.id=EO(),this.init()}return Z5(r,[{key:"init",value:function(){var t=this,n=this.element,i=this.options;if(!n[ot]){n[ot]=this,i.focus&&!i.keyboard&&(i.focus=!1);var o=n.localName==="img",a=[];if(It(o?[n]:n.querySelectorAll("img"),function(c){Ot(i.filter)?i.filter.call(t,c)&&a.push(c):t.getImageURL(c)&&a.push(c)}),this.isImg=o,this.length=a.length,this.images=a,this.initBody(),Go(document.createElement(ot).style.transition)&&(i.transition=!1),i.inline){var s=0,l=function(){if(s+=1,s===t.length){var u;t.initializing=!1,t.delaying={abort:function(){clearTimeout(u)}},u=setTimeout(function(){t.delaying=!1,t.build()},0)}};this.initializing={abort:function(){It(a,function(u){u.complete||(_t(u,Gn,l),_t(u,Eo,l))})}},It(a,function(c){if(c.complete)l();else{var u,p;Ge(c,Gn,u=function(){_t(c,Eo,p),l()},{once:!0}),Ge(c,Eo,p=function(){_t(c,Gn,u),l()},{once:!0})}})}else Ge(n,xa,this.onStart=function(c){var u=c.target;u.localName==="img"&&(!Ot(i.filter)||i.filter.call(t,u))&&t.view(t.images.indexOf(u))})}}},{key:"build",value:function(){if(!this.ready){var t=this.element,n=this.options,i=t.parentNode,o=document.createElement("div");o.innerHTML=eO;var a=o.querySelector(".".concat(ot,"-container")),s=a.querySelector(".".concat(ot,"-title")),l=a.querySelector(".".concat(ot,"-toolbar")),c=a.querySelector(".".concat(ot,"-navbar")),u=a.querySelector(".".concat(ot,"-button")),p=a.querySelector(".".concat(ot,"-canvas"));if(this.parent=i,this.viewer=a,this.title=s,this.toolbar=l,this.navbar=c,this.button=u,this.canvas=p,this.footer=a.querySelector(".".concat(ot,"-footer")),this.tooltipBox=a.querySelector(".".concat(ot,"-tooltip")),this.player=a.querySelector(".".concat(ot,"-player")),this.list=a.querySelector(".".concat(ot,"-list")),a.id="".concat(ot).concat(this.id),s.id="".concat(ot,"Title").concat(this.id),Je(s,n.title?dl(Array.isArray(n.title)?n.title[0]:n.title):go),Je(c,n.navbar?dl(n.navbar):go),Ns(u,go,!n.button),n.keyboard&&u.setAttribute("tabindex",0),n.backdrop&&(Je(a,"".concat(ot,"-backdrop")),!n.inline&&n.backdrop!=="static"&&Xp(p,fc,"hide")),_s(n.className)&&n.className&&n.className.split(kf).forEach(function(C){Je(a,C)}),n.toolbar){var d=document.createElement("ul"),h=Ka(n.toolbar),f=pl.slice(0,3),g=pl.slice(7,9),m=pl.slice(9);h||Je(l,dl(n.toolbar)),It(h?n.toolbar:pl,function(C,k){var _=h&&Ka(C),N=h?Cf(k):C,I=_&&!Go(C.show)?C.show:C;if(!(!I||!n.zoomable&&f.indexOf(N)!==-1||!n.rotatable&&g.indexOf(N)!==-1||!n.scalable&&m.indexOf(N)!==-1)){var L=_&&!Go(C.size)?C.size:C,q=_&&!Go(C.click)?C.click:C,A=document.createElement("li");n.keyboard&&A.setAttribute("tabindex",0),A.setAttribute("role","button"),Je(A,"".concat(ot,"-").concat(N)),Ot(q)||Xp(A,fc,N),ir(I)&&Je(A,dl(I)),["small","large"].indexOf(L)!==-1?Je(A,"".concat(ot,"-").concat(L)):N==="play"&&Je(A,"".concat(ot,"-large")),Ot(q)&&Ge(A,xa,q),d.appendChild(A)}}),l.appendChild(d)}else Je(l,go);if(!n.rotatable){var b=l.querySelectorAll('li[class*="rotate"]');Je(b,ps),It(b,function(C){l.appendChild(C)})}if(n.inline)Je(u,rO),ii(a,{zIndex:n.zIndexInline}),window.getComputedStyle(i).position==="static"&&ii(i,{position:"relative"}),i.insertBefore(a,t.nextSibling);else{Je(u,tO),Je(a,Up),Je(a,Cl),Je(a,go),ii(a,{zIndex:n.zIndex});var v=n.container;_s(v)&&(v=t.ownerDocument.querySelector(v)),v||(v=this.body),v.appendChild(a)}if(n.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,Ot(n.ready)&&Ge(t,Cg,n.ready,{once:!0}),Qt(t,Cg)===!1){this.ready=!1;return}this.ready&&n.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=SO,r}},{key:"setDefaults",value:function(t){Pn(dg,Ka(t)&&t)}}]),r}();Pn(Kw.prototype,wO,yO,xO,kO,CO);var Uu=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],oa={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(r){return typeof console!="undefined"&&console.warn(r)},getWeek:function(r){var e=new Date(r.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},Ps={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(r){var e=r%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},vn=function(r,e){return e===void 0&&(e=2),("000"+r).slice(e*-1)},Jn=function(r){return r===!0?1:0};function Bg(r,e){var t;return function(){var n=this,i=arguments;clearTimeout(t),t=setTimeout(function(){return r.apply(n,i)},e)}}var Ju=function(r){return r instanceof Array?r:[r]};function en(r,e,t){if(t===!0)return r.classList.add(e);r.classList.remove(e)}function wt(r,e,t){var n=window.document.createElement(r);return e=e||"",t=t||"",n.className=e,t!==void 0&&(n.textContent=t),n}function hl(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Zw(r,e){if(e(r))return r;if(r.parentNode)return Zw(r.parentNode,e)}function gl(r,e){var t=wt("div","numInputWrapper"),n=wt("input","numInput "+r),i=wt("span","arrowUp"),o=wt("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?n.type="number":(n.type="text",n.pattern="\\d*"),e!==void 0)for(var a in e)n.setAttribute(a,e[a]);return t.appendChild(n),t.appendChild(i),t.appendChild(o),t}function Tn(r){try{if(typeof r.composedPath=="function"){var e=r.composedPath();return e[0]}return r.target}catch{return r.target}}var Xu=function(){},hc=function(r,e,t){return t.months[e?"shorthand":"longhand"][r]},DO={D:Xu,F:function(r,e,t){r.setMonth(t.months.longhand.indexOf(e))},G:function(r,e){r.setHours((r.getHours()>=12?12:0)+parseFloat(e))},H:function(r,e){r.setHours(parseFloat(e))},J:function(r,e){r.setDate(parseFloat(e))},K:function(r,e,t){r.setHours(r.getHours()%12+12*Jn(new RegExp(t.amPM[1],"i").test(e)))},M:function(r,e,t){r.setMonth(t.months.shorthand.indexOf(e))},S:function(r,e){r.setSeconds(parseFloat(e))},U:function(r,e){return new Date(parseFloat(e)*1e3)},W:function(r,e,t){var n=parseInt(e),i=new Date(r.getFullYear(),0,2+(n-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+t.firstDayOfWeek),i},Y:function(r,e){r.setFullYear(parseFloat(e))},Z:function(r,e){return new Date(e)},d:function(r,e){r.setDate(parseFloat(e))},h:function(r,e){r.setHours((r.getHours()>=12?12:0)+parseFloat(e))},i:function(r,e){r.setMinutes(parseFloat(e))},j:function(r,e){r.setDate(parseFloat(e))},l:Xu,m:function(r,e){r.setMonth(parseFloat(e)-1)},n:function(r,e){r.setMonth(parseFloat(e)-1)},s:function(r,e){r.setSeconds(parseFloat(e))},u:function(r,e){return new Date(parseFloat(e))},w:Xu,y:function(r,e){r.setFullYear(2e3+parseFloat(e))}},mo={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},ds={Z:function(r){return r.toISOString()},D:function(r,e,t){return e.weekdays.shorthand[ds.w(r,e,t)]},F:function(r,e,t){return hc(ds.n(r,e,t)-1,!1,e)},G:function(r,e,t){return vn(ds.h(r,e,t))},H:function(r){return vn(r.getHours())},J:function(r,e){return e.ordinal!==void 0?r.getDate()+e.ordinal(r.getDate()):r.getDate()},K:function(r,e){return e.amPM[Jn(r.getHours()>11)]},M:function(r,e){return hc(r.getMonth(),!0,e)},S:function(r){return vn(r.getSeconds())},U:function(r){return r.getTime()/1e3},W:function(r,e,t){return t.getWeek(r)},Y:function(r){return vn(r.getFullYear(),4)},d:function(r){return vn(r.getDate())},h:function(r){return r.getHours()%12?r.getHours()%12:12},i:function(r){return vn(r.getMinutes())},j:function(r){return r.getDate()},l:function(r,e){return e.weekdays.longhand[r.getDay()]},m:function(r){return vn(r.getMonth()+1)},n:function(r){return r.getMonth()+1},s:function(r){return r.getSeconds()},u:function(r){return r.getTime()},w:function(r){return r.getDay()},y:function(r){return String(r.getFullYear()).substring(2)}},Qw=function(r){var e=r.config,t=e===void 0?oa:e,n=r.l10n,i=n===void 0?Ps:n,o=r.isMobile,a=o===void 0?!1:o;return function(s,l,c){var u=c||i;return t.formatDate!==void 0&&!a?t.formatDate(s,l,u):l.split("").map(function(p,d,h){return ds[p]&&h[d-1]!=="\\"?ds[p](s,u,t):p!=="\\"?p:""}).join("")}},Gp=function(r){var e=r.config,t=e===void 0?oa:e,n=r.l10n,i=n===void 0?Ps:n;return function(o,a,s,l){if(!(o!==0&&!o)){var c=l||i,u,p=o;if(o instanceof Date)u=new Date(o.getTime());else if(typeof o!="string"&&o.toFixed!==void 0)u=new Date(o);else if(typeof o=="string"){var d=a||(t||oa).dateFormat,h=String(o).trim();if(h==="today")u=new Date,s=!0;else if(t&&t.parseDate)u=t.parseDate(o,d);else if(/Z$/.test(h)||/GMT$/.test(h))u=new Date(o);else{for(var f=void 0,g=[],m=0,b=0,v="";m<d.length;m++){var C=d[m],k=C==="\\",_=d[m-1]==="\\"||k;if(mo[C]&&!_){v+=mo[C];var N=new RegExp(v).exec(o);N&&(f=!0)&&g[C!=="Y"?"push":"unshift"]({fn:DO[C],val:N[++b]})}else k||(v+=".")}u=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),g.forEach(function(I){var L=I.fn,q=I.val;return u=L(u,q,c)||u}),u=f?u:void 0}}if(!(u instanceof Date&&!isNaN(u.getTime()))){t.errorHandler(new Error("Invalid date provided: "+p));return}return s===!0&&u.setHours(0,0,0,0),u}}};function Mn(r,e,t){return t===void 0&&(t=!0),t!==!1?new Date(r.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):r.getTime()-e.getTime()}var AO=function(r,e,t){return r>Math.min(e,t)&&r<Math.max(e,t)},Gu=function(r,e,t){return r*3600+e*60+t},TO=function(r){var e=Math.floor(r/3600),t=(r-e*3600)/60;return[e,t,r-e*3600-t*60]},MO={DAY:864e5};function Ku(r){var e=r.defaultHour,t=r.defaultMinute,n=r.defaultSeconds;if(r.minDate!==void 0){var i=r.minDate.getHours(),o=r.minDate.getMinutes(),a=r.minDate.getSeconds();e<i&&(e=i),e===i&&t<o&&(t=o),e===i&&t===o&&n<a&&(n=r.minDate.getSeconds())}if(r.maxDate!==void 0){var s=r.maxDate.getHours(),l=r.maxDate.getMinutes();e=Math.min(e,s),e===s&&(t=Math.min(l,t)),e===s&&t===l&&(n=r.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:n}}typeof Object.assign!="function"&&(Object.assign=function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!r)throw TypeError("Cannot convert undefined or null to object");for(var n=function(s){s&&Object.keys(s).forEach(function(l){return r[l]=s[l]})},i=0,o=e;i<o.length;i++){var a=o[i];n(a)}return r});var Wr=globalThis&&globalThis.__assign||function(){return Wr=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Wr.apply(this,arguments)},$g=globalThis&&globalThis.__spreadArrays||function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n},OO=300;function _O(r,e){var t={config:Wr(Wr({},oa),or.defaultConfig),l10n:Ps};t.parseDate=Gp({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=g,t._setHoursFromDate=d,t._positionCalendar=Fe,t.changeMonth=He,t.changeYear=pr,t.clear=mr,t.close=xn,t.onMouseOver=Mt,t._createElement=wt,t.createDay=N,t.destroy=kn,t.isEnabled=Br,t.jumpToDate=v,t.updateValue=nr,t.open=vr,t.redraw=$n,t.set=rr,t.setDate=fr,t.toggle=Ut;function n(){t.utils={getDaysInMonth:function(S,T){return S===void 0&&(S=t.currentMonth),T===void 0&&(T=t.currentYear),S===1&&(T%4===0&&T%100!==0||T%400===0)?29:t.l10n.daysInMonth[S]}}}function i(){t.element=t.input=r,t.isOpen=!1,Rt(),Dt(),Kr(),Lt(),n(),t.isMobile||_(),b(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&d(t.config.noCalendar?t.latestSelectedDateObj:void 0),nr(!1)),s();var S=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&S&&Fe(),rt("onReady")}function o(){var S;return((S=t.calendarContainer)===null||S===void 0?void 0:S.getRootNode()).activeElement||document.activeElement}function a(S){return S.bind(t)}function s(){var S=t.config;S.weekNumbers===!1&&S.showMonths===1||S.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var T=(t.days.offsetWidth+1)*S.showMonths;t.daysContainer.style.width=T+"px",t.calendarContainer.style.width=T+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function l(S){if(t.selectedDates.length===0){var T=t.config.minDate===void 0||Mn(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),R=Ku(t.config);T.setHours(R.hours,R.minutes,R.seconds,T.getMilliseconds()),t.selectedDates=[T],t.latestSelectedDateObj=T}S!==void 0&&S.type!=="blur"&&Zr(S);var J=t._input.value;p(),nr(),t._input.value!==J&&t._debouncedChange()}function c(S,T){return S%12+12*Jn(T===t.l10n.amPM[1])}function u(S){switch(S%24){case 0:case 12:return 12;default:return S%12}}function p(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var S=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,T=(parseInt(t.minuteElement.value,10)||0)%60,R=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(S=c(S,t.amPM.textContent));var J=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&Mn(t.latestSelectedDateObj,t.config.minDate,!0)===0,se=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&Mn(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var ge=Gu(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),Le=Gu(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),De=Gu(S,T,R);if(De>Le&&De<ge){var Ve=TO(ge);S=Ve[0],T=Ve[1],R=Ve[2]}}else{if(se){var M=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;S=Math.min(S,M.getHours()),S===M.getHours()&&(T=Math.min(T,M.getMinutes())),T===M.getMinutes()&&(R=Math.min(R,M.getSeconds()))}if(J){var P=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;S=Math.max(S,P.getHours()),S===P.getHours()&&T<P.getMinutes()&&(T=P.getMinutes()),T===P.getMinutes()&&(R=Math.max(R,P.getSeconds()))}}h(S,T,R)}}function d(S){var T=S||t.latestSelectedDateObj;T&&T instanceof Date&&h(T.getHours(),T.getMinutes(),T.getSeconds())}function h(S,T,R){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(S%24,T,R||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=vn(t.config.time_24hr?S:(12+S)%12+12*Jn(S%12===0)),t.minuteElement.value=vn(T),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[Jn(S>=12)]),t.secondElement!==void 0&&(t.secondElement.value=vn(R)))}function f(S){var T=Tn(S),R=parseInt(T.value)+(S.delta||0);(R/1e3>1||S.key==="Enter"&&!/[^\d]/.test(R.toString()))&&pr(R)}function g(S,T,R,J){if(T instanceof Array)return T.forEach(function(se){return g(S,se,R,J)});if(S instanceof Array)return S.forEach(function(se){return g(se,T,R,J)});S.addEventListener(T,R,J),t._handlers.push({remove:function(){return S.removeEventListener(T,R,J)}})}function m(){rt("onChange")}function b(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(R){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+R+"]"),function(J){return g(J,"click",t[R])})}),t.isMobile){fn();return}var S=Bg(Tr,50);if(t._debouncedChange=Bg(m,OO),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&g(t.daysContainer,"mouseover",function(R){t.config.mode==="range"&&Mt(Tn(R))}),g(t._input,"keydown",Cn),t.calendarContainer!==void 0&&g(t.calendarContainer,"keydown",Cn),!t.config.inline&&!t.config.static&&g(window,"resize",S),window.ontouchstart!==void 0?g(window.document,"touchstart",ut):g(window.document,"mousedown",ut),g(window.document,"focus",ut,{capture:!0}),t.config.clickOpens===!0&&(g(t._input,"focus",t.open),g(t._input,"click",t.open)),t.daysContainer!==void 0&&(g(t.monthNav,"click",gn),g(t.monthNav,["keyup","increment"],f),g(t.daysContainer,"click",dr)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var T=function(R){return Tn(R).select()};g(t.timeContainer,["increment"],l),g(t.timeContainer,"blur",l,{capture:!0}),g(t.timeContainer,"click",C),g([t.hourElement,t.minuteElement],["focus","click"],T),t.secondElement!==void 0&&g(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&g(t.amPM,"click",function(R){l(R)})}t.config.allowInput&&g(t._input,"blur",Kt)}function v(S,T){var R=S!==void 0?t.parseDate(S):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),J=t.currentYear,se=t.currentMonth;try{R!==void 0&&(t.currentYear=R.getFullYear(),t.currentMonth=R.getMonth())}catch(ge){ge.message="Invalid date supplied: "+R,t.config.errorHandler(ge)}T&&t.currentYear!==J&&(rt("onYearChange"),U()),T&&(t.currentYear!==J||t.currentMonth!==se)&&rt("onMonthChange"),t.redraw()}function C(S){var T=Tn(S);~T.className.indexOf("arrow")&&k(S,T.classList.contains("arrowUp")?1:-1)}function k(S,T,R){var J=S&&Tn(S),se=R||J&&J.parentNode&&J.parentNode.firstChild,ge=jn("increment");ge.delta=T,se&&se.dispatchEvent(ge)}function _(){var S=window.document.createDocumentFragment();if(t.calendarContainer=wt("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(S.appendChild(Se()),t.innerContainer=wt("div","flatpickr-innerContainer"),t.config.weekNumbers){var T=Ee(),R=T.weekWrapper,J=T.weekNumbers;t.innerContainer.appendChild(R),t.weekNumbers=J,t.weekWrapper=R}t.rContainer=wt("div","flatpickr-rContainer"),t.rContainer.appendChild(ne()),t.daysContainer||(t.daysContainer=wt("div","flatpickr-days"),t.daysContainer.tabIndex=-1),H(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),S.appendChild(t.innerContainer)}t.config.enableTime&&S.appendChild($()),en(t.calendarContainer,"rangeMode",t.config.mode==="range"),en(t.calendarContainer,"animate",t.config.animate===!0),en(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(S);var se=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!se&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var ge=wt("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(ge,t.element),ge.appendChild(t.element),t.altInput&&ge.appendChild(t.altInput),ge.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function N(S,T,R,J){var se=Br(T,!0),ge=wt("span",S,T.getDate().toString());return ge.dateObj=T,ge.$i=J,ge.setAttribute("aria-label",t.formatDate(T,t.config.ariaDateFormat)),S.indexOf("hidden")===-1&&Mn(T,t.now)===0&&(t.todayDateElem=ge,ge.classList.add("today"),ge.setAttribute("aria-current","date")),se?(ge.tabIndex=-1,Wn(T)&&(ge.classList.add("selected"),t.selectedDateElem=ge,t.config.mode==="range"&&(en(ge,"startRange",t.selectedDates[0]&&Mn(T,t.selectedDates[0],!0)===0),en(ge,"endRange",t.selectedDates[1]&&Mn(T,t.selectedDates[1],!0)===0),S==="nextMonthDay"&&ge.classList.add("inRange")))):ge.classList.add("flatpickr-disabled"),t.config.mode==="range"&&Ai(T)&&!Wn(T)&&ge.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&S!=="prevMonthDay"&&J%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(T)+"</span>"),rt("onDayCreate",ge),ge}function I(S){S.focus(),t.config.mode==="range"&&Mt(S)}function L(S){for(var T=S>0?0:t.config.showMonths-1,R=S>0?t.config.showMonths:-1,J=T;J!=R;J+=S)for(var se=t.daysContainer.children[J],ge=S>0?0:se.children.length-1,Le=S>0?se.children.length:-1,De=ge;De!=Le;De+=S){var Ve=se.children[De];if(Ve.className.indexOf("hidden")===-1&&Br(Ve.dateObj))return Ve}}function q(S,T){for(var R=S.className.indexOf("Month")===-1?S.dateObj.getMonth():t.currentMonth,J=T>0?t.config.showMonths:-1,se=T>0?1:-1,ge=R-t.currentMonth;ge!=J;ge+=se)for(var Le=t.daysContainer.children[ge],De=R-t.currentMonth===ge?S.$i+T:T<0?Le.children.length-1:0,Ve=Le.children.length,M=De;M>=0&&M<Ve&&M!=(T>0?Ve:-1);M+=se){var P=Le.children[M];if(P.className.indexOf("hidden")===-1&&Br(P.dateObj)&&Math.abs(S.$i-M)>=Math.abs(T))return I(P)}t.changeMonth(se),A(L(se),0)}function A(S,T){var R=o(),J=un(R||document.body),se=S!==void 0?S:J?R:t.selectedDateElem!==void 0&&un(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&un(t.todayDateElem)?t.todayDateElem:L(T>0?1:-1);se===void 0?t._input.focus():J?q(se,T):I(se)}function z(S,T){for(var R=(new Date(S,T,1).getDay()-t.l10n.firstDayOfWeek+7)%7,J=t.utils.getDaysInMonth((T-1+12)%12,S),se=t.utils.getDaysInMonth(T,S),ge=window.document.createDocumentFragment(),Le=t.config.showMonths>1,De=Le?"prevMonthDay hidden":"prevMonthDay",Ve=Le?"nextMonthDay hidden":"nextMonthDay",M=J+1-R,P=0;M<=J;M++,P++)ge.appendChild(N("flatpickr-day "+De,new Date(S,T-1,M),M,P));for(M=1;M<=se;M++,P++)ge.appendChild(N("flatpickr-day",new Date(S,T,M),M,P));for(var W=se+1;W<=42-R&&(t.config.showMonths===1||P%7!==0);W++,P++)ge.appendChild(N("flatpickr-day "+Ve,new Date(S,T+1,W%se),W,P));var ae=wt("div","dayContainer");return ae.appendChild(ge),ae}function H(){if(t.daysContainer!==void 0){hl(t.daysContainer),t.weekNumbers&&hl(t.weekNumbers);for(var S=document.createDocumentFragment(),T=0;T<t.config.showMonths;T++){var R=new Date(t.currentYear,t.currentMonth,1);R.setMonth(t.currentMonth+T),S.appendChild(z(R.getFullYear(),R.getMonth()))}t.daysContainer.appendChild(S),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&Mt()}}function U(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var S=function(J){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&J<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&J>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var T=0;T<12;T++)if(!!S(T)){var R=wt("option","flatpickr-monthDropdown-month");R.value=new Date(t.currentYear,T).getMonth().toString(),R.textContent=hc(T,t.config.shorthandCurrentMonth,t.l10n),R.tabIndex=-1,t.currentMonth===T&&(R.selected=!0),t.monthsDropdownContainer.appendChild(R)}}}function ie(){var S=wt("div","flatpickr-month"),T=window.document.createDocumentFragment(),R;t.config.showMonths>1||t.config.monthSelectorType==="static"?R=wt("span","cur-month"):(t.monthsDropdownContainer=wt("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),g(t.monthsDropdownContainer,"change",function(Le){var De=Tn(Le),Ve=parseInt(De.value,10);t.changeMonth(Ve-t.currentMonth),rt("onMonthChange")}),U(),R=t.monthsDropdownContainer);var J=gl("cur-year",{tabindex:"-1"}),se=J.getElementsByTagName("input")[0];se.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&se.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(se.setAttribute("max",t.config.maxDate.getFullYear().toString()),se.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var ge=wt("div","flatpickr-current-month");return ge.appendChild(R),ge.appendChild(J),T.appendChild(ge),S.appendChild(T),{container:S,yearElement:se,monthElement:R}}function ke(){hl(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var S=t.config.showMonths;S--;){var T=ie();t.yearElements.push(T.yearElement),t.monthElements.push(T.monthElement),t.monthNav.appendChild(T.container)}t.monthNav.appendChild(t.nextMonthNav)}function Se(){return t.monthNav=wt("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=wt("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=wt("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,ke(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(S){t.__hidePrevMonthArrow!==S&&(en(t.prevMonthNav,"flatpickr-disabled",S),t.__hidePrevMonthArrow=S)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(S){t.__hideNextMonthArrow!==S&&(en(t.nextMonthNav,"flatpickr-disabled",S),t.__hideNextMonthArrow=S)}}),t.currentYearElement=t.yearElements[0],$r(),t.monthNav}function $(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var S=Ku(t.config);t.timeContainer=wt("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var T=wt("span","flatpickr-time-separator",":"),R=gl("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=R.getElementsByTagName("input")[0];var J=gl("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=J.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=vn(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?S.hours:u(S.hours)),t.minuteElement.value=vn(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():S.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(R),t.timeContainer.appendChild(T),t.timeContainer.appendChild(J),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var se=gl("flatpickr-second");t.secondElement=se.getElementsByTagName("input")[0],t.secondElement.value=vn(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():S.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(wt("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(se)}return t.config.time_24hr||(t.amPM=wt("span","flatpickr-am-pm",t.l10n.amPM[Jn((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function ne(){t.weekdayContainer?hl(t.weekdayContainer):t.weekdayContainer=wt("div","flatpickr-weekdays");for(var S=t.config.showMonths;S--;){var T=wt("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(T)}return ue(),t.weekdayContainer}function ue(){if(!!t.weekdayContainer){var S=t.l10n.firstDayOfWeek,T=$g(t.l10n.weekdays.shorthand);S>0&&S<T.length&&(T=$g(T.splice(S,T.length),T.splice(0,S)));for(var R=t.config.showMonths;R--;)t.weekdayContainer.children[R].innerHTML=`
      <span class='flatpickr-weekday'>
        `+T.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function Ee(){t.calendarContainer.classList.add("hasWeeks");var S=wt("div","flatpickr-weekwrapper");S.appendChild(wt("span","flatpickr-weekday",t.l10n.weekAbbreviation));var T=wt("div","flatpickr-weeks");return S.appendChild(T),{weekWrapper:S,weekNumbers:T}}function He(S,T){T===void 0&&(T=!0);var R=T?S:S-t.currentMonth;R<0&&t._hidePrevMonthArrow===!0||R>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=R,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,rt("onYearChange"),U()),H(),rt("onMonthChange"),$r())}function mr(S,T){if(S===void 0&&(S=!0),T===void 0&&(T=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,T===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var R=Ku(t.config),J=R.hours,se=R.minutes,ge=R.seconds;h(J,se,ge)}t.redraw(),S&&rt("onChange")}function xn(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),rt("onClose")}function kn(){t.config!==void 0&&rt("onDestroy");for(var S=t._handlers.length;S--;)t._handlers[S].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var T=t.calendarContainer.parentNode;if(T.lastChild&&T.removeChild(T.lastChild),T.parentNode){for(;T.firstChild;)T.parentNode.insertBefore(T.firstChild,T);T.parentNode.removeChild(T)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(R){try{delete t[R]}catch{}})}function Ar(S){return t.calendarContainer.contains(S)}function ut(S){if(t.isOpen&&!t.config.inline){var T=Tn(S),R=Ar(T),J=T===t.input||T===t.altInput||t.element.contains(T)||S.path&&S.path.indexOf&&(~S.path.indexOf(t.input)||~S.path.indexOf(t.altInput)),se=!J&&!R&&!Ar(S.relatedTarget),ge=!t.config.ignoredFocusElements.some(function(Le){return Le.contains(T)});se&&ge&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&l(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function pr(S){if(!(!S||t.config.minDate&&S<t.config.minDate.getFullYear()||t.config.maxDate&&S>t.config.maxDate.getFullYear())){var T=S,R=t.currentYear!==T;t.currentYear=T||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),R&&(t.redraw(),rt("onYearChange"),U())}}function Br(S,T){var R;T===void 0&&(T=!0);var J=t.parseDate(S,void 0,T);if(t.config.minDate&&J&&Mn(J,t.config.minDate,T!==void 0?T:!t.minDateHasTime)<0||t.config.maxDate&&J&&Mn(J,t.config.maxDate,T!==void 0?T:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(J===void 0)return!1;for(var se=!!t.config.enable,ge=(R=t.config.enable)!==null&&R!==void 0?R:t.config.disable,Le=0,De=void 0;Le<ge.length;Le++){if(De=ge[Le],typeof De=="function"&&De(J))return se;if(De instanceof Date&&J!==void 0&&De.getTime()===J.getTime())return se;if(typeof De=="string"){var Ve=t.parseDate(De,void 0,!0);return Ve&&Ve.getTime()===J.getTime()?se:!se}else if(typeof De=="object"&&J!==void 0&&De.from&&De.to&&J.getTime()>=De.from.getTime()&&J.getTime()<=De.to.getTime())return se}return!se}function un(S){return t.daysContainer!==void 0?S.className.indexOf("hidden")===-1&&S.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(S):!1}function Kt(S){var T=S.target===t._input,R=t._input.value.trimEnd()!==hn();T&&R&&!(S.relatedTarget&&Ar(S.relatedTarget))&&t.setDate(t._input.value,!0,S.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function Cn(S){var T=Tn(S),R=t.config.wrap?r.contains(T):T===t._input,J=t.config.allowInput,se=t.isOpen&&(!J||!R),ge=t.config.inline&&R&&!J;if(S.keyCode===13&&R){if(J)return t.setDate(t._input.value,!0,T===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),T.blur();t.open()}else if(Ar(T)||se||ge){var Le=!!t.timeContainer&&t.timeContainer.contains(T);switch(S.keyCode){case 13:Le?(S.preventDefault(),l(),at()):dr(S);break;case 27:S.preventDefault(),at();break;case 8:case 46:R&&!t.config.allowInput&&(S.preventDefault(),t.clear());break;case 37:case 39:if(!Le&&!R){S.preventDefault();var De=o();if(t.daysContainer!==void 0&&(J===!1||De&&un(De))){var Ve=S.keyCode===39?1:-1;S.ctrlKey?(S.stopPropagation(),He(Ve),A(L(1),0)):A(void 0,Ve)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:S.preventDefault();var M=S.keyCode===40?1:-1;t.daysContainer&&T.$i!==void 0||T===t.input||T===t.altInput?S.ctrlKey?(S.stopPropagation(),pr(t.currentYear-M),A(L(1),0)):Le||A(void 0,M*7):T===t.currentYearElement?pr(t.currentYear-M):t.config.enableTime&&(!Le&&t.hourElement&&t.hourElement.focus(),l(S),t._debouncedChange());break;case 9:if(Le){var P=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(we){return we}),W=P.indexOf(T);if(W!==-1){var ae=P[W+(S.shiftKey?-1:1)];S.preventDefault(),(ae||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(T)&&S.shiftKey&&(S.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&T===t.amPM)switch(S.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],p(),nr();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],p(),nr();break}(R||Ar(T))&&rt("onKeyDown",S)}function Mt(S,T){if(T===void 0&&(T="flatpickr-day"),!(t.selectedDates.length!==1||S&&(!S.classList.contains(T)||S.classList.contains("flatpickr-disabled")))){for(var R=S?S.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),J=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),se=Math.min(R,t.selectedDates[0].getTime()),ge=Math.max(R,t.selectedDates[0].getTime()),Le=!1,De=0,Ve=0,M=se;M<ge;M+=MO.DAY)Br(new Date(M),!0)||(Le=Le||M>se&&M<ge,M<J&&(!De||M>De)?De=M:M>J&&(!Ve||M<Ve)&&(Ve=M));var P=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+T));P.forEach(function(W){var ae=W.dateObj,we=ae.getTime(),he=De>0&&we<De||Ve>0&&we>Ve;if(he){W.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(le){W.classList.remove(le)});return}else if(Le&&!he)return;["startRange","inRange","endRange","notAllowed"].forEach(function(le){W.classList.remove(le)}),S!==void 0&&(S.classList.add(R<=t.selectedDates[0].getTime()?"startRange":"endRange"),J<R&&we===J?W.classList.add("startRange"):J>R&&we===J&&W.classList.add("endRange"),we>=De&&(Ve===0||we<=Ve)&&AO(we,J,R)&&W.classList.add("inRange"))})}}function Tr(){t.isOpen&&!t.config.static&&!t.config.inline&&Fe()}function vr(S,T){if(T===void 0&&(T=t._positionElement),t.isMobile===!0){if(S){S.preventDefault();var R=Tn(S);R&&R.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),rt("onOpen");return}else if(t._input.disabled||t.config.inline)return;var J=t.isOpen;t.isOpen=!0,J||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),rt("onOpen"),Fe(T)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(S===void 0||!t.timeContainer.contains(S.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function vt(S){return function(T){var R=t.config["_"+S+"Date"]=t.parseDate(T,t.config.dateFormat),J=t.config["_"+(S==="min"?"max":"min")+"Date"];R!==void 0&&(t[S==="min"?"minDateHasTime":"maxDateHasTime"]=R.getHours()>0||R.getMinutes()>0||R.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(se){return Br(se)}),!t.selectedDates.length&&S==="min"&&d(R),nr()),t.daysContainer&&($n(),R!==void 0?t.currentYearElement[S]=R.getFullYear().toString():t.currentYearElement.removeAttribute(S),t.currentYearElement.disabled=!!J&&R!==void 0&&J.getFullYear()===R.getFullYear())}}function Rt(){var S=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],T=Wr(Wr({},JSON.parse(JSON.stringify(r.dataset||{}))),e),R={};t.config.parseDate=T.parseDate,t.config.formatDate=T.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(P){t.config._enable=Hn(P)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(P){t.config._disable=Hn(P)}});var J=T.mode==="time";if(!T.dateFormat&&(T.enableTime||J)){var se=or.defaultConfig.dateFormat||oa.dateFormat;R.dateFormat=T.noCalendar||J?"H:i"+(T.enableSeconds?":S":""):se+" H:i"+(T.enableSeconds?":S":"")}if(T.altInput&&(T.enableTime||J)&&!T.altFormat){var ge=or.defaultConfig.altFormat||oa.altFormat;R.altFormat=T.noCalendar||J?"h:i"+(T.enableSeconds?":S K":" K"):ge+(" h:i"+(T.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:vt("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:vt("max")});var Le=function(P){return function(W){t.config[P==="min"?"_minTime":"_maxTime"]=t.parseDate(W,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:Le("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:Le("max")}),T.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,R,T);for(var De=0;De<S.length;De++)t.config[S[De]]=t.config[S[De]]===!0||t.config[S[De]]==="true";Uu.filter(function(P){return t.config[P]!==void 0}).forEach(function(P){t.config[P]=Ju(t.config[P]||[]).map(a)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var De=0;De<t.config.plugins.length;De++){var Ve=t.config.plugins[De](t)||{};for(var M in Ve)Uu.indexOf(M)>-1?t.config[M]=Ju(Ve[M]).map(a).concat(t.config[M]):typeof T[M]=="undefined"&&(t.config[M]=Ve[M])}T.altInputClass||(t.config.altInputClass=re().className+" "+t.config.altInputClass),rt("onParseConfig")}function re(){return t.config.wrap?r.querySelector("[data-input]"):r}function Dt(){typeof t.config.locale!="object"&&typeof or.l10ns[t.config.locale]=="undefined"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=Wr(Wr({},or.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?or.l10ns[t.config.locale]:void 0),mo.D="("+t.l10n.weekdays.shorthand.join("|")+")",mo.l="("+t.l10n.weekdays.longhand.join("|")+")",mo.M="("+t.l10n.months.shorthand.join("|")+")",mo.F="("+t.l10n.months.longhand.join("|")+")",mo.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var S=Wr(Wr({},e),JSON.parse(JSON.stringify(r.dataset||{})));S.time_24hr===void 0&&or.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=Qw(t),t.parseDate=Gp({config:t.config,l10n:t.l10n})}function Fe(S){if(typeof t.config.position=="function")return void t.config.position(t,S);if(t.calendarContainer!==void 0){rt("onPreCalendarPosition");var T=S||t._positionElement,R=Array.prototype.reduce.call(t.calendarContainer.children,function(Pe,qe){return Pe+qe.offsetHeight},0),J=t.calendarContainer.offsetWidth,se=t.config.position.split(" "),ge=se[0],Le=se.length>1?se[1]:null,De=T.getBoundingClientRect(),Ve=window.innerHeight-De.bottom,M=ge==="above"||ge!=="below"&&Ve<R&&De.top>R,P=window.pageYOffset+De.top+(M?-R-2:T.offsetHeight+2);if(en(t.calendarContainer,"arrowTop",!M),en(t.calendarContainer,"arrowBottom",M),!t.config.inline){var W=window.pageXOffset+De.left,ae=!1,we=!1;Le==="center"?(W-=(J-De.width)/2,ae=!0):Le==="right"&&(W-=J-De.width,we=!0),en(t.calendarContainer,"arrowLeft",!ae&&!we),en(t.calendarContainer,"arrowCenter",ae),en(t.calendarContainer,"arrowRight",we);var he=window.document.body.offsetWidth-(window.pageXOffset+De.right),le=W+J>window.document.body.offsetWidth,Xe=he+J>window.document.body.offsetWidth;if(en(t.calendarContainer,"rightMost",le),!t.config.static)if(t.calendarContainer.style.top=P+"px",!le)t.calendarContainer.style.left=W+"px",t.calendarContainer.style.right="auto";else if(!Xe)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=he+"px";else{var Me=et();if(Me===void 0)return;var Ye=window.document.body.offsetWidth,pe=Math.max(0,Ye/2-J/2),ht=".flatpickr-calendar.centerMost:before",yt=".flatpickr-calendar.centerMost:after",st=Me.cssRules.length,xt="{left:"+De.left+"px;right:auto;}";en(t.calendarContainer,"rightMost",!1),en(t.calendarContainer,"centerMost",!0),Me.insertRule(ht+","+yt+xt,st),t.calendarContainer.style.left=pe+"px",t.calendarContainer.style.right="auto"}}}}function et(){for(var S=null,T=0;T<document.styleSheets.length;T++){var R=document.styleSheets[T];if(!!R.cssRules){try{R.cssRules}catch{continue}S=R;break}}return S!=null?S:Sn()}function Sn(){var S=document.createElement("style");return document.head.appendChild(S),S.sheet}function $n(){t.config.noCalendar||t.isMobile||(U(),$r(),H())}function at(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function dr(S){S.preventDefault(),S.stopPropagation();var T=function(P){return P.classList&&P.classList.contains("flatpickr-day")&&!P.classList.contains("flatpickr-disabled")&&!P.classList.contains("notAllowed")},R=Zw(Tn(S),T);if(R!==void 0){var J=R,se=t.latestSelectedDateObj=new Date(J.dateObj.getTime()),ge=(se.getMonth()<t.currentMonth||se.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=J,t.config.mode==="single")t.selectedDates=[se];else if(t.config.mode==="multiple"){var Le=Wn(se);Le?t.selectedDates.splice(parseInt(Le),1):t.selectedDates.push(se)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=se,t.selectedDates.push(se),Mn(se,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(P,W){return P.getTime()-W.getTime()}));if(p(),ge){var De=t.currentYear!==se.getFullYear();t.currentYear=se.getFullYear(),t.currentMonth=se.getMonth(),De&&(rt("onYearChange"),U()),rt("onMonthChange")}if($r(),H(),nr(),!ge&&t.config.mode!=="range"&&t.config.showMonths===1?I(J):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var Ve=t.config.mode==="single"&&!t.config.enableTime,M=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(Ve||M)&&at()}m()}}var tr={locale:[Dt,ue],showMonths:[ke,s,ne],minDate:[v],maxDate:[v],positionElement:[dn],clickOpens:[function(){t.config.clickOpens===!0?(g(t._input,"focus",t.open),g(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function rr(S,T){if(S!==null&&typeof S=="object"){Object.assign(t.config,S);for(var R in S)tr[R]!==void 0&&tr[R].forEach(function(J){return J()})}else t.config[S]=T,tr[S]!==void 0?tr[S].forEach(function(J){return J()}):Uu.indexOf(S)>-1&&(t.config[S]=Ju(T));t.redraw(),nr(!0)}function pn(S,T){var R=[];if(S instanceof Array)R=S.map(function(J){return t.parseDate(J,T)});else if(S instanceof Date||typeof S=="number")R=[t.parseDate(S,T)];else if(typeof S=="string")switch(t.config.mode){case"single":case"time":R=[t.parseDate(S,T)];break;case"multiple":R=S.split(t.config.conjunction).map(function(J){return t.parseDate(J,T)});break;case"range":R=S.split(t.l10n.rangeSeparator).map(function(J){return t.parseDate(J,T)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(S)));t.selectedDates=t.config.allowInvalidPreload?R:R.filter(function(J){return J instanceof Date&&Br(J,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(J,se){return J.getTime()-se.getTime()})}function fr(S,T,R){if(T===void 0&&(T=!1),R===void 0&&(R=t.config.dateFormat),S!==0&&!S||S instanceof Array&&S.length===0)return t.clear(T);pn(S,R),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),v(void 0,T),d(),t.selectedDates.length===0&&t.clear(!1),nr(T),T&&rt("onChange")}function Hn(S){return S.slice().map(function(T){return typeof T=="string"||typeof T=="number"||T instanceof Date?t.parseDate(T,void 0,!0):T&&typeof T=="object"&&T.from&&T.to?{from:t.parseDate(T.from,void 0),to:t.parseDate(T.to,void 0)}:T}).filter(function(T){return T})}function Lt(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var S=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);S&&pn(S,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function Kr(){if(t.input=re(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=wt(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),dn()}function dn(){t._positionElement=t.config.positionElement||t._input}function fn(){var S=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=wt("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=S,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=S==="datetime-local"?"Y-m-d\\TH:i:S":S==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}g(t.mobileInput,"change",function(T){t.setDate(Tn(T).value,!1,t.mobileFormatStr),rt("onChange"),rt("onClose")})}function Ut(S){if(t.isOpen===!0)return t.close();t.open(S)}function rt(S,T){if(t.config!==void 0){var R=t.config[S];if(R!==void 0&&R.length>0)for(var J=0;R[J]&&J<R.length;J++)R[J](t.selectedDates,t.input.value,t,T);S==="onChange"&&(t.input.dispatchEvent(jn("change")),t.input.dispatchEvent(jn("input")))}}function jn(S){var T=document.createEvent("Event");return T.initEvent(S,!0,!0),T}function Wn(S){for(var T=0;T<t.selectedDates.length;T++){var R=t.selectedDates[T];if(R instanceof Date&&Mn(R,S)===0)return""+T}return!1}function Ai(S){return t.config.mode!=="range"||t.selectedDates.length<2?!1:Mn(S,t.selectedDates[0])>=0&&Mn(S,t.selectedDates[1])<=0}function $r(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(S,T){var R=new Date(t.currentYear,t.currentMonth,1);R.setMonth(t.currentMonth+T),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[T].textContent=hc(R.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=R.getMonth().toString(),S.value=R.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function hn(S){var T=S||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(R){return t.formatDate(R,T)}).filter(function(R,J,se){return t.config.mode!=="range"||t.config.enableTime||se.indexOf(R)===J}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function nr(S){S===void 0&&(S=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=hn(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=hn(t.config.altFormat)),S!==!1&&rt("onValueUpdate")}function gn(S){var T=Tn(S),R=t.prevMonthNav.contains(T),J=t.nextMonthNav.contains(T);R||J?He(R?-1:1):t.yearElements.indexOf(T)>=0?T.select():T.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):T.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function Zr(S){S.preventDefault();var T=S.type==="keydown",R=Tn(S),J=R;t.amPM!==void 0&&R===t.amPM&&(t.amPM.textContent=t.l10n.amPM[Jn(t.amPM.textContent===t.l10n.amPM[0])]);var se=parseFloat(J.getAttribute("min")),ge=parseFloat(J.getAttribute("max")),Le=parseFloat(J.getAttribute("step")),De=parseInt(J.value,10),Ve=S.delta||(T?S.which===38?1:-1:0),M=De+Le*Ve;if(typeof J.value!="undefined"&&J.value.length===2){var P=J===t.hourElement,W=J===t.minuteElement;M<se?(M=ge+M+Jn(!P)+(Jn(P)&&Jn(!t.amPM)),W&&k(void 0,-1,t.hourElement)):M>ge&&(M=J===t.hourElement?M-ge-Jn(!t.amPM):se,W&&k(void 0,1,t.hourElement)),t.amPM&&P&&(Le===1?M+De===23:Math.abs(M-De)>Le)&&(t.amPM.textContent=t.l10n.amPM[Jn(t.amPM.textContent===t.l10n.amPM[0])]),J.value=vn(M)}}return i(),t}function aa(r,e){for(var t=Array.prototype.slice.call(r).filter(function(a){return a instanceof HTMLElement}),n=[],i=0;i<t.length;i++){var o=t[i];try{if(o.getAttribute("data-fp-omit")!==null)continue;o._flatpickr!==void 0&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=_O(o,e||{}),n.push(o._flatpickr)}catch(a){console.error(a)}}return n.length===1?n[0]:n}typeof HTMLElement!="undefined"&&typeof HTMLCollection!="undefined"&&typeof NodeList!="undefined"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(r){return aa(this,r)},HTMLElement.prototype.flatpickr=function(r){return aa([this],r)});var or=function(r,e){return typeof r=="string"?aa(window.document.querySelectorAll(r),e):r instanceof Node?aa([r],e):aa(r,e)};or.defaultConfig={};or.l10ns={en:Wr({},Ps),default:Wr({},Ps)};or.localize=function(r){or.l10ns.default=Wr(Wr({},or.l10ns.default),r)};or.setDefaults=function(r){or.defaultConfig=Wr(Wr({},or.defaultConfig),r)};or.parseDate=Gp({});or.formatDate=Qw({});or.compareDates=Mn;typeof jQuery!="undefined"&&typeof jQuery.fn!="undefined"&&(jQuery.fn.flatpickr=function(r){return aa(this,r)});Date.prototype.fp_incr=function(r){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof r=="string"?parseInt(r,10):r))};typeof window!="undefined"&&(window.flatpickr=or);var Hg={exports:{}};(function(r,e){(function(t,n){n(e)})(JD,function(t){var n=typeof window!="undefined"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},i={weekdays:{shorthand:["So","Mo","Di","Mi","Do","Fr","Sa"],longhand:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},months:{shorthand:["Jan","Feb","M\xE4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],longhand:["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},firstDayOfWeek:1,weekAbbreviation:"KW",rangeSeparator:" bis ",scrollTitle:"Zum \xC4ndern scrollen",toggleTitle:"Zum Umschalten klicken",time_24hr:!0};n.l10ns.de=i;var o=n.l10ns;t.German=i,t.default=o,Object.defineProperty(t,"__esModule",{value:!0})})})(Hg,Hg.exports);var e0={exports:{}};(function(r){(function(){var e=function(t){if(!(this instanceof e))return new e(t);if(this.version=1,this.support=typeof File!="undefined"&&typeof Blob!="undefined"&&typeof FileList!="undefined"&&(!!Blob.prototype.webkitSlice||!!Blob.prototype.mozSlice||!!Blob.prototype.slice||!1),!this.support)return!1;var n=this;n.files=[],n.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,fileParameterName:"file",chunkNumberParameterName:"resumableChunkNumber",chunkSizeParameterName:"resumableChunkSize",currentChunkSizeParameterName:"resumableCurrentChunkSize",totalSizeParameterName:"resumableTotalSize",typeParameterName:"resumableType",identifierParameterName:"resumableIdentifier",fileNameParameterName:"resumableFilename",relativePathParameterName:"resumableRelativePath",totalChunksParameterName:"resumableTotalChunks",throttleProgressCallbacks:.5,query:{},headers:{},preprocess:null,method:"multipart",uploadMethod:"POST",testMethod:"GET",prioritizeFirstAndLastChunk:!1,target:"/",testTarget:null,parameterNamespace:"",testChunks:!0,generateUniqueIdentifier:null,getTarget:null,maxChunkRetries:100,chunkRetryInterval:void 0,permanentErrors:[400,404,415,500,501],maxFiles:void 0,withCredentials:!1,xhrTimeout:0,clearInput:!0,chunkFormat:"blob",setChunkTypeFromFile:!1,maxFilesErrorCallback:function(f,g){var m=n.getOpt("maxFiles");alert("Please upload no more than "+m+" file"+(m===1?"":"s")+" at a time.")},minFileSize:1,minFileSizeErrorCallback:function(f,g){alert(f.fileName||f.name+" is too small, please upload files larger than "+i.formatSize(n.getOpt("minFileSize"))+".")},maxFileSize:void 0,maxFileSizeErrorCallback:function(f,g){alert(f.fileName||f.name+" is too large, please upload files less than "+i.formatSize(n.getOpt("maxFileSize"))+".")},fileType:[],fileTypeErrorCallback:function(f,g){alert(f.fileName||f.name+" has type not allowed, please upload files of type "+n.getOpt("fileType")+".")}},n.opts=t||{},n.getOpt=function(f){var g=this;if(f instanceof Array){var m={};return i.each(f,function(b){m[b]=g.getOpt(b)}),m}if(g instanceof h){if(typeof g.opts[f]!="undefined")return g.opts[f];g=g.fileObj}if(g instanceof d){if(typeof g.opts[f]!="undefined")return g.opts[f];g=g.resumableObj}if(g instanceof e)return typeof g.opts[f]!="undefined"?g.opts[f]:g.defaults[f]},n.events=[],n.on=function(f,g){n.events.push(f.toLowerCase(),g)},n.fire=function(){for(var f=[],g=0;g<arguments.length;g++)f.push(arguments[g]);for(var m=f[0].toLowerCase(),g=0;g<=n.events.length;g+=2)n.events[g]==m&&n.events[g+1].apply(n,f.slice(1)),n.events[g]=="catchall"&&n.events[g+1].apply(null,f);m=="fileerror"&&n.fire("error",f[2],f[1]),m=="fileprogress"&&n.fire("progress")};var i={stopEvent:function(f){f.stopPropagation(),f.preventDefault()},each:function(f,g){if(typeof f.length!="undefined"){for(var m=0;m<f.length;m++)if(g(f[m])===!1)return}else for(m in f)if(g(m,f[m])===!1)return},generateUniqueIdentifier:function(f,g){var m=n.getOpt("generateUniqueIdentifier");if(typeof m=="function")return m(f,g);var b=f.webkitRelativePath||f.fileName||f.name,v=f.size;return v+"-"+b.replace(/[^0-9a-zA-Z_-]/img,"")},contains:function(f,g){var m=!1;return i.each(f,function(b){return b==g?(m=!0,!1):!0}),m},formatSize:function(f){return f<1024?f+" bytes":f<1024*1024?(f/1024).toFixed(0)+" KB":f<1024*1024*1024?(f/1024/1024).toFixed(1)+" MB":(f/1024/1024/1024).toFixed(1)+" GB"},getTarget:function(f,g){var m=n.getOpt("target");if(f==="test"&&n.getOpt("testTarget")&&(m=n.getOpt("testTarget")==="/"?n.getOpt("target"):n.getOpt("testTarget")),typeof m=="function")return m(g);var b=m.indexOf("?")<0?"?":"&",v=g.join("&");return m+b+v}},o=function(f){i.stopEvent(f),f.dataTransfer&&f.dataTransfer.items?u(f.dataTransfer.items,f):f.dataTransfer&&f.dataTransfer.files&&u(f.dataTransfer.files,f)},a=function(f){f.preventDefault()};function s(f,g,m,b){var v;if(f.isFile)return f.file(function(C){C.relativePath=g+C.name,m.push(C),b()});if(f.isDirectory?v=f:f instanceof File&&m.push(f),typeof f.webkitGetAsEntry=="function"&&(v=f.webkitGetAsEntry()),v&&v.isDirectory)return c(v,g+v.name+"/",m,b);typeof f.getAsFile=="function"&&(f=f.getAsFile(),f instanceof File&&(f.relativePath=g+f.name,m.push(f))),b()}function l(f,g){if(!f||f.length===0)return g();f[0](function(){l(f.slice(1),g)})}function c(f,g,m,b){var v=f.createReader();v.readEntries(function(C){if(!C.length)return b();l(C.map(function(k){return s.bind(null,k,g,m)}),b)})}function u(f,g){if(!!f.length){n.fire("beforeAdd");var m=[];l(Array.prototype.map.call(f,function(b){return s.bind(null,b,"",m)}),function(){m.length&&p(m,g)})}}var p=function(f,g){var m=0,b=n.getOpt(["maxFiles","minFileSize","maxFileSize","maxFilesErrorCallback","minFileSizeErrorCallback","maxFileSizeErrorCallback","fileType","fileTypeErrorCallback"]);if(typeof b.maxFiles!="undefined"&&b.maxFiles<f.length+n.files.length)if(b.maxFiles===1&&n.files.length===1&&f.length===1)n.removeFile(n.files[0]);else return b.maxFilesErrorCallback(f,m++),!1;var v=[],C=[],k=f.length,_=function(){if(!--k){if(!v.length&&!C.length)return;window.setTimeout(function(){n.fire("filesAdded",v,C)},0)}};i.each(f,function(N){var I=N.name;if(b.fileType.length>0){var L=!1;for(var q in b.fileType){var A="."+b.fileType[q];if(I.toLowerCase().indexOf(A.toLowerCase(),I.length-A.length)!==-1){L=!0;break}}if(!L)return b.fileTypeErrorCallback(N,m++),!1}if(typeof b.minFileSize!="undefined"&&N.size<b.minFileSize)return b.minFileSizeErrorCallback(N,m++),!1;if(typeof b.maxFileSize!="undefined"&&N.size>b.maxFileSize)return b.maxFileSizeErrorCallback(N,m++),!1;function z(U){n.getFromUniqueIdentifier(U)?C.push(N):function(){N.uniqueIdentifier=U;var ie=new d(n,N,U);n.files.push(ie),v.push(ie),ie.container=typeof g!="undefined"?g.srcElement:null,window.setTimeout(function(){n.fire("fileAdded",ie,g)},0)}(),_()}var H=i.generateUniqueIdentifier(N,g);H&&typeof H.then=="function"?H.then(function(U){z(U)},function(){_()}):z(H)})};function d(f,g,m){var b=this;b.opts={},b.getOpt=f.getOpt,b._prevProgress=0,b.resumableObj=f,b.file=g,b.fileName=g.fileName||g.name,b.size=g.size,b.relativePath=g.relativePath||g.webkitRelativePath||b.fileName,b.uniqueIdentifier=m,b._pause=!1,b.container="";var v=m!==void 0,C=function(k,_){switch(k){case"progress":b.resumableObj.fire("fileProgress",b,_);break;case"error":b.abort(),v=!0,b.chunks=[],b.resumableObj.fire("fileError",b,_);break;case"success":if(v)return;b.resumableObj.fire("fileProgress",b),b.isComplete()&&b.resumableObj.fire("fileSuccess",b,_);break;case"retry":b.resumableObj.fire("fileRetry",b);break}};return b.chunks=[],b.abort=function(){var k=0;i.each(b.chunks,function(_){_.status()=="uploading"&&(_.abort(),k++)}),k>0&&b.resumableObj.fire("fileProgress",b)},b.cancel=function(){var k=b.chunks;b.chunks=[],i.each(k,function(_){_.status()=="uploading"&&(_.abort(),b.resumableObj.uploadNextChunk())}),b.resumableObj.removeFile(b),b.resumableObj.fire("fileProgress",b)},b.retry=function(){b.bootstrap();var k=!1;b.resumableObj.on("chunkingComplete",function(){k||b.resumableObj.upload(),k=!0})},b.bootstrap=function(){b.abort(),v=!1,b.chunks=[],b._prevProgress=0;for(var k=b.getOpt("forceChunkSize")?Math.ceil:Math.floor,_=Math.max(k(b.file.size/b.getOpt("chunkSize")),1),N=0;N<_;N++)(function(I){window.setTimeout(function(){b.chunks.push(new h(b.resumableObj,b,I,C)),b.resumableObj.fire("chunkingProgress",b,I/_)},0)})(N);window.setTimeout(function(){b.resumableObj.fire("chunkingComplete",b)},0)},b.progress=function(){if(v)return 1;var k=0,_=!1;return i.each(b.chunks,function(N){N.status()=="error"&&(_=!0),k+=N.progress(!0)}),k=_||k>.99999?1:k,k=Math.max(b._prevProgress,k),b._prevProgress=k,k},b.isUploading=function(){var k=!1;return i.each(b.chunks,function(_){if(_.status()=="uploading")return k=!0,!1}),k},b.isComplete=function(){var k=!1;return i.each(b.chunks,function(_){var N=_.status();if(N=="pending"||N=="uploading"||_.preprocessState===1)return k=!0,!1}),!k},b.pause=function(k){typeof k=="undefined"?b._pause=!b._pause:b._pause=k},b.isPaused=function(){return b._pause},b.resumableObj.fire("chunkingStart",b),b.bootstrap(),this}function h(f,g,m,b){var v=this;v.opts={},v.getOpt=f.getOpt,v.resumableObj=f,v.fileObj=g,v.fileObjSize=g.size,v.fileObjType=g.file.type,v.offset=m,v.callback=b,v.lastProgressCallback=new Date,v.tested=!1,v.retries=0,v.pendingRetry=!1,v.preprocessState=0;var C=v.getOpt("chunkSize");return v.loaded=0,v.startByte=v.offset*C,v.endByte=Math.min(v.fileObjSize,(v.offset+1)*C),v.fileObjSize-v.endByte<C&&!v.getOpt("forceChunkSize")&&(v.endByte=v.fileObjSize),v.xhr=null,v.test=function(){v.xhr=new XMLHttpRequest;var k=function(q){v.tested=!0;var A=v.status();A=="success"?(v.callback(A,v.message()),v.resumableObj.uploadNextChunk()):v.send()};v.xhr.addEventListener("load",k,!1),v.xhr.addEventListener("error",k,!1),v.xhr.addEventListener("timeout",k,!1);var _=[],N=v.getOpt("parameterNamespace"),I=v.getOpt("query");typeof I=="function"&&(I=I(v.fileObj,v)),i.each(I,function(q,A){_.push([encodeURIComponent(N+q),encodeURIComponent(A)].join("="))}),_=_.concat([["chunkNumberParameterName",v.offset+1],["chunkSizeParameterName",v.getOpt("chunkSize")],["currentChunkSizeParameterName",v.endByte-v.startByte],["totalSizeParameterName",v.fileObjSize],["typeParameterName",v.fileObjType],["identifierParameterName",v.fileObj.uniqueIdentifier],["fileNameParameterName",v.fileObj.fileName],["relativePathParameterName",v.fileObj.relativePath],["totalChunksParameterName",v.fileObj.chunks.length]].filter(function(q){return v.getOpt(q[0])}).map(function(q){return[N+v.getOpt(q[0]),encodeURIComponent(q[1])].join("=")})),v.xhr.open(v.getOpt("testMethod"),i.getTarget("test",_)),v.xhr.timeout=v.getOpt("xhrTimeout"),v.xhr.withCredentials=v.getOpt("withCredentials");var L=v.getOpt("headers");typeof L=="function"&&(L=L(v.fileObj,v)),i.each(L,function(q,A){v.xhr.setRequestHeader(q,A)}),v.xhr.send(null)},v.preprocessFinished=function(){v.preprocessState=2,v.send()},v.send=function(){var k=v.getOpt("preprocess");if(typeof k=="function")switch(v.preprocessState){case 0:v.preprocessState=1,k(v);return;case 1:return}if(v.getOpt("testChunks")&&!v.tested){v.test();return}v.xhr=new XMLHttpRequest,v.xhr.upload.addEventListener("progress",function($){new Date-v.lastProgressCallback>v.getOpt("throttleProgressCallbacks")*1e3&&(v.callback("progress"),v.lastProgressCallback=new Date),v.loaded=$.loaded||0},!1),v.loaded=0,v.pendingRetry=!1,v.callback("progress");var _=function($){var ne=v.status();if(ne=="success"||ne=="error")v.callback(ne,v.message()),v.resumableObj.uploadNextChunk();else{v.callback("retry",v.message()),v.abort(),v.retries++;var ue=v.getOpt("chunkRetryInterval");ue!==void 0?(v.pendingRetry=!0,setTimeout(v.send,ue)):v.send()}};v.xhr.addEventListener("load",_,!1),v.xhr.addEventListener("error",_,!1),v.xhr.addEventListener("timeout",_,!1);var N=[["chunkNumberParameterName",v.offset+1],["chunkSizeParameterName",v.getOpt("chunkSize")],["currentChunkSizeParameterName",v.endByte-v.startByte],["totalSizeParameterName",v.fileObjSize],["typeParameterName",v.fileObjType],["identifierParameterName",v.fileObj.uniqueIdentifier],["fileNameParameterName",v.fileObj.fileName],["relativePathParameterName",v.fileObj.relativePath],["totalChunksParameterName",v.fileObj.chunks.length]].filter(function($){return v.getOpt($[0])}).reduce(function($,ne){return $[v.getOpt(ne[0])]=ne[1],$},{}),I=v.getOpt("query");typeof I=="function"&&(I=I(v.fileObj,v)),i.each(I,function($,ne){N[$]=ne});var L=v.fileObj.file.slice?"slice":v.fileObj.file.mozSlice?"mozSlice":v.fileObj.file.webkitSlice?"webkitSlice":"slice",q=v.fileObj.file[L](v.startByte,v.endByte,v.getOpt("setChunkTypeFromFile")?v.fileObj.file.type:""),A=null,z=[],H=v.getOpt("parameterNamespace");if(v.getOpt("method")==="octet")A=q,i.each(N,function($,ne){z.push([encodeURIComponent(H+$),encodeURIComponent(ne)].join("="))});else if(A=new FormData,i.each(N,function($,ne){A.append(H+$,ne),z.push([encodeURIComponent(H+$),encodeURIComponent(ne)].join("="))}),v.getOpt("chunkFormat")=="blob")A.append(H+v.getOpt("fileParameterName"),q,v.fileObj.fileName);else if(v.getOpt("chunkFormat")=="base64"){var U=new FileReader;U.onload=function($){A.append(H+v.getOpt("fileParameterName"),U.result),v.xhr.send(A)},U.readAsDataURL(q)}var ie=i.getTarget("upload",z),ke=v.getOpt("uploadMethod");v.xhr.open(ke,ie),v.getOpt("method")==="octet"&&v.xhr.setRequestHeader("Content-Type","application/octet-stream"),v.xhr.timeout=v.getOpt("xhrTimeout"),v.xhr.withCredentials=v.getOpt("withCredentials");var Se=v.getOpt("headers");typeof Se=="function"&&(Se=Se(v.fileObj,v)),i.each(Se,function($,ne){v.xhr.setRequestHeader($,ne)}),v.getOpt("chunkFormat")=="blob"&&v.xhr.send(A)},v.abort=function(){v.xhr&&v.xhr.abort(),v.xhr=null},v.status=function(){return v.pendingRetry?"uploading":v.xhr?v.xhr.readyState<4?"uploading":v.xhr.status==200||v.xhr.status==201?"success":i.contains(v.getOpt("permanentErrors"),v.xhr.status)||v.retries>=v.getOpt("maxChunkRetries")?"error":(v.abort(),"pending"):"pending"},v.message=function(){return v.xhr?v.xhr.responseText:""},v.progress=function(k){typeof k=="undefined"&&(k=!1);var _=k?(v.endByte-v.startByte)/v.fileObjSize:1;if(v.pendingRetry)return 0;(!v.xhr||!v.xhr.status)&&(_*=.95);var N=v.status();switch(N){case"success":case"error":return 1*_;case"pending":return 0*_;default:return v.loaded/(v.endByte-v.startByte)*_}},this}return n.uploadNextChunk=function(){var f=!1;if(n.getOpt("prioritizeFirstAndLastChunk")&&(i.each(n.files,function(m){if(m.chunks.length&&m.chunks[0].status()=="pending"&&m.chunks[0].preprocessState===0)return m.chunks[0].send(),f=!0,!1;if(m.chunks.length>1&&m.chunks[m.chunks.length-1].status()=="pending"&&m.chunks[m.chunks.length-1].preprocessState===0)return m.chunks[m.chunks.length-1].send(),f=!0,!1}),f)||(i.each(n.files,function(m){if(m.isPaused()===!1&&i.each(m.chunks,function(b){if(b.status()=="pending"&&b.preprocessState===0)return b.send(),f=!0,!1}),f)return!1}),f))return!0;var g=!1;return i.each(n.files,function(m){if(!m.isComplete())return g=!0,!1}),g||n.fire("complete"),!1},n.assignBrowse=function(f,g){typeof f.length=="undefined"&&(f=[f]),i.each(f,function(m){var b;m.tagName==="INPUT"&&m.type==="file"?b=m:(b=document.createElement("input"),b.setAttribute("type","file"),b.style.display="none",m.addEventListener("click",function(){b.style.opacity=0,b.style.display="block",b.focus(),b.click(),b.style.display="none"},!1),m.appendChild(b));var v=n.getOpt("maxFiles");typeof v=="undefined"||v!=1?b.setAttribute("multiple","multiple"):b.removeAttribute("multiple"),g?b.setAttribute("webkitdirectory","webkitdirectory"):b.removeAttribute("webkitdirectory");var C=n.getOpt("fileType");typeof C!="undefined"&&C.length>=1?b.setAttribute("accept",C.map(function(k){return"."+k}).join(",")):b.removeAttribute("accept"),b.addEventListener("change",function(k){p(k.target.files,k);var _=n.getOpt("clearInput");_&&(k.target.value="")},!1)})},n.assignDrop=function(f){typeof f.length=="undefined"&&(f=[f]),i.each(f,function(g){g.addEventListener("dragover",a,!1),g.addEventListener("dragenter",a,!1),g.addEventListener("drop",o,!1)})},n.unAssignDrop=function(f){typeof f.length=="undefined"&&(f=[f]),i.each(f,function(g){g.removeEventListener("dragover",a),g.removeEventListener("dragenter",a),g.removeEventListener("drop",o)})},n.isUploading=function(){var f=!1;return i.each(n.files,function(g){if(g.isUploading())return f=!0,!1}),f},n.upload=function(){if(!n.isUploading()){n.fire("uploadStart");for(var f=1;f<=n.getOpt("simultaneousUploads");f++)n.uploadNextChunk()}},n.pause=function(){i.each(n.files,function(f){f.abort()}),n.fire("pause")},n.cancel=function(){n.fire("beforeCancel");for(var f=n.files.length-1;f>=0;f--)n.files[f].cancel();n.fire("cancel")},n.progress=function(){var f=0,g=0;return i.each(n.files,function(m){f+=m.progress()*m.size,g+=m.size}),g>0?f/g:0},n.addFile=function(f,g){p([f],g)},n.addFiles=function(f,g){p(f,g)},n.removeFile=function(f){for(var g=n.files.length-1;g>=0;g--)n.files[g]===f&&n.files.splice(g,1)},n.getFromUniqueIdentifier=function(f){var g=!1;return i.each(n.files,function(m){m.uniqueIdentifier==f&&(g=m)}),g},n.getSize=function(){var f=0;return i.each(n.files,function(g){f+=g.size}),f},n.handleDropEvent=function(f){o(f)},n.handleChangeEvent=function(f){p(f.target.files,f),f.target.value=""},n.updateQuery=function(f){n.opts.query=f},this};r.exports=e})()})(e0);var NO=e0.exports;window.Swiper=On;window.Viewer=Kw;window.Picker=jb;window.axios=iT;window.flatpickr=or;window.Resumable=NO;window.setupEditor=r=>({editor:null,content:r,element:null,updatedAt:Date.now(),isActive(e,t={},n){return this.editor.isActive(e,t)},can(e){return this.editor.can()[e]()},setLink(){const e=this.editor.getAttributes("link").href,t=window.prompt("URL",e);if(t===null)return;if(t===""){hs.raw(this.editor).chain().focus().extendMarkRange("link").unsetLink().run();return}let n="_self";t.startsWith("http")&&(n="_blank"),hs.raw(this.editor).chain().focus().extendMarkRange("link").setLink({href:t,target:n}).run()},init(e){this.editor=new aE({element:e,extensions:[c2,VD.configure({resizable:!0}),YD,UD,qD,wT.configure({openOnClick:!1,HTMLAttributes:{class:"blue-500"}})],content:this.content,onUpdate:({editor:t})=>{this.content=t.getHTML(),this.updatedAt=Date.now()},onCreate:({editor:t})=>{this.updatedAt=Date.now()},onSelectionUpdate:({editor:t})=>{this.updatedAt=Date.now()},editorProps:{attributes:{class:"prose prose-sm m-5 focus:outline-none border-none p-0"}}})}});window.$modals={show(r){console.log("emit"),window.dispatchEvent(new CustomEvent("modal",{detail:r}))}};hs.plugin(p1);window.Alpine=hs;hs.start();
